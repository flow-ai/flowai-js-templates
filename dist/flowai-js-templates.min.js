var Flowai=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}r.r(e),r.d(e,"Message",(function(){return et})),r.d(e,"Text",(function(){return V})),r.d(e,"Card",(function(){return mt})),r.d(e,"Image",(function(){return Pt})),r.d(e,"Video",(function(){return Mt})),r.d(e,"Audio",(function(){return qt})),r.d(e,"File",(function(){return Wt})),r.d(e,"Buttons",(function(){return Zt})),r.d(e,"Carousel",(function(){return ie})),r.d(e,"List",(function(){return be})),r.d(e,"Location",(function(){return Ee})),r.d(e,"Custom",(function(){return Te})),r.d(e,"Note",(function(){return Le})),r.d(e,"Handover",(function(){return He})),r.d(e,"Action",(function(){return nt})),r.d(e,"Button",(function(){return ct})),r.d(e,"ButtonTrigger",(function(){return at})),r.d(e,"Media",(function(){return st})),r.d(e,"ListItem",(function(){return ue})),r.d(e,"Param",(function(){return m})),r.d(e,"QuickReply",(function(){return S})),r.d(e,"Generic",(function(){return Vr})),r.d(e,"Phone",(function(){return zc})),r.d(e,"Apple",(function(){return Vc})),r.d(e,"Messenger",(function(){return Gc})),r.d(e,"GBM",(function(){return oa})),r.d(e,"RBM",(function(){return Ea})),r.d(e,"WhatsApp",(function(){return Cc})),r.d(e,"Twitter",(function(){return Qc})),r.d(e,"Khoros",(function(){return Yc})),r.d(e,"Line",(function(){return Xc})),r.d(e,"Workflows",(function(){return Zc})),r.d(e,"Webview",(function(){return Ye}));var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,o;return e=t,(r=[{key:"fallback",get:function(){return this._fallback||void 0},set:function(t){if("string"!=typeof t&&void 0!==t)throw new Error("Fallback must be a string or undefined");this._fallback=t}}])&&n(e.prototype,r),o&&n(e,o),t}();function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f(this,r)}}function f(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(f,t);var e,r,n,o=c(f);function f(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),e=o.call(this);var r=t;if("object"===i(r)&&(r=t.text),"string"!=typeof r||!r.length)throw new Error("Text is mandatory");return e.text=r,e}return e=f,(r=[{key:"toJSON",value:function(){return{type:"text",payload:{text:this.text},delay:this.delay||void 0,fallback:this.fallback}}}])&&a(e.prototype,r),n&&a(e,n),f}(o);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=function(){function t(e,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e&&!Array.isArray(e)||0===e.length)throw new Error("fallback is mandatory and must be a string or string array");if(Array.isArray(e))for(var n=0;n<e.length;n++)if("string"!=typeof e[n])throw new Error("fallback array argument can only contain strings");this.fallback=e,"object"===y(r)&&(this.meta=r)}var e,r,n;return e=t,(r=[{key:"addResponse",value:function(t,e){if(!(t instanceof o))throw new Error("addResponse argument must be an instance of a Template");return"number"==typeof e&&(t.delay=e),this.responses||(this.responses=[]),this.responses.push(t),this}},{key:"toJSON",value:function(){var t=this.fallback,e=this.responses,r=this.meta,n=Array.isArray(t),o=t;if(n){for(var i=", ",a=0;a<t.length;a++)if(/[.!?]$/.test(t[a])){i=" ";break}o=t.join(i)}return Array.isArray(e)&&e.length?{fallback:o,responses:e,meta:r}:{fallback:o,responses:n?t.map((function(t){return new l(t)})):[new l(t)]}}}])&&p(e.prototype,r),n&&p(e,n),t}();function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var m=function(){function t(e,r){var n,o;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e&&"object"===b(e)?(n=e.label,o=e.value):(n=e,o=r),!n||"string"!=typeof n||!n.length)throw new Error("Param label should be a valid string");this.label=n,this.value=o}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{label:this.label,value:this.value}}}])&&d(e.prototype,r),n&&d(e,n),t}(),v=function(t){var e=[],r=Array.isArray(t),n=t instanceof m,o="object"===b(t);if(t&&!n&&!o&&!r)throw new Error("param should be an instance of Param or an array of Param instances");if(n)e.push(t);else if(r)for(var i=0;i<t.length;i++)if(t[i]instanceof m)e.push(t[i]);else{if("object"!==b(t[i]))throw new Error("any item inside a param array should be an instance of Param or an object");var a=t[i],u=a.label,c=a.value;u&&c&&e.push(new m({label:u,value:c}))}else o&&t.label&&t.value?e.push(new m(t)):o&&Object.keys(t).forEach((function(r){var n=t[r];Array.isArray(n)&&n.forEach((function(t){e.push(new m(r,t.value))}))}));return e.length?e:void 0},w=function(t){if(Array.isArray(t)){for(var e={},r=0;r<t.length;r++){var n=t[r],o=n.label,i=n.value;e[o]||(e[o]=[]),e[o].push({value:i})}return e}};function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function O(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var S=function(){function t(e){var r=e.label,n=e.type,o=e.value,i=e.param,a=e.params,u=e.tags,c=e.auto,f=e.stepId,s=e.quickReplyId;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"text"===n&&("string"!=typeof r||!r.length))throw new Error("QuickReply label when it has the type text must be as string");if(o&&"string"!=typeof o)throw new Error("QuickReply value must be as string");"string"!=typeof n||0===n.length?this.type="text":this.type=n,c&&f&&(this.auto=c,this.stepId=f),this.params=v(i||a||[]),this.tags=v(u||[]),this.value=o||r,this.label=r,this.quickReplyId=s}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){var t=this.label,e=this.value,r=this.type,n=this.auto,o=this.stepId,i=this.params,a=this.tags;return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){O(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({label:t,value:e,type:r,quickReplyId:this.quickReplyId,params:w(i||[]),tags:w(a||[])},n&&o?{auto:n,stepId:o}:{})}}])&&E(e.prototype,r),n&&E(e,n),t}();function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function j(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function R(t,e){return(R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=M(t);if(e){var o=M(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return A(this,r)}}function A(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&R(t,e)}(i,t);var e,r,n,o=T(i);function i(t){var e,r=t.label,n=t.type,a=t.value,u=t.param,c=t.params,f=t.tags,s=t.auto,l=t.stepId,y=t.title,p=t.description,h=t.startTime,b=t.endTime,d=t.timezone,m=t.quickReplyId;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this,{label:r,type:n,value:a,param:u,params:c,tags:f,auto:s,stepId:l,quickReplyId:m}),"text"===n&&("string"!=typeof r||!r.length))throw new Error("QuickReply label when it has the type text must be as string");if(a&&"string"!=typeof a)throw new Error("QuickReply value must be as string");return"string"!=typeof n||0===n.length?e.type="text":e.type=n,s&&l&&(e.auto=s,e.stepId=l),e.params=v(u||c||[]),e.tags=v(f||[]),e.value=a||r,e.label=r,e.title=y,e.description=p,e.startTime=h,e.endTime=b,e.timezone=d,e.quickReplyId=m,e}return e=i,(r=[{key:"toJSON",value:function(){var t=this.label,e=this.value,r=this.type,n=this.auto,o=this.stepId,i=this.title,a=this.description,u=this.startTime,c=this.endTime,f=this.timezone,s=this.params,l=this.tags;return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_(Object(r),!0).forEach((function(e){j(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({label:t,value:e,type:r,quickReplyId:this.quickReplyId,title:i,description:a,startTime:u,endTime:c,timezone:f,params:w(s||[]),tags:w(l||[])},n&&o?{auto:n,stepId:o}:{})}}])&&k(e.prototype,r),n&&k(e,n),i}(S);function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=U(t);if(e){var o=U(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return q(this,r)}}function q(t,e){return!e||"object"!==C(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function U(t){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var J=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(i,t);var e,r,n,o=B(i);function i(){return N(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"delay",get:function(){return this._delay||0},set:function(t){if("number"!=typeof t)throw new Error("Delay must be a number");if(t<0)throw new Error("Delay must be positive number");this._delay=t}},{key:"addQuickReply",value:function(t){if(!(t instanceof S))throw new Error("addQuickReply argument must be an instance of a QuickReply");return this.quickReplies||(this.quickReplies=[]),this.quickReplies.push(t),this}},{key:"addSuggestedAction",value:function(t){if(!(t instanceof x))throw new Error("addRBMQuickReply argument must be an instance of a RBMQuickReply");return this.quickReplies||(this.quickReplies=[]),this.quickReplies.push(t),this}}])&&I(e.prototype,r),n&&I(e,n),i}(o);function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function H(t,e){return(H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function K(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=z(t);if(e){var o=z(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return W(this,r)}}function W(t,e){return!e||"object"!==F(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function z(t){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var V=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H(t,e)}(i,t);var e,r,n,o=K(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this);var r=t;if("object"===F(r)&&(r=t.text),"string"!=typeof r||!r.length)throw new Error("Text is mandatory");return e.text=r,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"text",payload:{text:this.text,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}}])&&D(e.prototype,r),n&&D(e,n),i}(J);function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function X(t,e){return(X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=tt(t);if(e){var o=tt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return $(this,r)}}function $(t,e){return!e||"object"!==G(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tt(t){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var et=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X(t,e)}(i,t);var e,r,n,o=Z(i);function i(){return Q(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"addQuickReply",value:function(t){if(!(t instanceof S))throw new Error("addQuickReply argument must be an instance of a QuickReply");var e=this.fallback,r=Array.isArray(e);return Array.isArray(this.responses)&&this.responses.length||(this.responses=r?e.map((function(t){return new V(t)})):[new V(e)]),this.responses[this.responses.length-1].addQuickReply(t),this}},{key:"addSuggestedAction",value:function(t){if(!(t instanceof x))throw new Error("addSuggestedAction argument must be an instance of Suggested Action");var e=this.fallback,r=Array.isArray(e);return Array.isArray(this.responses)&&this.responses.length||(this.responses=r?e.map((function(t){return new V(t)})):[new V(e)]),this.responses[this.responses.length-1].addSuggestedAction(t),this}}])&&Y(e.prototype,r),n&&Y(e,n),i}(h);function rt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var nt=function(){function t(e){var r=e.type,n=e.value,o=e.param;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof n||0===n.length)throw new Error("Action value is mandatory");if(this.value=n,"string"!=typeof r||0===r.length)throw new Error("Action type is mandatory");this.type=r,this.params=v(o)}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){var t=this.type,e=this.value,r=this.params;return{type:t,value:e,params:w(r)}}}])&&rt(e.prototype,r),n&&rt(e,n),t}();let ot=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce(((t,e)=>t+=(e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_"),"");function it(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var at=function(){function t(e){var r=e.type,n=e.value;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof r||0===r.trim().length)throw new Error("Invalid type");if("event"!==r&&"flow"!==r)throw new Error("'type' can be only 'event' or 'flow'");if("string"!=typeof n||0===n.trim().length)throw new Error("Invalid type");this.type=r,this.value=n}var e,r,n;return e=t,(r=[{key:"isValidTrigger",value:function(){return"string"==typeof this.type&&0!==this.type.trim().length&&"string"==typeof this.value&&0!==this.value.trim().length}},{key:"toJSON",value:function(){return{type:this.type,value:this.value}}}])&&it(e.prototype,r),n&&it(e,n),t}();function ut(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ct=function(){function t(e){var r=e.type,n=e.label,o=e.value,i=e.param,a=e.newTab,u=e.params,c=e.id,f=e.trigger;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof r||0===r.length)throw new Error("Button type is mandatory");if("string"!=typeof n||0===n.length)throw new Error("Button label is mandatory");if("string"!=typeof o||0===o.length)throw new Error("Button value is mandatory");var s=f instanceof at&&f.isValidTrigger();if(f&&!s)throw new Error("Invalid Trigger type ".concat(f instanceof at));if(f&&s&&"url"!==r&&"phone"!==r)throw new Error("Additional Button Triggers are applicable only to Buttons of type 'url' or 'phone', got ".concat(r));this.id=c,this.id||(this.id="b".concat(ot(8))),this.params=v(i||u),this.type=r,this.label=n,this.value=o,this.newTab=Boolean(a),this.trigger=f}var e,r,n;return e=t,n=[{key:"generateId",value:function(){return"b".concat(ot(8))}}],(r=[{key:"addTrigger",value:function(t){var e=t instanceof at&&t.isValidTrigger();if(t&&!e)throw new Error("Invalid Trigger type ".concat(t instanceof at));if(t&&e&&"url"!==this.type&&"phone"!==this.type)throw new Error("Additional Button Triggers are applicable only to Buttons of type 'url' or 'phone', got ".concat(type));this.trigger=t}},{key:"toJSON",value:function(){var t=this.type,e=this.label,r=this.value,n=this.newTab,o=this.params,i=this.id,a=this.trigger;return{type:t,label:e,value:r,newTab:n,params:w(o),id:i,trigger:a}}}])&&ut(e.prototype,r),n&&ut(e,n),t}();function ft(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var st=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("You should provide an url and type for a Media component");if("string"==typeof e)throw new Error("You should provide an url and type not a string for a Media component");var r=e.url,n=e.type,o=e.thumbnailUrl;if("string"!=typeof r||0===r.length)throw new Error("url is mandatory for a Media component");if("string"!=typeof n||0===n.length)throw new Error("type is mandatory for a Media component");if("video"===n&&o&&"string"!=typeof o)throw new Error("Thumbnail should be of type string");if("video"===n&&o&&o.length&&!/^https?:\/\//.test(o))throw new Error("Thumbnail should be valid url");this.thumbnailUrl=o,this.url=r,this.type=n}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{url:this.url,type:this.type,thumbnailUrl:this.thumbnailUrl}}}])&&ft(e.prototype,r),n&&ft(e,n),t}();function lt(t){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pt(t,e){return(pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ht(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=dt(t);if(e){var o=dt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return bt(this,r)}}function bt(t,e){return!e||"object"!==lt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dt(t){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pt(t,e)}(i,t);var e,r,n,o=ht(i);function i(t){var e,r=t.title,n=t.subtitle,a=t.media,u=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"string"!=typeof r||!r.length)throw new Error("Card title is mandatory");return e.title=r,e.subtitle=n||void 0,e.media=a||void 0,e.action=u||void 0,e}return e=i,(r=[{key:"media",get:function(){return this._media},set:function(t){if(t&&!(t instanceof st))throw new Error("Card media must be an instance of Media");this._media=t}},{key:"action",get:function(){return this._action},set:function(t){if(t&&!(t instanceof nt))throw new Error("Card action must be an instance of Action");this._action=t}},{key:"addButton",value:function(t){if(!(t instanceof ct))throw new Error("Card addButton argument must be an instance of a Button");return this.buttons||(this.buttons=[]),this.buttons.push(t),this}},{key:"toJSON",value:function(){var t=this.title,e=this.subtitle,r=this.media,n=this.action,o=this.buttons,i=this.quickReplies,a=this.delay,u=this.fallback;return this.isShallow?{title:t,subtitle:e,media:r,action:n,buttons:o,quickReplies:i}:{type:"card",payload:{title:t,subtitle:e,media:r,action:n,buttons:o,quickReplies:i},delay:a||void 0,fallback:u}}}])&&yt(e.prototype,r),n&&yt(e,n),i}(J);function vt(t){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function gt(t,e){return(gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=St(t);if(e){var o=St(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Et(this,r)}}function Et(t,e){return!e||"object"!==vt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function St(t){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Pt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gt(t,e)}(i,t);var e,r,n,o=Ot(i);function i(t){var e,r=t.title,n=t.url,a=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"string"!=typeof r||!r.length)throw new Error("Image title is mandatory");if(e.title=r,"string"!=typeof n||!n.length)throw new Error("Image url is mandatory");return e.url=n,e.action=a||void 0,e}return e=i,(r=[{key:"action",get:function(){return this._action},set:function(t){if(t&&!(t instanceof nt))throw new Error("action must be an instance of Action");this._action=t}},{key:"toJSON",value:function(){return{type:"image",payload:{title:this.title,url:this.url,action:this.action,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}}])&&wt(e.prototype,r),n&&wt(e,n),i}(J);function _t(t){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function kt(t,e){return(kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=At(t);if(e){var o=At(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Tt(this,r)}}function Tt(t,e){return!e||"object"!==_t(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function At(t){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Mt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kt(t,e)}(i,t);var e,r,n,o=Rt(i);function i(t){var e,r=t.title,n=t.url,a=t.action,u=t.thumbnailUrl;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"string"!=typeof r||!r.length)throw new Error("Video title is mandatory");if(u&&"string"!=typeof u)throw new Error("Thumbnail should be of type string");if(u&&u.length&&!/^https?:\/\//.test(u))throw new Error("Thumbnail should be valid url");if(e.thumbnailUrl=u,e.title=r,"string"!=typeof n||!n.length)throw new Error("Video url is mandatory");return e.url=n,e.action=a||void 0,e}return e=i,(r=[{key:"action",get:function(){return this._action},set:function(t){if(t&&!(t instanceof nt))throw new Error("action must be an instance of Action");this._action=t}},{key:"toJSON",value:function(){var t=this.title,e=this.url,r=this.action,n=this.quickReplies,o=this.delay,i=this.fallback;return{type:"video",payload:{title:t,url:e,action:r,quickReplies:n,thumbnailUrl:this.thumbnailUrl},delay:o||void 0,fallback:i}}}])&&jt(e.prototype,r),n&&jt(e,n),i}(J);function xt(t){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ct(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Nt(t,e){return(Nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function It(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Bt(t);if(e){var o=Bt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Lt(this,r)}}function Lt(t,e){return!e||"object"!==xt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bt(t){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nt(t,e)}(i,t);var e,r,n,o=It(i);function i(t){var e,r=t.title,n=t.url,a=t.action,u=t.duration;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"string"!=typeof r||!r.length)throw new Error("Audio title is mandatory");if(e.title=r,"string"!=typeof n||!n.length)throw new Error("Audio url is mandatory");return e.url=n,e.duration=u,e.action=a||void 0,e}return e=i,(r=[{key:"action",get:function(){return this._action},set:function(t){if(t&&!(t instanceof nt))throw new Error("Audio action must be an instance of Action");this._action=t}},{key:"toJSON",value:function(){return{type:"audio",payload:{title:this.title,url:this.url,duration:this.duration,action:this.action,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}}])&&Ct(e.prototype,r),n&&Ct(e,n),i}(J);function Ut(t){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ft(t,e){return(Ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Kt(t);if(e){var o=Kt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ht(this,r)}}function Ht(t,e){return!e||"object"!==Ut(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kt(t){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ft(t,e)}(i,t);var e,r,n,o=Dt(i);function i(t){var e,r=t.title,n=t.url,a=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"string"!=typeof n||!n.length)throw new Error("File url is mandatory");return e.title=r,e.url=n,e.action=a||void 0,e}return e=i,(r=[{key:"action",get:function(){return this._action},set:function(t){if(t&&!(t instanceof nt))throw new Error("action must be an instance of Action");this._action=t}},{key:"toJSON",value:function(){return{type:"file",payload:{title:this.title,url:this.url,action:this.action,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}}])&&Jt(e.prototype,r),n&&Jt(e,n),i}(J);function zt(t){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Gt(t,e){return(Gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Xt(t);if(e){var o=Xt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Yt(this,r)}}function Yt(t,e){return!e||"object"!==zt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xt(t){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Zt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gt(t,e)}(i,t);var e,r,n,o=Qt(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"string"!=typeof t||!t.length)throw new Error("Buttons title is mandatory");return e.title=t,e}return e=i,(r=[{key:"addButton",value:function(t){if(!(t instanceof ct))throw new Error("Buttons addButton argument must be an instance of a Button");return this.buttons||(this.buttons=[]),this.buttons.push(t),this}},{key:"toJSON",value:function(){return{type:"buttons",payload:{title:this.title,buttons:this.buttons,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}}])&&Vt(e.prototype,r),n&&Vt(e,n),i}(J);function $t(t){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function te(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ee(t,e){return(ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function re(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=oe(t);if(e){var o=oe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ne(this,r)}}function ne(t,e){return!e||"object"!==$t(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function oe(t){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ie=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ee(t,e)}(i,t);var e,r,n,o=re(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),Array.isArray(t))for(var r=0;r<t.length;r++)e.addCard(t[r]);return e}return e=i,(r=[{key:"addCard",value:function(t){if(!(t instanceof mt))throw new Error("Carousel addCard argument must be an instance of a Card");return this.cards||(this.cards=[]),t.isShallow=!0,this.cards.push(t),this}},{key:"toJSON",value:function(){return{type:"carousel",payload:{cards:this.cards,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}}])&&te(e.prototype,r),n&&te(e,n),i}(J);function ae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ue=function(){function t(e){var r=e.title,n=e.subtitle,o=e.media,i=e.action,a=e.featured;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof r||0===r.length)throw new Error("ListItem title is mandatory");this.title=r,this.subtitle=n||void 0,this.media=o||void 0,this.action=i||void 0,this.featured=a||void 0}var e,r,n;return e=t,(r=[{key:"media",get:function(){return this._media},set:function(t){if(t&&!(t instanceof st))throw new Error("ListItem media must be an instance of Media");this._media=t}},{key:"action",get:function(){return this._action},set:function(t){if(t&&!(t instanceof nt))throw new Error("ListItem action must be an instance of Action");this._action=t}},{key:"addButton",value:function(t){if(!(t instanceof ct))throw new Error("ListItem addButton argument must be an instance of a Button");return this.buttons||(this.buttons=[]),this.buttons.push(t),this}},{key:"toJSON",value:function(){return{title:this.title,subtitle:this.subtitle,media:this.media,action:this.action,buttons:this.buttons,featured:this.featured}}}])&&ae(e.prototype,r),n&&ae(e,n),t}();function ce(t){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function se(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function le(t,e){return(le=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=he(t);if(e){var o=he(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return pe(this,r)}}function pe(t,e){return!e||"object"!==ce(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function he(t){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var be=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&le(t,e)}(i,t);var e,r,n,o=ye(i);function i(){return fe(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"addItem",value:function(t){if(!(t instanceof ue))throw new Error("List addItem argument must be an instance of a ListItem");return t.featured?this.items.splice(0,0,t):this.items.push(t),this}},{key:"items",get:function(){return this._items||(this._items=[]),this._items=this._items.sort((function(t,e){return t.featured&&!e.featured?-1:!t.featured&&e.featured?1:0})),this._items}},{key:"addButton",value:function(t){if(!(t instanceof ct))throw new Error("List addButton argument must be an instance of a Button");return this.buttons||(this.buttons=[]),this.buttons.push(t),this}},{key:"toJSON",value:function(){return{type:"list",payload:{items:this.items,buttons:this.buttons,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}}])&&se(e.prototype,r),n&&se(e,n),i}(J);function de(t){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function me(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ve(t,e){return(ve=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function we(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Oe(t);if(e){var o=Oe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ge(this,r)}}function ge(t,e){return!e||"object"!==de(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Oe(t){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ee=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ve(t,e)}(i,t);var e,r,n,o=we(i);function i(t){var e,r=t.title,n=t.lat,a=t.long,u=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"string"!=typeof r||!r.length)throw new Error("Location title is mandatory");if(e.title=r,!n)throw new Error("Location latitude is mandatory");if(e.lat=n,!a)throw new Error("Location longitude is mandatory");return e.long=a,e.action=u||void 0,e}return e=i,(r=[{key:"action",get:function(){return this._action},set:function(t){if(t&&!(t instanceof nt))throw new Error("Location action must be an instance of Action");this._action=t}},{key:"toJSON",value:function(){return{type:"location",payload:{title:this.title,lat:this.lat,long:this.long,action:this.action,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}}])&&me(e.prototype,r),n&&me(e,n),i}(J);function Se(t){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _e(t,e){return(_e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function je(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Re(t);if(e){var o=Re(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ke(this,r)}}function ke(t,e){return!e||"object"!==Se(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Re(t){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Te=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_e(t,e)}(i,t);var e,r,n,o=je(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"object"!==Se(t))throw new Error("Custom data is mandatory");return e.data=t,e}return e=i,(r=[{key:"toJSON",value:function(){var t=this.data,e=this.quickReplies,r=this.delay,n=this.fallback;return{type:"custom",payload:Object.assign(t,{quickReplies:e}),delay:r||void 0,fallback:n}}}])&&Pe(e.prototype,r),n&&Pe(e,n),i}(J);function Ae(t){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Me(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xe(t,e){return(xe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ce(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ie(t);if(e){var o=Ie(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ne(this,r)}}function Ne(t,e){return!e||"object"!==Ae(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ie(t){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Le=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xe(t,e)}(i,t);var e,r,n,o=Ce(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this);var r=t;if("object"===Ae(r)&&(r=t.note),"string"!=typeof r||!r.length)throw new Error("Note is mandatory");return e.note=r,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"note",payload:{note:this.note},delay:this.delay||void 0,fallback:this.fallback}}}])&&Me(e.prototype,r),n&&Me(e,n),i}(J);function Be(t){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ue(t,e){return(Ue=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Je(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=De(t);if(e){var o=De(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Fe(this,r)}}function Fe(t,e){return!e||"object"!==Be(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function De(t){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var He=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ue(t,e)}(i,t);var e,r,n,o=Je(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"object"!==Be(t))throw new Error("Options should be a an object");var r=t.resetContext,n=t.indefinitePause,a=t.minutesToPause,u=t.secondsToPause,c=t.setBotToPause,f=t.additionalInfo;if("boolean"!=typeof r)throw new Error("Reset context should be a boolean");if(e.resetContext=r,"boolean"!=typeof n)throw new Error("Indefinite pause should be a boolean");if(e.indefinitePause=n,a&&"number"!=typeof a)throw new Error("Minutes to pause should be a number");if(e.minutesToPause=a,u&&"number"!=typeof u)throw new Error("Seconds to pause should be a number");if(e.secondsToPause=u,"boolean"!=typeof c)throw new Error("Set bot to pause should be a boolean");if(e.setBotToPause=c,f&&"string"!=typeof f)throw new Error("Additional info should be a string");return e.additionalInfo=f,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"handover",payload:{resetContext:this.resetContext,indefinitePause:this.indefinitePause,minutesToPause:this.minutesToPause,secondsToPause:this.secondsToPause,setBotToPause:this.setBotToPause,additionalInfo:this.additionalInfo}}}}])&&qe(e.prototype,r),n&&qe(e,n),i}(J);function Ke(t){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function We(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ze(t,e){return(ze=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ve(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Qe(t);if(e){var o=Qe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ge(this,r)}}function Ge(t,e){return!e||"object"!==Ke(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qe(t){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ye=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ze(t,e)}(i,t);var e,r,n,o=Ve(i);function i(t){var e,r=t.label,n=t.url,a=t.id,u=t.trigger;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"string"!=typeof r||!r.length)throw new Error("Webview label is mandatory");if(e.label=r,"string"!=typeof n||!n.length)throw new Error("Webview url is mandatory");return e.trigger=u,e.id=a,e.id||(e.id="b".concat(ot(8))),e.url=n,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"webview",payload:{label:this.label,url:this.url,id:this.id,trigger:this.trigger}}}}])&&We(e.prototype,r),n&&We(e,n),i}(J);function Xe(t){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $e(t,e){return($e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=rr(t);if(e){var o=rr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return er(this,r)}}function er(t,e){return!e||"object"!==Xe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rr(t){return(rr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$e(t,e)}(i,t);var e,r,n,o=tr(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"object"!==Xe(t))throw new Error("Invalid argument provided. Property collection expected");var r=t.speech,n=t.url,a=t.language,u=t.voice;if(void 0===r&&void 0===n)throw new Error("Either speech or URL needs to be provided");if(void 0!==r&&"string"!=typeof r)throw new Error("Speech needs to be text");if(void 0!==n&&("string"!=typeof n||!n.length))throw new Error("Invalid or empty url provided");if(void 0!==u&&-1!==or.depricatedVoices.indexOf(u)&&(u=void 0),void 0!==u&&-1===or.voices.indexOf(u))throw new Error("Unsupported voice specified. You need to choose one of: '".concat(or.voices.join(", "),"'"));if(e.speech=r||void 0,e.url=n||void 0,e.voice=u||"google",void 0!==a)if(1!==or.deprecatedLanguages.indexOf(a))a=void 0;else if("google"===e.voice&&-1===or.languages.google.indexOf(a))throw new Error("Unsupported language provided. Google supports one of: '".concat(or.languages.google.join(", "),"'"));return e.language=a||void 0,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"phone_say",payload:{speech:this.speech,url:this.url,language:this.language,voice:this.voice}}}}])&&Ze(e.prototype,r),n&&Ze(e,n),i}(o),or={voices:["google"],depricatedVoices:["alice","man","woman","polly"],deprecatedLanguages:["da-DK","de-DE","en-AU","en-CA","en-GB","en-IN","en-US","ca-ES","es-ES","es-MX","fi-FI","fr-CA","fr-FR","it-IT","ja-JP","ko-KR","nb-NO","nl-NL","pl-PL","pt-BR","pt-PT","ru-RU","sv-SE","zh-CN","zh-HK","zh-TW","Polly.Mads","Polly.Naja","Polly.Lotte","Polly.Ruben","Polly.Nicole","Polly.Russell","Polly.Amy","Polly.Brian","Polly.Emma","Polly.Amy-Neural","Polly.Emma-Neural","Polly.Brian-Neural","Polly.Raveena","Polly.Ivy","Polly.Joanna","Polly.Joey","Polly.Justin","Polly.Kendra","Polly.Kimberly","Polly.Matthew","Polly.Salli","Polly.Ivy-Neural","Polly.Joanna-Neural*","Polly.Kendra-Neural","Polly.Kimberly-Neural","Polly.Salli-Neural","Polly.Joey-Neural","Polly.Justin-Neural","Polly.Matthew-Neural*","Polly.Geraint","Polly.Celine","Polly.Mathieu","Polly.Chantal","Polly.Hans","Polly.Marlene","Polly.Vicki","Polly.Dora","Polly.Karl","Polly.Carla","Polly.Giorgio","Polly.Mizuki","Polly.Takumi","Polly.Liv","Polly.Jacek","Polly.Jan","Polly.Ewa","Polly.Maja","Polly.Ricardo","Polly.Vitoria","Polly.Camila-Neural","Polly.Cristiano","Polly.Ines","Polly.Carmen","Polly.Maxim","Polly.Tatyana","Polly.Conchita","Polly.Enrique","Polly.Miguel","Polly.Penelope","Polly.Lupe-Neural","Polly.Astrid","Polly.Filiz","Polly.Gwyneth","en","en-gb","es","fr","de"],languages:{google:["FEMALE (af-ZA)","FEMALE (ar-XA)","MALE (ar-XA)","FEMALE (bn-IN)","MALE (bn-IN)","FEMALE (bg-BG)","FEMALE (ca-ES)","FEMALE (yue-HK)","MALE (yue-HK)","FEMALE (cs-CZ)","FEMALE (da-DK)","MALE (da-DK)","FEMALE (nl-NL)","MALE (nl-NL)","FEMALE (en-AU)","MALE (en-AU)","FEMALE (en-IN)","MALE (en-IN)","FEMALE (en-GB)","MALE (en-GB)","MALE (en-US)","FEMALE (en-US)","FEMALE (fil-PH)","MALE (fil-PH)","FEMALE (fi-FI)","FEMALE (fr-CA)","MALE (fr-CA)","FEMALE (fr-FR)","MALE (fr-FR)","FEMALE (de-DE)","MALE (de-DE)","FEMALE (el-GR)","FEMALE (gu-IN)","MALE (gu-IN)","FEMALE (hi-IN)","MALE (hi-IN)","FEMALE (hu-HU)","FEMALE (is-IS)","FEMALE (id-ID)","MALE (id-ID)","FEMALE (it-IT)","MALE (it-IT)","FEMALE (ja-JP)","MALE (ja-JP)","FEMALE (kn-IN)","MALE (kn-IN)","FEMALE (ko-KR)","MALE (ko-KR)","MALE (lv-LV)","FEMALE (ml-IN)","MALE (ml-IN)","FEMALE (cmn-CN)","MALE (cmn-CN)","FEMALE (cmn-TW)","MALE (cmn-TW)","FEMALE (nb-NO)","MALE (nb-NO)","FEMALE (pl-PL)","MALE (pl-PL)","FEMALE (pt-BR)","FEMALE (pt-PT)","MALE (pt-PT)","FEMALE (ro-RO)","FEMALE (ru-RU)","MALE (ru-RU)","FEMALE (sr-RS)","FEMALE (sk-SK)","FEMALE (es-ES)","MALE (es-ES)","FEMALE (es-US)","MALE (es-US)","FEMALE (sv-SE)","FEMALE (ta-IN)","MALE (ta-IN)","FEMALE (te-IN)","MALE (te-IN)","FEMALE (th-TH)","FEMALE (tr-TR)","MALE (tr-TR)","FEMALE (uk-UA)","FEMALE (vi-VN)","MALE (vi-VN)"]}},ir=nr;function ar(t){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ur(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function cr(t,e){return(cr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=lr(t);if(e){var o=lr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return sr(this,r)}}function sr(t,e){return!e||"object"!==ar(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lr(t){return(lr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cr(t,e)}(i,t);var e,r,n,o=fr(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return e=i,(r=[{key:"toJSON",value:function(){return{type:"phone_hangup",payload:{}}}}])&&ur(e.prototype,r),n&&ur(e,n),i}(o);function pr(t){return(pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function br(t,e){return(br=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=vr(t);if(e){var o=vr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return mr(this,r)}}function mr(t,e){return!e||"object"!==pr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vr(t){return(vr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&br(t,e)}(i,t);var e,r,n,o=dr(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this);var r=t;if("object"===pr(r)&&(r=t.seconds),"number"!=typeof r||r<0)throw new Error("Seconds need to be a positive number");return e.seconds=r,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"phone_pause",payload:{seconds:this.seconds}}}}])&&hr(e.prototype,r),n&&hr(e,n),i}(o);function gr(t){return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Or(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Er(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Or(Object(r),!0).forEach((function(e){Sr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Or(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Sr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _r(t,e,r){return(_r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Tr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function jr(t,e){return(jr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Tr(t);if(e){var o=Tr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Rr(this,r)}}function Rr(t,e){return!e||"object"!==gr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tr(t){return(Tr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ar=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jr(t,e)}(i,t);var e,r,n,o=kr(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this,t);var r=t.hints,n=t.timeout,a=t.repeat,u=t.finishOnKey,c=t.numDigits,f=t.speechTimeout,s=t.preTone,l=t.postTone,y=t.tone,p=t.expected;if("any"===p&&(p="speech"),void 0!==p&&-1===Mr.expected.indexOf(p))throw new Error('Invalid "expected" provided. Needs to be one of: '.concat(Mr.expected.join(", ")));if(void 0!==r&&"string"!=typeof r)throw new Error("hints needs to be a valid string");if(void 0!==n&&("number"!=typeof n||n<0))throw new Error("timeout needs to be a positive number of seconds");if(void 0!==a&&("number"!=typeof a||a<0))throw new Error("repeat needs to be a positive number");if(void 0!==u&&("string"!=typeof u||-1===Mr.keys.indexOf(u)&&""!==u))throw new Error("finishOnKey needs to one of the following ".concat(Mr.keys.join(", ")," or ''"));if(void 0!==c&&("number"!=typeof c||c<0))throw new Error("numDigits needs to be a positive number");if(void 0!==f&&("number"!=typeof f||f<0))throw new Error("speechTimeout needs to be a positive number");return e.expected=p||"speech",e.hints=r||void 0,e.timeout=n||void 0,e.repeat=a||1,e.finishOnKey=u||void 0,e.numDigits=c||void 0,e.speechTimeout=f||void 0,e.preTone=s,e.postTone=l,e.tone=y,e}return e=i,(r=[{key:"toJSON",value:function(){var t=this.expected,e=this.hints,r=this.timeout,n=this.repeat,o=this.finishOnKey,a=this.numDigits,u=this.speechTimeout,c=this.preTone,f=this.postTone,s=this.tone;return{type:"phone_ask",payload:Er(Er({},_r(Tr(i.prototype),"toJSON",this).call(this).payload),{},{expected:t,hints:e,timeout:r,repeat:n,finishOnKey:o,numDigits:a,speechTimeout:u,preTone:c,postTone:f,tone:s})}}}])&&Pr(e.prototype,r),n&&Pr(e,n),i}(ir),Mr={expected:["speech","digits"],keys:"0123456789#*".split("")},xr=Ar;function Cr(t){return(Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ir(t,e){return(Ir=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Lr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=qr(t);if(e){var o=qr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Br(this,r)}}function Br(t,e){return!e||"object"!==Cr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qr(t){return(qr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ur=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ir(t,e)}(i,t);var e,r,n,o=Lr(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this);var r=t;if("object"===Cr(r)&&(r=t.phoneNumber),"string"!=typeof r||!r.length)throw new Error("Phone number is mandatory");return e.phoneNumber=r,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"phone_dial",payload:{phoneNumber:this.phoneNumber}}}}])&&Nr(e.prototype,r),n&&Nr(e,n),i}(o);function Jr(t){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Dr(t,e){return(Dr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Wr(t);if(e){var o=Wr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Kr(this,r)}}function Kr(t,e){return!e||"object"!==Jr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wr(t){return(Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dr(t,e)}(i,t);var e,r,n,o=Hr(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"object"!==Jr(t))throw new Error("Options should be an object");var r=t.url;if(r&&"string"!=typeof r)throw new Error("Url should be string");return e.url=r,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"phone_handover",payload:{url:this.url}}}}])&&Fr(e.prototype,r),n&&Fr(e,n),i}(J),Vr={Message:et,Text:V,Card:mt,Image:Pt,Video:Mt,Audio:qt,File:Wt,Buttons:Zt,Carousel:ie,List:be,Location:Ee,Custom:Te,Note:Le,Handover:He,Action:nt,Button:ct,Media:st,ListItem:ue,Param:m,QuickReply:S,ButtonTrigger:at,Webview:Ye};function Gr(t){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Yr=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==Gr(e))throw new Error("To create an ImageAsset you need a url and mimeType");var r=e.url,n=e.mimeType;if("string"!=typeof r||!r.length)throw new Error("ImageAsset url is required");if("string"!=typeof n||!n.length)throw new Error("ImageAsset mimeType is required");this.url=r,this.mimeType=n}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{type:"image",url:this.url,mimeType:this.mimeType}}}])&&Qr(e.prototype,r),n&&Qr(e,n),t}();function Xr(t){return(Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var $r=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==Xr(e))throw new Error("To create a VideoAsset you need a url and mimeType");var r=e.url,n=e.mimeType;if("string"!=typeof r||!r.length)throw new Error("VideoAsset url is required");if("string"!=typeof n||!n.length)throw new Error("VideoAsset mimeType is required");this.url=r,this.mimeType=n}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{type:"video",url:this.url,mimeType:this.mimeType}}}])&&Zr(e.prototype,r),n&&Zr(e,n),t}();function tn(t){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function en(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var rn=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==tn(e))throw new Error("To create a InteractiveMessage you at least need a title");var r=e.title,n=e.subtitle,o=e.secondarySubtitle,i=e.tertiarySubtitle,a=e.image,u=e.imageTitle,c=e.imageSubtitle,f=e.style;if("string"!=typeof r)throw new Error("InteractiveMessage title is required");this.title=r,this.subtitle=n,this.secondarySubtitle=o,this.tertiarySubtitle=i,this.image=a,this.imageTitle=u,this.imageSubtitle=c,this.style=f}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{title:this.title,subtitle:this.subtitle,secondarySubtitle:this.secondarySubtitle,tertiarySubtitle:this.tertiarySubtitle,image:this.image,imageTitle:this.imageTitle,imageSubtitle:this.imageSubtitle,style:this.style}}}])&&en(e.prototype,r),n&&en(e,n),t}();function nn(t){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function on(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var an=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==nn(e))throw new Error("To create a LocationItem you at least need a title");var r=e.latitude,n=e.longitude,o=e.radius,i=e.title;if(void 0!==r){var a=parseFloat(r);if(isNaN(a))throw new Error("Provided latitude must be a float");this.latitude=a}if(void 0!==n){var u=parseFloat(n);if(isNaN(u))throw new Error("Provided longitude must be a float");this.longitude=u}if(void 0!==o){var c=parseFloat(o);if(isNaN(c))throw new Error("Provided radius must be a float");this.radius=c}if("string"!=typeof i)throw new Error("LocationItem title is required");if(!i.length)throw new Error("Provided LocationItem title is empty");this.title=i||void 0}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{latitude:this.latitude,longitude:this.longitude,radius:this.radius,style:this.style,title:this.title,subtitle:this.subtitle}}}])&&on(e.prototype,r),n&&on(e,n),t}();function un(t){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var fn=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==un(e))throw new Error("To create a TimeItem you at least need a startTime");var r=e.duration,n=e.identifier,o=e.startTime,i=parseInt(r);if(isNaN(i)||i<0)throw new Error("Provided TimeItem duration must be a positive number");if(this.duration=i,void 0!==n&&"string"!=typeof n)throw new Error("Provided TimeItem identifier must be unique string");if("string"!=typeof o&&!(o instanceof Date))throw new Error("TimeItem startTime is required and must be a valid UTC date time");o instanceof Date?this.startTime=o.toISOString():this.startTime=o}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{latitude:this.latitude,longitude:this.longitude,duration:this.duration,style:this.style,startTime:this.startTime,substartTime:this.substartTime}}}])&&cn(e.prototype,r),n&&cn(e,n),t}();function sn(t){return(sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ln(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var yn=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==sn(e))throw new Error("To create a EventItem you at least need a title");var r=e.identifier,n=e.image,o=e.location,i=e.timeslots,a=e.timezoneOffset,u=e.title;if(void 0!==r&&"string"!=typeof r)throw new Error("Provided EventItem identifier must be unique string");if(void 0!==o&&!(o instanceof an))throw new Error("Provided location must be an instance of Apple.LocationItem");if(Array.isArray(i))for(var c=0;c<i.length;c++)this.addTimeslot(i[c]);if(void 0!==a){var f=parseInt(a);if(isNaN(f))throw new Error("Provided timezoneOffset must be an integer");this.timezoneOffset=f}if("string"!=typeof u)throw new Error("EventItem title is required");if(!u.length)throw new Error("Provided EventItem title is empty");this.identifier=r||Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),this.image=n||void 0,this.location=o||void 0,this.title=u||void 0}var e,r,n;return e=t,(r=[{key:"addTimeslot",value:function(t){if(!(t instanceof fn))throw new Error("EventItem addTimeslot argument must be an instance of a Apple.TimeItem");return this.timeslots||(this.timeslots=[]),this.timeslots.push(t),this}},{key:"toJSON",value:function(){return{identifier:this.identifier,image:this.image,location:this.location,timeslots:this.timeslots,timezoneOffset:this.timezoneOffset,title:this.title}}}])&&ln(e.prototype,r),n&&ln(e,n),t}();function pn(t){return(pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var bn=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==pn(e))throw new Error("To create a ListPickerItem you at least need a title");var r=e.identifier,n=e.image,o=e.order,i=e.style,a=e.title,u=e.subtitle,c=e.params;if(void 0!==r&&"string"!=typeof r)throw new Error("Provided ListPickerItem identifier must be unique string");if(void 0!==o&&"number"!=typeof o)throw new Error("Provided ListPickerItem order must be number");if("string"!=typeof a)throw new Error("ListPickerItem title is required");if(!a.length)throw new Error("Provided ListPickerItem title is empty");this.identifier=r||Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),this.image=n||void 0,this.order=o||void 0,this.style=i||void 0,this.title=a||void 0,this.subtitle=u||void 0,this.params=c||[]}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{identifier:this.identifier,image:this.image,order:this.order,style:this.style,title:this.title,subtitle:this.subtitle,params:this.params}}}])&&hn(e.prototype,r),n&&hn(e,n),t}();function dn(t){return(dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var vn=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==dn(e))throw new Error("To create a ListPickerSection you at least need a title");var r=e.items,n=e.multipleSelection,o=e.order,i=e.title;if(void 0!==o&&"number"!=typeof o)throw new Error("Provided ListPickerSection order must be number");if("string"!=typeof i)throw new Error("ListPickerSection title is required");if(!i.length)throw new Error("Provided ListPickerSection title is empty");if(null!=n&&"boolean"!=typeof n)throw new Error("ListPickerSection multipleSelection must be a boolean, true or false");if(Array.isArray(r))for(var a=0;a<r.length;a++)this.addItem(r[a]);this.order=o||void 0,this.title=i||void 0,this.multipleSelection=n||void 0}var e,r,n;return e=t,(r=[{key:"addItem",value:function(t){if(!(t instanceof bn))throw new Error("ListPickerSection addItem argument must be an instance of a Apple.ListPickerItem");return this.items||(this.items=[]),this.items.push(t),this}},{key:"toJSON",value:function(){return{items:this.items,order:this.order,title:this.title}}}])&&mn(e.prototype,r),n&&mn(e,n),t}();function wn(t){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function On(t,e){return(On=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function En(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Pn(t);if(e){var o=Pn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Sn(this,r)}}function Sn(t,e){return!e||"object"!==wn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pn(t){return(Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _n=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&On(t,e)}(i,t);var e,r,n,o=En(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"object"!==wn(t))throw new Error("To create a RichLink you need to provide at least a title and url");var r=t.title,n=t.url,a=t.assets;if(Array.isArray(a))for(var u=0;u<a.length;u++)e.addAsset(a[u]);return e.title=r,e.url=n,e}return e=i,(r=[{key:"addAsset",value:function(t){if(!(t instanceof Yr||t instanceof $r))throw new Error("RichLink asset must be an instance of a Apple.ImageAsset or Apple.VideoAsset");return this.assets||(this.assets=[]),this.assets.push(t),this}},{key:"toJSON",value:function(){return{type:"apple_rich_link",payload:{title:this.title,url:this.url,assets:this.assets},delay:this.delay||void 0,fallback:this.fallback}}}])&&gn(e.prototype,r),n&&gn(e,n),i}(o);function jn(t){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Rn(t,e){return(Rn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Mn(t);if(e){var o=Mn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return An(this,r)}}function An(t,e){return!e||"object"!==jn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Mn(t){return(Mn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rn(t,e)}(i,t);var e,r,n,o=Tn(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"object"!==jn(t))throw new Error("To create a ListPicker you need to provide at least a title");var r=t.replyMessage,n=t.receivedMessage,a=t.sections,u=t.multipleSelection,c=t.triggerAction;if(!(r instanceof rn))throw new Error("ListPicker requires a replyMessage of the type InteractiveMessage");if(!(n instanceof rn))throw new Error("ListPicker requires a receivedMessage of the type InteractiveMessage");if(Array.isArray(a))for(var f=0;f<a.length;f++)e.addSection(a[f]);if("boolean"!=typeof u&&void 0!==u)throw new Error("ListPicker multipleSelection must be boolean value");return e.multipleSelection=u,e.replyMessage=r,e.receivedMessage=n,e.triggerAction=c,e}return e=i,(r=[{key:"addSection",value:function(t){if(!(t instanceof vn))throw new Error("ListPicker addSection argument must be an instance of a Apple.ListPickerSection");return this.sections||(this.sections=[]),this.sections.push(t),this}},{key:"toJSON",value:function(){return{type:"apple_list_picker",payload:{replyMessage:this.replyMessage,receivedMessage:this.receivedMessage,multipleSelection:this.multipleSelection,sections:this.sections,triggerAction:this.triggerAction},delay:this.delay||void 0,fallback:this.fallback}}}])&&kn(e.prototype,r),n&&kn(e,n),i}(o);function Cn(t){return(Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function In(t,e){return(In=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ln(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=qn(t);if(e){var o=qn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Bn(this,r)}}function Bn(t,e){return!e||"object"!==Cn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qn(t){return(qn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Un=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&In(t,e)}(i,t);var e,r,n,o=Ln(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"object"!==Cn(t))throw new Error("To create a TimePicker you need to provide at least a title");var r=t.replyMessage,n=t.receivedMessage,a=t.event;if(!(r instanceof rn))throw new Error("TimePicker requires a replyMessage of the type InteractiveMessage");if(!(n instanceof rn))throw new Error("TimePicker requires a receivedMessage of the type InteractiveMessage");if(!(a instanceof yn))throw new Error("TimePicker requires a event of the type EventItem");return e.replyMessage=r,e.receivedMessage=n,e.event=a,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"apple_time_picker",payload:{replyMessage:this.replyMessage,receivedMessage:this.receivedMessage,event:this.event},delay:this.delay||void 0,fallback:this.fallback}}}])&&Nn(e.prototype,r),n&&Nn(e,n),i}(o);function Jn(t){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Dn(t,e){return(Dn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Wn(t);if(e){var o=Wn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Kn(this,r)}}function Kn(t,e){return!e||"object"!==Jn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wn(t){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dn(t,e)}(i,t);var e,r,n,o=Hn(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"object"!==Jn(t))throw new Error("To create a CustomInteractiveData you need to provide at least a title");var r=t.replyMessage,n=t.receivedMessage,a=t.appIcon,u=t.appId,c=t.appName,f=t.url,s=t.useLiveLayout;if("string"!=typeof a||!a.length)throw new Error("CustomInteractiveData requires a valid appIcon");if("string"!=typeof u||!u.length)throw new Error("CustomInteractiveData requires a valid appId");if("string"!=typeof c||!c.length)throw new Error("CustomInteractiveData requires a valid appName");if("string"!=typeof f||!f.length)throw new Error("CustomInteractiveData requires a valid url");if("boolean"!=typeof s)throw new Error("CustomInteractiveData requires a valid boolean value for useLiveLayout");if(!(n instanceof rn))throw new Error("CustomInteractiveData requires a receivedMessage of the type InteractiveMessage");if(!(r instanceof rn))throw new Error("CustomInteractiveData requires a replyMessage of the type InteractiveMessage");return e.replyMessage=r,e.receivedMessage=n,e.appIcon=a,e.appId=u,e.appName=c,e.url=f,e.useLiveLayout=s,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"apple_custom_interactive_data",payload:{replyMessage:this.replyMessage,receivedMessage:this.receivedMessage,appIcon:this.appIcon,appId:this.appId,appName:this.appName,url:this.url,useLiveLayout:this.useLiveLayout},delay:this.delay||void 0,fallback:this.fallback}}}])&&Fn(e.prototype,r),n&&Fn(e,n),i}(o);function Vn(t){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Qn=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==Vn(e))throw new Error("To create an AuthRequest you need to provide all required options");var r=e.clientSecret,n=e.responseEncryptionKey,o=e.responseType,i=e.scope,a=e.state;if(Array.isArray(i))for(var u=0;u<i.length;u++)this.addScope(i[u]);if("string"!=typeof r||!r.length)throw new Error("AuthRequest requires a valid clientSecret");if("string"!=typeof n||!n.length)throw new Error("AuthRequest requires a valid responseEncryptionKey");if("string"!=typeof o||!o.length)throw new Error("AuthRequest requires a valid responseType");if("string"!=typeof a||!a.length)throw new Error("AuthRequest requires a valid state");this.clientSecret=r,this.responseEncryptionKey=n,this.responseType=o,this.state=a}var e,r,n;return e=t,(r=[{key:"addScope",value:function(t){if("string"!=typeof t||!t.length)throw new Error("AuthRequest scope must be a valid string");return this.scope||(this.scope=[]),this.scope.push(t),this}},{key:"toJSON",value:function(){return{clientSecret:this.clientSecret,responseEncryptionKey:this.responseEncryptionKey,responseType:this.responseType,scope:this.scope,state:this.state}}}])&&Gn(e.prototype,r),n&&Gn(e,n),t}();function Yn(t){return(Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Zn(t,e){return(Zn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=eo(t);if(e){var o=eo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return to(this,r)}}function to(t,e){return!e||"object"!==Yn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function eo(t){return(eo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ro=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zn(t,e)}(i,t);var e,r,n,o=$n(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"object"!==Yn(t))throw new Error("To create an AuthRequest you need to provide all required options");var r=t.oauth2,n=t.receivedMessage,a=t.replyMessage;if(!(a instanceof rn))throw new Error("AuthRequest requires a replyMessage of the type InteractiveMessage");if(!(n instanceof rn))throw new Error("AuthRequest requires a receivedMessage of the type InteractiveMessage");if(!(r instanceof Qn))throw new Error("AuthRequest requires a oauth2 property of the type Oauth2");return e.oauth2=r,e.receivedMessage=n,e.replyMessage=a,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"apple_auth_request",payload:{replyMessage:this.replyMessage,receivedMessage:this.receivedMessage,oauth2:this.oauth2},delay:this.delay||void 0,fallback:this.fallback}}}])&&Xn(e.prototype,r),n&&Xn(e,n),i}(o);function no(t){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var io=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==no(e))throw new Error("To create a PayEndpoints object we require a set of URLs");var r=e.fallbackUrl,n=e.orderTrackingUrl,o=e.paymentGatewayUrl,i=e.paymentMethodUpdateUrl,a=e.shippingContactUpdateUrl,u=e.shippingMethodUpdateUrl;if(void 0!==r&&("string"!=typeof r||!r.length))throw new Error("PayEndpoints fallbackUrl is required");if(void 0!==n&&("string"!=typeof n||!n.length))throw new Error("PayEndpoints orderTrackingUrl is required");if(void 0!==o&&("string"!=typeof o||!o.length))throw new Error("PayEndpoints paymentGatewayUrl is required");if(void 0!==i&&("string"!=typeof i||!i.length))throw new Error("PayEndpoints paymentMethodUpdateUrl is required");if(void 0!==a&&("string"!=typeof a||!a.length))throw new Error("PayEndpoints shippingContactUpdateUrl is required");if(void 0!==u&&("string"!=typeof u||!u.length))throw new Error("PayEndpoints shippingMethodUpdateUrl is required");this.fallbackUrl=r,this.orderTrackingUrl=n,this.paymentGatewayUrl=o,this.paymentMethodUpdateUrl=i,this.shippingContactUpdateUrl=a,this.shippingMethodUpdateUrl=u}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{fallbackUrl:this.fallbackUrl,orderTrackingUrl:this.orderTrackingUrl,paymentGatewayUrl:this.paymentGatewayUrl,paymentMethodUpdateUrl:this.paymentMethodUpdateUrl,shippingContactUpdateUrl:this.shippingContactUpdateUrl,shippingMethodUpdateUrl:this.shippingMethodUpdateUrl}}}])&&oo(e.prototype,r),n&&oo(e,n),t}();function ao(t){return(ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var co=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==ao(e))throw new Error("To create a PayMerchant object we need all required data");var r=e.identifier,n=e.displayName,o=e.countryCode,i=e.currencyCode,a=e.capabilities,u=e.supportedNetworks;if("string"!=typeof r||!r.length)throw new Error("PayMerchant identifier is required");if("string"!=typeof n||!n.length)throw new Error("PayMerchant displayName is required");if("string"!=typeof o||2!==o.length)throw new Error("PayMerchant countryCode requires a two letter country code for the merchant");if("string"!=typeof i||3!==i.length)throw new Error("PayMerchant currencyCode requires a three letter currency code for the merchant");if(void 0!==a&&!Array.isArray(a))throw new Error("PayMerchant capabilities should be an array of payment capabilities");if(void 0!==u&&!Array.isArray(u))throw new Error("PayMerchant supportedNetworks should be an array of supported networks");this.identifier=r,this.displayName=n,this.countryCode=o,this.currencyCode=i,this.capabilities=a||void 0,this.supportedNetworks=u||void 0}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{identifier:this.identifier,displayName:this.displayName,countryCode:this.countryCode,currencyCode:this.currencyCode,capabilities:this.capabilities,supportedNetworks:this.supportedNetworks}}}])&&uo(e.prototype,r),n&&uo(e,n),t}();function fo(t){return(fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function so(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var lo=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==fo(e))throw new Error("To create a PayShippingMethod object we need all required data");var r=e.identifier,n=e.amount,o=e.label,i=e.detail;if("string"!=typeof r||!r.length)throw new Error("PayShippingMethod identifier is required");if("string"!=typeof n||!n.length)throw new Error("PayShippingMethod amount is required");if("string"!=typeof o||!o.length)throw new Error("PayShippingMethod label is required");if("string"!=typeof i||!i.length)throw new Error("PayShippingMethod detail is required");this.identifier=r,this.amount=n,this.label=o,this.detail=i}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{identifier:this.identifier,amount:this.amount,label:this.label,detail:this.detail}}}])&&so(e.prototype,r),n&&so(e,n),t}();function yo(t){return(yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function po(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ho=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==yo(e))throw new Error("To create a PayLineItem object we need all required data");var r=e.amount,n=e.label,o=e.type;if("string"!=typeof r||!r.length)throw new Error("PayLineItem amount is required");if("string"!=typeof n||!n.length)throw new Error("PayLineItem label is required");if("string"!=typeof o||!o.length)throw new Error("PayLineItem type  is required");this.amount=r,this.label=n,this.type=o}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{amount:this.amount,label:this.label,type:this.type}}}])&&po(e.prototype,r),n&&po(e,n),t}();function bo(t){return(bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function vo(t,e){return(vo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Oo(t);if(e){var o=Oo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return go(this,r)}}function go(t,e){return!e||"object"!==bo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Oo(t){return(Oo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Eo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vo(t,e)}(i,t);var e,r,n,o=wo(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"object"!==bo(t))throw new Error("To create an PayRequest you need to provide all required options");var r=t.merchant,n=t.endpoints,a=t.lineItems,u=t.shippingMethods,c=t.requiredBillingContactFields,f=t.requiredShippingContactFields,s=t.total,l=t.supportedCountries,y=t.receivedMessage,p=t.replyMessage;if(!(r instanceof co))throw new Error("PayRequest requires a merchant of the type PayMerchant");if(!(p instanceof rn))throw new Error("PayRequest requires a replyMessage of the type InteractiveMessage");if(!(y instanceof rn))throw new Error("PayRequest requires a receivedMessage of the type InteractiveMessage");if(void 0!==n&&!(n instanceof io))throw new Error("PayRequest requires the endpoints property to be of the type PayEndpoints");if(void 0!==l&&!Array.isArray(l))throw new Error("PayRequest requires the supportedCountries to be an array of two-letter country codes");if(void 0!==c&&!Array.isArray(c))throw new Error("PayRequest requires the requiredBillingContactFields to be an array ");if(void 0!==f&&!Array.isArray(f))throw new Error("PayRequest requires the requiredShippingContactFields to be an array ");if(!(s instanceof ho))throw new Error("PayRequest requires a total of the type PayLineItem");if(Array.isArray(a))for(var h=0;h<a.length;h++)e.addLineItem(a[h]);if(Array.isArray(u))for(var b=0;b<u.length;b++)e.addShippingMethod(u[b]);return e.merchant=r,e.endpoints=n||void 0,e.total=s,e.supportedCountries=l||void 0,e.requiredBillingContactFields=c||void 0,e.requiredShippingContactFields=f||void 0,e.receivedMessage=y,e.replyMessage=p,e}return e=i,(r=[{key:"addLineItem",value:function(t){if(!(t instanceof ho))throw new Error("PayRequest addLineItem argument must be an instance of a Apple.PayLineItem");return this.lineItems||(this.lineItems=[]),this.lineItems.push(t),this}},{key:"addShippingMethod",value:function(t){if(!(t instanceof lo))throw new Error("PayRequest addShippingMethod argument must be an instance of a Apple.PayShippingMethod");return this.shippingMethods||(this.shippingMethods=[]),this.shippingMethods.push(t),this}},{key:"toJSON",value:function(){return{type:"apple_pay_request",payload:{merchant:this.merchant,endpoints:this.endpoints,lineItems:this.lineItems,shippingMethods:this.shippingMethods,requiredBillingContactFields:this.requiredBillingContactFields,requiredShippingContactFields:this.requiredShippingContactFields,total:this.total,supportedCountries:this.supportedCountries,receivedMessage:this.receivedMessage,replyMessage:this.replyMessage},delay:this.delay||void 0,fallback:this.fallback}}}])&&mo(e.prototype,r),n&&mo(e,n),i}(o);function So(t){return(So="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Po(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _o(t,e){return(_o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ro(t);if(e){var o=Ro(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ko(this,r)}}function ko(t,e){return!e||"object"!==So(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ro(t){return(Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var To=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_o(t,e)}(i,t);var e,r,n,o=jo(i);function i(t){var e,r=t.title,n=t.tag;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this);var a=r;if("string"!=typeof a||!a.length)throw new Error("Title is mandatory");if(a.length>65)throw new Error("Title length should be less or equal to 65 symbols");return e.title=a,e.tag=n,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"messenger_otn",payload:{title:this.title,tag:this.tag},delay:this.delay||void 0,fallback:this.fallback}}}])&&Po(e.prototype,r),n&&Po(e,n),i}(o);function Ao(t){return(Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xo(t,e){return(xo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Co(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Io(t);if(e){var o=Io(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return No(this,r)}}function No(t,e){return!e||"object"!==Ao(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Io(t){return(Io=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Lo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xo(t,e)}(i,t);var e,r,n,o=Co(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),!Array.isArray(t)||!t.length)throw new Error("productIds must be an array and contain at least one product ID");return e.productIds=t,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"messenger_products",payload:{productIds:this.productIds},delay:this.delay||void 0,fallback:this.fallback}}}])&&Mo(e.prototype,r),n&&Mo(e,n),i}(o);function Bo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Uo=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Bo(this,t);var r=e.title,n=e.subtitle,o=e.quantity,i=e.price,a=e.currency,u=e.imageUrl;if("string"!=typeof r||!r.length)throw new Error("ReceiptElement title is mandatory");if(void 0!==n&&"string"!=typeof n)throw new Error("ReceiptElement subtitle needs to be a valid string");if(void 0!==o&&"number"!=typeof o)throw new Error("ReceiptElement quantity needs to be a valid number");if("number"!=typeof i)throw new Error("ReceiptElement price is mandatory");if(void 0!==a&&"string"!=typeof a)throw new Error("ReceiptElement currency needs to be a valid string");if(void 0!==u&&"string"!=typeof u)throw new Error("ReceiptElement imageUrl needs to be a valid string");this.title=r,this.subtitle=n,this.quantity=o,this.price=i,this.currency=a,this.imageUrl=u}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{title:this.title,subtitle:this.subtitle,quantity:this.quantity,price:this.price,currency:this.currency,imageUrl:this.imageUrl}}}])&&qo(e.prototype,r),n&&qo(e,n),t}();function Jo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Do=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Jo(this,t);var r=e.street1,n=e.street2,o=e.city,i=e.postalCode,a=e.state,u=e.country;if("string"!=typeof r||0===r.length)throw new Error("ReceiptAddress street1 is mandatory");if("string"!=typeof o||0===o.length)throw new Error("ReceiptAddress city is mandatory");if("string"!=typeof i||0===i.length)throw new Error("ReceiptAddress postalCode is mandatory");if("string"!=typeof a||0===a.length)throw new Error("ReceiptAddress state is mandatory");if("string"!=typeof u||0===u.length)throw new Error("ReceiptAddress country is mandatory");this.street1=r,this.street2=n,this.city=o,this.postalCode=i,this.state=a,this.country=u}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{street1:this.street1,street2:this.street2,city:this.city,postalCode:this.postalCode,state:this.state,country:this.country}}}])&&Fo(e.prototype,r),n&&Fo(e,n),t}();function Ho(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ko(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Wo=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ho(this,t);var r=e.name,n=e.amount;if("string"!=typeof r||!r.length)throw new Error("ReceiptAdjustment name is mandatory");if("number"!=typeof n)throw new Error("ReceiptAdjustment amount is mandatory");this.name=r,this.amount=n}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{name:this.name,amount:this.amount}}}])&&Ko(e.prototype,r),n&&Ko(e,n),t}();function zo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Go=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};zo(this,t);var r=e.subtotal,n=e.shippingCost,o=e.totalTax,i=e.totalCost;if(void 0!==r&&"number"!=typeof r)throw new Error("subtotal needs to be a valid number");if(void 0!==n&&"number"!=typeof n)throw new Error("shippingCost needs to be a valid number");if(void 0!==o&&"number"!=typeof o)throw new Error("totalTax needs to be a valid number");if("number"!=typeof i)throw new Error("ReceiptSummary totalCost is mandatory");this.subtotal=r,this.shippingCost=n,this.totalTax=o,this.totalCost=i}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{subtotal:this.subtotal,shippingCost:this.shippingCost,totalTax:this.totalTax,totalCost:this.totalCost}}}])&&Vo(e.prototype,r),n&&Vo(e,n),t}();function Qo(t){return(Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Xo(t,e){return(Xo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Zo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ti(t);if(e){var o=ti(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return $o(this,r)}}function $o(t,e){return!e||"object"!==Qo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ti(t){return(ti=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ei=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xo(t,e)}(i,t);var e,r,n,o=Zo(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this,t);var r=t.sharable,n=t.recipientName,a=t.merchantName,u=t.orderNumber,c=t.orderUrl,f=t.currency,s=t.paymentMethod,l=t.timestamp,y=t.elements,p=t.address,h=t.summary,b=t.adjustments;if(void 0!==r&&"boolean"!=typeof r)throw new Error("sharable needs to be a boolean value");if(void 0===n||"string"!=typeof n)throw new Error("recipientName needs to be a valid string");if(void 0!==a&&"string"!=typeof a)throw new Error("merchantName needs to be a valid string");if(void 0===u||"string"!=typeof u)throw new Error("orderNumber needs to be a valid string");if(void 0===c||"string"!=typeof c)throw new Error("orderUrl needs to be a valid string");if(void 0===f||"string"!=typeof f)throw new Error("currency needs to be a valid string");if(f.length>3||f.length<2)throw new Error("currency must be provided as for example USD or EUR");if(void 0===s||"string"!=typeof s)throw new Error("paymentMethod needs to be a valid string");if(void 0!==l&&"string"!=typeof l)throw new Error("timestamp needs to be a valid string");if(void 0!==y&&!Array.isArray(y))throw new Error("elements needs to be an array");if(void 0!==p&&"object"!==Qo(p))throw new Error("address needs to be a valid object");if(void 0===h||"object"!==Qo(h))throw new Error("summary needs to be provided");if(void 0!==b&&!Array.isArray(b))throw new Error("adjustments needs to be an array");return e.sharable=r||!1,e.recipientName=n,e.merchantName=a||void 0,e.orderNumber=u,e.orderUrl=c,e.currency=f,e.paymentMethod=s,e.timestamp=l||void 0,e.elements=y,e.address=p||void 0,e.summary=h,e.adjustments=b||void 0,e}return e=i,(r=[{key:"toJSON",value:function(){var t=this.delay,e=this.fallback;return{type:"messenger_receipt",payload:{sharable:this.sharable,recipientName:this.recipientName,merchantName:this.merchantName,orderNumber:this.orderNumber,orderUrl:this.orderUrl,currency:this.currency,paymentMethod:this.paymentMethod,timestamp:this.timestamp,elements:this.elements,address:this.address,summary:this.summary,adjustments:this.adjustments},delay:t||void 0,fallback:e}}}])&&Yo(e.prototype,r),n&&Yo(e,n),i}(o);function ri(t){return(ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ni(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function oi(t,e){return(oi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ii(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ui(t);if(e){var o=ui(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ai(this,r)}}function ai(t,e){return!e||"object"!==ri(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ui(t){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ci=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oi(t,e)}(i,t);var e,r,n,o=ii(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this);var r=t;if("object"===ri(r)&&(r=t.text),"string"!=typeof r||!r.length)throw new Error("Text of reply is mandatory");return e.text=r,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"facebook_public_reply",payload:{text:this.text},delay:this.delay||void 0,fallback:this.fallback}}}])&&ni(e.prototype,r),n&&ni(e,n),i}(J);function fi(t){return(fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function si(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function li(t,e){return(li=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=hi(t);if(e){var o=hi(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return pi(this,r)}}function pi(t,e){return!e||"object"!==fi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hi(t){return(hi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&li(t,e)}(i,t);var e,r,n,o=yi(i);function i(t){var e,r=t.packageId,n=t.stickerId;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"number"!=typeof r)throw new Error("Package ID is mandatory");if(r<0)throw new Error("Package ID must be positive number");if(e.packageId=r,"number"!=typeof n)throw new Error("Sticker ID is mandatory");if(n<0)throw new Error("Sticker ID must be positive number");return e.stickerId=n,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"sticker",payload:{packageId:this.packageId,stickerId:this.stickerId},fallback:this.fallback}}}])&&si(e.prototype,r),n&&si(e,n),i}(o);function di(t){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function vi(t,e){return(vi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Oi(t);if(e){var o=Oi(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return gi(this,r)}}function gi(t,e){return!e||"object"!==di(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Oi(t){return(Oi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ei=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vi(t,e)}(i,t);var e,r,n,o=wi(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this);var r=t;if("object"===di(r)&&(r=t.text),"string"!=typeof r||!r.length)throw new Error("Text is mandatory");return e.text=r,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"agent_text",payload:{text:this.text,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}}])&&mi(e.prototype,r),n&&mi(e,n),i}(J);function Si(t){return(Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var _i=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==Si(e))throw new Error("To create an Auth request you need to provide all required options");var r=e.clientId,n=e.codeChallenge,o=e.scopes;if(Array.isArray(o))for(var i=0;i<o.length;i++)this.addScope(o[i]);if("string"!=typeof r||!r.length)throw new Error("Auth request requires a valid clientId");if("string"!=typeof n||!n.length)throw new Error("Auth request requires a valid codeChallenge");this.clientId=r,this.codeChallenge=n}var e,r,n;return e=t,(r=[{key:"addScope",value:function(t){if("string"!=typeof t||!t.length)throw new Error("Auth request scopes must be a valid string");return this.scopes||(this.scopes=[]),this.scopes.push(t),this}},{key:"toJSON",value:function(){return{clientId:this.clientId,codeChallenge:this.codeChallenge,scopes:this.scopes}}}])&&Pi(e.prototype,r),n&&Pi(e,n),t}();function ji(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ki=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"==typeof e)return this.type="text",this.text=e,void(this.data=e);var r=e.type,n=e.text,o=e.data,i=e.url,a=e.phoneNumber,u=e.auth,c=e.params;switch(r){case"event":if("string"!=typeof n||!n.length||n.length>25)throw new Error("Suggestion event must be a valid string no longer then 25 characters");if("string"!=typeof o||!o.length)throw new Error("Suggestion data must be a valid event name");this.data=o;break;case"url":if("string"!=typeof n||!n.length||n.length>25)throw new Error("Suggestion text must be a valid string no longer then 25 characters");if("string"!=typeof i||!i.length)throw new Error("Suggestion url must be a valid URL");this.url=i;break;case"phone":if("string"!=typeof n||!n.length||n.length>25)throw new Error("Suggestion text must be a valid string no longer then 25 characters");if("string"!=typeof a||!a.length)throw new Error("Suggestion phoneNumber must be a valid phone number");this.phoneNumber=a;break;case"auth":if(!(u instanceof _i))throw new Error("Suggestion auth must be a valid GBM.Auth object");this.auth=u;break;case"live_agent":break;default:if("string"!=typeof n||!n.length||n.length>25)throw new Error("Suggestion text must be a valid string no longer then 25 characters");if("string"==typeof o&&!o.length)throw new Error("Suggestion data must be a valid string");this.data=o||n}this.type=r||"text",this.text=n||void 0,this.params=v(c)}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){var t=this.type,e=this.text,r=this.data,n=this.url,o=this.phoneNumber,i=this.auth,a=this.params;return{type:t,text:e,data:r,url:n,phoneNumber:o,auth:i,params:w(a)}}}])&&ji(e.prototype,r),n&&ji(e,n),t}();function Ri(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Ti=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("You should provide a fileUrl for a Media component");var r=e.fileUrl,n=e.thumbnailUrl,o=e.forceRefresh,i=e.altText;if("string"!=typeof r||!r.length)throw new Error("The Media component fileUrl is required and must be a valid URL");if("string"==typeof n&&!r.length)throw new Error("The Media component thumbnailUrl must be a valid URL");if("string"==typeof i&&!i.length)throw new Error("Media alt text must be a valid string");this.fileUrl=r,this.thumbnailUrl=n||void 0,this.forceRefresh=o||!1,this.altText=i||void 0}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{fileUrl:this.fileUrl,thumbnailUrl:this.thumbnailUrl,forceRefresh:this.forceRefresh,altText:this.altText}}}])&&Ri(e.prototype,r),n&&Ri(e,n),t}();Ti.HEIGHT={HEIGHT_UNSPECIFIED:"HEIGHT_UNSPECIFIED",SHORT:"SHORT",MEDIUM:"MEDIUM",TALL:"TALL"};var Ai=Ti;function Mi(t){return(Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ci(t,e){return(Ci=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ni(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Li(t);if(e){var o=Li(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ii(this,r)}}function Ii(t,e){return!e||"object"!==Mi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Li(t){return(Li=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Bi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ci(t,e)}(i,t);var e,r,n,o=Ni(i);function i(t){var e,r=t.title,n=t.description,a=t.media;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).title=r||void 0,e.description=n||void 0,e.media=a||void 0,e}return e=i,(r=[{key:"media",get:function(){return this._media},set:function(t){if(t&&!(t instanceof Ai))throw new Error("Card media must be an instance of Media");this._media=t}},{key:"addSuggestion",value:function(t){if(!(t instanceof ki))throw new Error("Card addSuggestion argument must be an instance of a Suggestion");return this.suggestions||(this.suggestions=[]),this.suggestions.push(t),this}},{key:"toJSON",value:function(){var t=this.title,e=this.description,r=this.media,n=this.suggestions,o=this.delay,i=this.fallback;return this.isShallow?{title:t,description:e,media:r,suggestions:n}:{type:"gbm_card",payload:{title:t,description:e,media:r,suggestions:n},delay:o||void 0,fallback:i}}}])&&xi(e.prototype,r),n&&xi(e,n),i}(o);function qi(t){return(qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ui(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ji(t,e){return(Ji=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Hi(t);if(e){var o=Hi(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Di(this,r)}}function Di(t,e){return!e||"object"!==qi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hi(t){return(Hi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ki=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ji(t,e)}(i,t);var e,r,n,o=Fi(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),!t)return Di(e);for(var r=Array.isArray(t)?t:Array.isArray(t.cards)?t.cards:[],n=0;n<r.length;n++)e.addCard(r[n]);return t&&t.cardWidth&&i.CardWidth.indexOf(t.cardWidth)&&(e.cardWidth=t.cardWidth),e}return e=i,(r=[{key:"addCard",value:function(t){if(!(t instanceof Bi))throw new GBM.Error("Carousel addCard argument must be an instance of a Card");return this.cards||(this.cards=[]),t.isShallow=!0,this.cards.push(t),this}},{key:"toJSON",value:function(){return{type:"gbm_carousel",payload:{cards:this.cards,cardWidth:this.cardWidth},delay:this.delay||void 0,fallback:this.fallback}}}])&&Ui(e.prototype,r),n&&Ui(e,n),i}(o);function Wi(t){return(Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Gi(t,e){return(Gi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Xi(t);if(e){var o=Xi(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Yi(this,r)}}function Yi(t,e){return!e||"object"!==Wi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xi(t){return(Xi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zi(t){return(Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ta(t,e){return(ta=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ea(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=na(t);if(e){var o=na(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ra(this,r)}}function ra(t,e){return!e||"object"!==Zi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function na(t){return(na=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Ki.CardWidth=["CARD_WIDTH_UNSPECIFIED","SMALL","MEDIUM"];var oa={Card:Bi,Carousel:Ki,Suggestion:ki,Media:Ai,Auth:_i,Message:h,Text:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ta(t,e)}(i,t);var e,r,n,o=ea(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this);var r=t,n=!0;if("object"===Zi(t)&&(r=t.text,"boolean"==typeof t.containsRichText&&(n=t.containsRichText)),"string"!=typeof r||!r.length)throw new Error("Text is mandatory");return e.containsRichText=n,e.text=r,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"gbm_text",payload:{text:this.text,containsRichText:this.containsRichText,suggestions:this.suggestions},delay:this.delay||void 0,fallback:this.fallback}}}])&&$i(e.prototype,r),n&&$i(e,n),i}(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gi(t,e)}(i,t);var e,r,n,o=Qi(i);function i(){return zi(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"addSuggestion",value:function(t){if(!(t instanceof ki))throw new Error("addSuggestion argument must be an instance of a Suggestion");return this.suggestions||(this.suggestions=[]),this.suggestions.push(t),this}}])&&Vi(e.prototype,r),n&&Vi(e,n),i}(o))};function ia(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var aa=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("You should provide an url and type for a Media component");if("string"==typeof e)throw new Error("You should provide an url and type not a string for a Media component");var r=e.url,n=e.type,o=e.thumbnailUrl,i=e.height;if("string"!=typeof r||0===r.length)throw new Error("url is mandatory for a Media component");if("string"!=typeof n||0===n.length)throw new Error("type is mandatory for a Media component");if("video"===n&&o&&"string"!=typeof o)throw new Error("thumbnail should be of type string for a video");if("video"===n&&o&&o.length&&!/^https?:\/\//.test(o))throw new Error("video thumbnail should be valid url");this.thumbnailUrl=o,this.url=r,this.type=n,this.height=i||void 0}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{url:this.url,type:this.type,thumbnailUrl:this.thumbnailUrl,height:this.height}}}])&&ia(e.prototype,r),n&&ia(e,n),t}();function ua(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ca=function(){function t(e){var r=e.type,n=e.label,o=e.value,i=e.param,a=e.newTab,u=e.params,c=e.id,f=e.title,s=e.description,l=e.startTime,y=e.endTime,p=e.timezone,h=e.trigger;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof r||0===r.length)throw new Error("Button type is mandatory");if("string"!=typeof n||0===n.length)throw new Error("Button label is mandatory");var b=h instanceof at&&h.isValidTrigger();if(h&&!b)throw new Error("Invalid Trigger type ".concat(h instanceof at));if(h&&b&&"url"!==r&&"phone"!==r)throw new Error("Additional Button Triggers are applicable only to Buttons of type 'url' or 'phone', got ".concat(r));this.id=c,this.id||(this.id="b".concat(ot(8))),this.params=v(i||u),this.type=r,this.label=n,this.value=o,this.title=f,this.description=s,this.startTime=l,this.endTime=y,this.timezone=p,this.newTab=Boolean(a),this.trigger=h}var e,r,n;return e=t,n=[{key:"generateId",value:function(){return"b".concat(ot(8))}}],(r=[{key:"addTrigger",value:function(t){var e=t instanceof at&&t.isValidTrigger();if(t&&!e)throw new Error("Invalid Trigger type ".concat(t instanceof at));if(t&&e&&"url"!==this.type&&"phone"!==this.type)throw new Error("Additional Button Triggers are applicable only to Buttons of type 'url' or 'phone', got ".concat(type));this.trigger=t}},{key:"toJSON",value:function(){var t=this.type,e=this.label,r=this.value,n=this.newTab,o=this.title,i=this.description,a=this.startTime,u=this.endTime,c=this.timezone,f=this.params,s=this.id,l=this.trigger;return{type:t,label:e,value:r,newTab:n,title:o,description:i,startTime:a,endTime:u,timezone:c,params:w(f),id:s,trigger:l}}}])&&ua(e.prototype,r),n&&ua(e,n),t}();function fa(t){return(fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function la(t,e){return(la=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ya(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ha(t);if(e){var o=ha(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return pa(this,r)}}function pa(t,e){return!e||"object"!==fa(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ha(t){return(ha=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ba=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&la(t,e)}(i,t);var e,r,n,o=ya(i);function i(t){var e,r=t.title,n=t.subtitle,a=t.media,u=t.cardOrientation,c=t.thumbnailImageAlignment,f=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"string"!=typeof u||!u.length)throw new Error("Card orientation is mandatory");if("HORIZONTAL"===u&&("string"!=typeof c||!c.length))throw new Error("Thumbnail alignment is mandatory for horizontal orientation");return e.title=r,e.subtitle=n||void 0,e.media=a||void 0,e.cardOrientation=u,e.thumbnailImageAlignment=c||void 0,e.action=f||void 0,e}return e=i,(r=[{key:"media",get:function(){return this._media},set:function(t){if(t&&!(t instanceof aa))throw new Error("RBM Card media must be an instance of RBM Media");this._media=t}},{key:"action",get:function(){return this._action},set:function(t){if(t&&!(t instanceof nt))throw new Error("RBM Card action must be an instance of Action");this._action=t}},{key:"addButton",value:function(t){if(!(t instanceof ct))throw new Error("RBM Card addButton argument must be an instance of a Button");return this.buttons||(this.buttons=[]),this.buttons.push(t),this}},{key:"addRBMButton",value:function(t){if(!(t instanceof ca))throw new Error("RBM Card addRBMButton argument must be an instance of a RBM Button");return this.buttons||(this.buttons=[]),this.buttons.push(t),this}},{key:"toJSON",value:function(){var t=this.title,e=this.subtitle,r=this.media,n=this.cardOrientation,o=this.thumbnailImageAlignment,i=this.action,a=this.buttons,u=this.quickReplies,c=this.delay,f=this.fallback;return this.isShallow?{title:t,subtitle:e,media:r,cardOrientation:n,thumbnailImageAlignment:o,action:i,buttons:a,quickReplies:u}:{type:"rbm_card",payload:{title:t,subtitle:e,media:r,cardOrientation:n,thumbnailImageAlignment:o,action:i,buttons:a,quickReplies:u},delay:c||void 0,fallback:f}}}])&&sa(e.prototype,r),n&&sa(e,n),i}(J);function da(t){return(da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ma(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function va(t,e){return(va=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Oa(t);if(e){var o=Oa(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ga(this,r)}}function ga(t,e){return!e||"object"!==da(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Oa(t){return(Oa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ea={Media:aa,Card:ba,Carousel:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&va(t,e)}(i,t);var e,r,n,o=wa(i);function i(t,e){var r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r=o.call(this),Array.isArray(e))for(var n=0;n<e.length;n++)r.addCard(e[n]);return r.cardWidth=t,r}return e=i,(r=[{key:"addCard",value:function(t){if(!(t instanceof ba))throw new Error("Carousel addCard argument must be an instance of a Card");return this.cards||(this.cards=[]),t.isShallow=!0,this.cards.push(t),this}},{key:"toJSON",value:function(){return{type:"rbm_carousel",payload:{cardWidth:this.cardWidth,cards:this.cards,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}}])&&ma(e.prototype,r),n&&ma(e,n),i}(J),Button:ca,SuggestedAction:x};function Sa(t){return(Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _a(t,e){return(_a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ja(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ra(t);if(e){var o=Ra(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ka(this,r)}}function ka(t,e){return!e||"object"!==Sa(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ra(t){return(Ra=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ta=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_a(t,e)}(i,t);var e,r,n,o=ja(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this);var r=t,n=!0;if("object"===Sa(t)&&(r=t.text,"boolean"==typeof t.previewUrl&&(n=t.previewUrl)),"string"!=typeof r||!r.length)throw new Error("Text is mandatory");return e.previewUrl=n,e.text=r,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"whatsapp_text",payload:{text:this.text,previewUrl:this.previewUrl,suggestions:this.suggestions},delay:this.delay||void 0,fallback:this.fallback}}}])&&Pa(e.prototype,r),n&&Pa(e,n),i}(o);function Aa(t){return(Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ma(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xa(t,e){return(xa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ca(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ia(t);if(e){var o=Ia(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Na(this,r)}}function Na(t,e){return!e||"object"!==Aa(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ia(t){return(Ia=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var La=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xa(t,e)}(i,t);var e,r,n,o=Ca(i);function i(t){var e,r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"string"==typeof t)r=t;else if("object"===Aa(t)){if(r=t.url,"string"==typeof t.title&&!t.title.length)throw new Error("Image title must be a valid string");e.title=t.title||void 0}if("string"!=typeof r||!r.length)throw new Error("Image url is mandatory");return e.url=r,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"whatsapp_image",payload:{title:this.title,url:this.url}}}}])&&Ma(e.prototype,r),n&&Ma(e,n),i}(o);function Ba(t){return(Ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ua(t,e){return(Ua=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ja(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Da(t);if(e){var o=Da(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Fa(this,r)}}function Fa(t,e){return!e||"object"!==Ba(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Da(t){return(Da=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ha=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ua(t,e)}(i,t);var e,r,n,o=Ja(i);function i(t){var e,r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"string"==typeof t)r=t;else if("object"===Ba(t)){if(r=t.url,"string"==typeof t.title&&!t.title.length)throw new Error("Video title must be a valid string");e.title=t.title||void 0}if("string"!=typeof r||!r.length)throw new Error("Video url is mandatory");return e.url=r,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"whatsapp_video",payload:{title:this.title,url:this.url}}}}])&&qa(e.prototype,r),n&&qa(e,n),i}(o);function Ka(t){return(Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function za(t,e){return(za=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Va(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Qa(t);if(e){var o=Qa(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ga(this,r)}}function Ga(t,e){return!e||"object"!==Ka(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qa(t){return(Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ya=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&za(t,e)}(i,t);var e,r,n,o=Va(i);function i(t){var e,r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"string"==typeof t?r=t:"object"===Ka(t)&&(r=t.url),"string"!=typeof r||!r.length)throw new Error("Audio url is mandatory");return e.url=r,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"whatsapp_audio",payload:{url:this.url}}}}])&&Wa(e.prototype,r),n&&Wa(e,n),i}(o);function Xa(t){return(Xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Za(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $a(t,e){return($a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ru(t);if(e){var o=ru(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return eu(this,r)}}function eu(t,e){return!e||"object"!==Xa(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ru(t){return(ru=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$a(t,e)}(i,t);var e,r,n,o=tu(i);function i(t){var e,r=t.lat,n=t.long,a=t.name,u=t.address;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"string"==typeof a&&!a.length)throw new Error("Location name must be a valid string");if(e.name=a,"string"==typeof u&&!u.length)throw new Error("Location address must be a valid string");if(e.address=u,!r)throw new Error("Location latitude is mandatory");if(e.lat=r,!n)throw new Error("Location longitude is mandatory");return e.long=n,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"whatsapp_location",payload:{lat:this.lat,long:this.long,name:this.name,address:this.address},fallback:this.fallback}}}])&&Za(e.prototype,r),n&&Za(e,n),i}(o);function ou(t){return(ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function iu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function au(t,e){return(au=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function uu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=fu(t);if(e){var o=fu(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return cu(this,r)}}function cu(t,e){return!e||"object"!==ou(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fu(t){return(fu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var su=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&au(t,e)}(i,t);var e,r,n,o=uu(i);function i(t){var e,r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"string"==typeof t)r=t;else if("object"===ou(t)){if(r=t.url,"string"==typeof t.title&&!t.title.length)throw new Error("Document title must be a valid string");if(e.title=t.title||void 0,"string"==typeof t.filename&&!t.filename.length)throw new Error("Document filename must be a valid string");e.filename=t.filename||void 0}if("string"!=typeof r||!r.length)throw new Error("Document url is mandatory");return e.url=r,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"whatsapp_document",payload:{title:this.title,filename:this.filename,url:this.url}}}}])&&iu(e.prototype,r),n&&iu(e,n),i}(o);function lu(t){return(lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pu(t,e){return(pu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=du(t);if(e){var o=du(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return bu(this,r)}}function bu(t,e){return!e||"object"!==lu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function du(t){return(du=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pu(t,e)}(i,t);var e,r,n,o=hu(i);function i(t){var e,r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"string"==typeof t?r=t:"object"===lu(t)&&(r=t.stickerId),"string"!=typeof r||!r.length)throw new Error("Sticker stickerId is mandatory");return e.stickerId=r,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"whatsapp_sticker",payload:{stickerId:this.stickerId}}}}])&&yu(e.prototype,r),n&&yu(e,n),i}(o);function vu(t){return(vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function gu(t,e){return(gu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ou(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Su(t);if(e){var o=Su(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Eu(this,r)}}function Eu(t,e){return!e||"object"!==vu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Su(t){return(Su=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Pu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gu(t,e)}(i,t);var e,r,n,o=Ou(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),!Array.isArray(t)||!t.length)throw new Error("Contacts requires at least one WhatsApp.Contact");return e.contacts=t,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"whatsapp_contacts",payload:{contacts:this.contacts}}}}])&&wu(e.prototype,r),n&&wu(e,n),i}(o);function _u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ju=function(){function t(e){var r=e.title,n=e.description,o=e.postbackType,i=e.postbackValue,a=e.params,u=e.param,c=e.id;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof r||0===r.length)throw new Error("ListItem title is mandatory");if("string"!=typeof n||0===n.length)throw new Error("ListItem description is mandatory");this.id=c,this.id||(this.id="b".concat(ot(8))),this.title=r,this.description=n,this.postbackType=o,this.postbackValue=i,this.params=v(u||a)}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){var t=this.title,e=this.description,r=this.postbackType,n=this.postbackValue,o=this.params,i=this.id;return{title:t,description:e,postbackType:r,postbackValue:n,params:w(o),id:i}}}])&&_u(e.prototype,r),n&&_u(e,n),t}();function ku(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Ru=function(){function t(e){var r=e.title,n=e.rows;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof r||0===r.length)throw new Error("ListItemSection title is mandatory");if(!n)throw new Error("ListItemSection rows argument must be an array of List items");for(var o=0;o<n.length;o++)if(!(n[o]instanceof ju))throw new Error("ListItemSection rows argument must be an array of List items");this.title=r,this.items=n}var e,r,n;return e=t,(r=[{key:"addItem",value:function(t){if(!(t instanceof ju))throw new Error("List addItem argument must be an instance of a ListItem");return this.items.push(t),this}},{key:"rows",get:function(){return this.items}},{key:"toJSON",value:function(){return{title:this.title,items:this.items}}}])&&ku(e.prototype,r),n&&ku(e,n),t}();function Tu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Au(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Mu=function(){function t(e){var r=e.type,n=e.value,o=e.fileName,i=e.providerName;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof r||0===r.length)throw new Error("Header type is mandatory");if("image"!==r&&"document"!==r&&"text"!==r&&"video"!==r)throw new Error("Header type is must be text, video, image or document");if("string"!=typeof n||0===n.length)throw new Error("Header value is mandatory");this.type=r,this.value=n,this.fileName=o,this.providerName=i}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){var t=this.type,e=this.value,r=this.providerName,n=this.fileName;return"text"===t?{type:t,text:e}:Tu({type:t},t,r&&n?{link:e,provider:{name:r},fileName:n}:r?{link:e,provider:{name:r}}:n?{link:e,fileName:n}:{link:e})}}])&&Au(e.prototype,r),n&&Au(e,n),t}();function xu(t){return(xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Nu(t,e){return(Nu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Iu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Bu(t);if(e){var o=Bu(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Lu(this,r)}}function Lu(t,e){return!e||"object"!==xu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bu(t){return(Bu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nu(t,e)}(i,t);var e,r,n,o=Iu(i);function i(t){var e,r=t.header,n=t.buttonText,a=t.body,u=t.footer,c=t.sections;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"string"!=typeof a||0===a.length)throw new Error("List body is mandatory");if("string"!=typeof n||0===n.length)throw new Error("List buttonText is mandatory");if(!c)throw new Error("List sections argument must be an array of List items");if(r&&!(r instanceof Mu))throw new Error("List header must be Header object");if(c&&c.length)for(var f=0;f<c.length;f++)if(!(c[f]instanceof Ru))throw new Error("ListItemSection rows argument must be an array of List items");return e.header=r||void 0,e.button=n,e.body=a,e.footer=u,e.sections=c||[],e}return e=i,(r=[{key:"addItem",value:function(t){if(!(t instanceof Ru))throw new Error("List addItem argument must be an instance of a ListItem");return this.sections.push(t),this}},{key:"items",get:function(){return this.sections}},{key:"toJSON",value:function(){var t=this.header,e=this.body,r=this.footer,n=this.sections,o={body:{text:e},action:{button:this.button,sections:n},type:"list"};return t&&(o.header=t),r&&(o.footer={text:r}),{type:"whatsapp_list",payload:o}}}])&&Cu(e.prototype,r),n&&Cu(e,n),i}(o);function Uu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Ju=function(){function t(e){var r=e.policy,n=e.code;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof r||0===r.length)throw new Error("Policy is mandatory");if("string"!=typeof n||0===n.length)throw new Error("Code is mandatory");this.policy=r,this.code=n}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{code:this.code,policy:this.policy}}}])&&Uu(e.prototype,r),n&&Uu(e,n),t}();function Fu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Du=function(){function t(e){var r=e.fallback_value,n=e.day_of_week,o=e.day_of_month,i=e.year,a=e.month,u=e.hour,c=e.minute;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof r||0===r.length)throw new Error("Fallback is mandatory");if("number"!=typeof o)throw new Error("Day of month is mandatory");if("number"!=typeof i)throw new Error("Year is mandatory");if("number"!=typeof a)throw new Error("Month is mandatory");if("number"!=typeof u)throw new Error("Hour is mandatory");if("number"!=typeof c)throw new Error("Minute is mandatory");this.fallback_value=r,this.day_of_week=n||void 0,this.day_of_month=o,this.year=i,this.month=a,this.hour=u,this.minute=c}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{type:"date_time",date_time:{fallback_value:this.fallback_value,day_of_week:this.day_of_week,day_of_month:this.day_of_month,year:this.year,month:this.month,hour:this.hour,minute:this.minute}}}}])&&Fu(e.prototype,r),n&&Fu(e,n),t}();function Hu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Ku=function(){function t(e){var r=e.fallback_value,n=e.code,o=e.amount_1000;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof r||0===r.length)throw new Error("Fallback is mandatory");if("string"!=typeof n)throw new Error("Code is mandatory");if("number"!=typeof o)throw new Error("Amount is mandatory");this.fallback_value=r,this.code=n,this.amount_1000=o}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{type:"currency",currency:{fallback_value:this.fallback_value,code:this.code,amount_1000:this.amount_1000}}}}])&&Hu(e.prototype,r),n&&Hu(e,n),t}();function Wu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var zu=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("You should provide an url and type for a Media component");if("string"==typeof e)throw new Error("You should provide an url and type not a string for a Media component");var r=e.url,n=e.type;if("string"!=typeof r||0===r.length)throw new Error("url is mandatory for a Media component");if("string"!=typeof n||0===n.length)throw new Error("type is mandatory for a Media component");this.url=r,this.type=n}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{url:this.url,type:this.type}}}])&&Wu(e.prototype,r),n&&Wu(e,n),t}();function Vu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Gu=function(){function t(e){var r=e.type;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!(r instanceof zu||r instanceof Ku||r instanceof Du||"string"!=typeof r))throw new Error("Type of parameter must be media, currency or date time");this.type=r}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){var t,e,r,n=this.type;return"string"==typeof n?{type:"text",text:n}:n instanceof zu?(t={type:[n.type]},e=n.type,r={link:n.url},e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t):{type:n}}}])&&Vu(e.prototype,r),n&&Vu(e,n),t}();function Qu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Yu=function(){function t(e){var r=e.type,n=e.subtype;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!r)throw new Error("Type is mandatory");this.type=r,this.subtype=n,this.parameters=[]}var e,r,n;return e=t,(r=[{key:"addParameter",value:function(t){if(!(type instanceof Gu))throw new Error("Type of parameter must be media, currency or date time");return this.parameters.push(t),this}},{key:"toJSON",value:function(){return{type:this.type,subtype:this.subtype,parameters:this.parameters}}}])&&Qu(e.prototype,r),n&&Qu(e,n),t}();function Xu(t){return(Xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $u(t,e){return($u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=rc(t);if(e){var o=rc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ec(this,r)}}function ec(t,e){return!e||"object"!==Xu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rc(t){return(rc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$u(t,e)}(i,t);var e,r,n,o=tc(i);function i(t){var e,r=t.namespace,n=t.name,a=t.language,u=t.components;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"string"!=typeof r||0===r.length)throw new Error("Namespace is mandatory");if("string"!=typeof n||0===n.length)throw new Error("Name is mandatory");if(!(a instanceof Ju))throw new Error("Language must be instance of Language object");return e.namespace=r,e.name=n,e.language=a,e.components=u||[],e}return e=i,(r=[{key:"toJSON",value:function(){var t=this.namespace,e=this.name,r=this.language,n=this.components,o=this.fallback;return{type:"whatsapp_template",payload:{namespace:t,name:e,language:r,components:n},delay:this.delay||void 0,fallback:o}}}])&&Zu(e.prototype,r),n&&Zu(e,n),i}(o);function oc(t){return(oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ic(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ac=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==oc(e))throw new Error("Contact options are required");var r=e.name,n=e.organization,o=e.addresses,i=e.birthday,a=e.emails,u=e.phones,c=e.urls;if(o&&!Array.isArray(o))throw new Error("Contact addresses must be an array");if(a&&!Array.isArray(a))throw new Error("Contact emails must be an array");if(u&&!Array.isArray(u))throw new Error("Contact phones must be an array");if(c&&!Array.isArray(c))throw new Error("Contact urls must be an array");this.name=r,this.organization=n,this.addresses=o,this.birthday=i,this.emails=a,this.phones=u,this.urls=c}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{name:this.name,organization:this.organization,addresses:this.addresses,birthday:this.birthday,emails:this.emails,phones:this.phones,urls:this.urls}}}])&&ic(e.prototype,r),n&&ic(e,n),t}();function uc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var fc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};uc(this,t);var r=e.type,n=e.street,o=e.city,i=e.zip,a=e.state,u=e.country,c=e.countryCode;if(0===Object.keys(e).length)throw new Error("Address requires at least one valid property like street, city, etc");if("string"==typeof r&&-1===t.Types.indexOf(r))throw new Error("Address type must be either HOME or WORK");if("string"==typeof n&&0===n.length)throw new Error("Address street must be a valid string");if("string"==typeof o&&0===o.length)throw new Error("Address city must be a valid string");if("string"==typeof i&&0===i.length)throw new Error("Address zip must be a valid string");if("string"==typeof a&&0===a.length)throw new Error("Address state must be a valid string");if("string"==typeof u&&0===u.length)throw new Error("Address country code must be a valid string");if("string"==typeof c&&2!==c.length)throw new Error("Address country code must be a valid 2 letter country code");this.type=r,this.street=n,this.city=o,this.zip=i,this.state=a,this.country=u,this.countryCode=c}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{type:this.type,street:this.street,city:this.city,zip:this.zip,state:this.state,country:this.country,countryCode:this.countryCode}}}])&&cc(e.prototype,r),n&&cc(e,n),t}();fc.Types=["HOME","WORK"];var sc=fc;function lc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var yc=function(){function t(e){var r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"==typeof e)r=e;else{var n=e.type;if(r=e.email,"string"==typeof n&&-1===t.Types.indexOf(n))throw new Error("EmailAddress type must be either HOME or WORK");this.type=n}if("string"!=typeof r||0===r.length)throw new Error("EmailAddress email ".concat(r," must be a valid email address"));this.email=r}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{type:this.type,email:this.email}}}])&&lc(e.prototype,r),n&&lc(e,n),t}();yc.Types=["HOME","WORK"];var pc=yc;function hc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var bc=function(){function t(e){var r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"==typeof e)r=e;else{var n=e.type;if(r=e.url,"string"==typeof n&&-1===t.Types.indexOf(n))throw new Error("WebsiteAddress type must be either HOME or WORK");this.type=n}if("string"!=typeof r||0===r.length)throw new Error("WebsiteAddress url ".concat(r," must be a valid url"));this.url=r}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{type:this.type,url:this.url}}}])&&hc(e.prototype,r),n&&hc(e,n),t}();bc.Types=["HOME","WORK"];var dc=bc;function mc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var vc=function(){function t(e){var r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"==typeof e)r=e;else{var n=e.type;if(r=e.phone,"string"==typeof n&&-1===t.Types.indexOf(n))throw new Error("PhoneNumber type must be either HOME or WORK");this.type=n}if("string"!=typeof r||0===r.length)throw new Error("PhoneNumber ".concat(r," must be a valid phone number"));this.phone=r}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{type:this.type,phone:this.phone}}}])&&mc(e.prototype,r),n&&mc(e,n),t}();vc.Types=["HOME","WORK"];var wc=vc;function gc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Oc=function(){function t(e){var r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"==typeof e)r=e;else{r=e.formattedName;var n=e.firstName,o=e.lastName,i=e.middleName,a=e.suffix,u=e.prefix;if("string"==typeof n&&0===n.length)throw new Error("Name first name must be a valid string");if(this.firstName=n,"string"==typeof o&&0===o.length)throw new Error("Name last name must be a valid string");if(this.lastName=o,"string"==typeof i&&0===i.length)throw new Error("Name middle name must be a valid string");if(this.middleName=i,"string"==typeof a&&0===a.length)throw new Error("Name suffix must be a valid string");if(this.suffix=a,"string"==typeof u&&0===u.length)throw new Error("Name prefix must be a valid string");this.prefix=u}if("string"!=typeof r||0===r.length)throw new Error("Name formatted name ".concat(r," must be a valid name"));this.formattedName=r}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{formattedName:this.formattedName,firstName:this.firstName,lastName:this.lastName,middleName:this.middleName,suffix:this.suffix,prefix:this.prefix}}}])&&gc(e.prototype,r),n&&gc(e,n),t}();function Ec(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Sc=function(){function t(e){var r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"==typeof e)r=e;else{r=e.company;var n=e.department,o=e.title;if("string"==typeof n&&0===n.length)throw new Error("Organization department name must be a valid string");if(this.department=n,"string"==typeof o&&0===o.length)throw new Error("Organization title must be a valid string");this.title=o}if("string"!=typeof r||0===r.length)throw new Error("Organization company name ".concat(r," must be a valid string"));this.company=r}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{company:this.company,department:this.department,title:this.title}}}])&&Ec(e.prototype,r),n&&Ec(e,n),t}();function Pc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var _c=function(){function t(e){var r=e.title,n=e.type,o=e.value,i=e.param,a=e.params,u=e.id;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof r||0===r.length)throw new Error("Button title is mandatory");if("string"!=typeof n||0===n.length)throw new Error("Button type is mandatory");if(n&&"text"!==n&&"event"!==n&&"flow"!==n&&"step"!==n)throw new Error("Type should be text, event, flow or step");if("string"!=typeof o||0===o.length)throw new Error("Button value is mandatory");this.id=u,this.id||(this.id="b".concat(ot(8))),this.title=r,this.params=v(i||a),this.type=n,this.value=o}var e,r,n;return e=t,n=[{key:"generateId",value:function(){return"b".concat(ot(8))}}],(r=[{key:"toJSON",value:function(){var t=this.title,e=this.type,r=this.value,n=this.params,o=this.id;return{type:"reply",reply:{title:t,type:e,value:r,params:w(n),id:o}}}}])&&Pc(e.prototype,r),n&&Pc(e,n),t}();function jc(t){return(jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Rc(t,e){return(Rc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Mc(t);if(e){var o=Mc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ac(this,r)}}function Ac(t,e){return!e||"object"!==jc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Mc(t){return(Mc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Cc={Text:Ta,Image:La,Video:Ha,Audio:Ya,Location:nu,Document:su,Sticker:mu,Contacts:Pu,Contact:ac,Address:sc,EmailAddress:pc,WebsiteAddress:dc,PhoneNumber:wc,Name:Oc,Organization:Sc,List:qu,ListItem:ju,ListItemSection:Ru,Button:_c,Buttons:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rc(t,e)}(i,t);var e,r,n,o=Tc(i);function i(t){var e,r=t.header,n=t.body,a=t.footer,u=t.buttons;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"string"!=typeof n||!n.length)throw new Error("Buttons body is mandatory");if(r&&!(r instanceof Mu))throw new Error("Buttons header must be Header object");return e.body=n,e.footer=a||void 0,e.header=r||void 0,e.buttons=u||[],e}return e=i,(r=[{key:"addButton",value:function(t){if(!(t instanceof _c))throw new Error("Buttons addButton argument must be an instance of a Button");return this.buttons.push(t),this}},{key:"toJSON",value:function(){var t=this.body,e=this.footer,r=this.header,n={body:{text:t},action:{buttons:this.buttons},type:"button"};return r&&(n.header=r),e&&(n.footer={text:e}),{type:"whatsapp_buttons",payload:n}}}])&&kc(e.prototype,r),n&&kc(e,n),i}(o),Header:Mu,Template:nc,ButtonTemplate:function(){function t(e){var r=e.sub_type,n=e.index,o=e.type,i=e.payload,a=e.text;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof r||0===r.length)throw new Error("Sub type is mandatory");if("string"!=typeof n||0===n.length)throw new Error("Index is mandatory");if("string"!=typeof o||0===o.length)throw new Error("Type is mandatory");this.sub_type=r,this.index=n,this.type=o,this.payload=i,this.text=a}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{sub_type:this.sub_type,index:this.index,parameters:{type:this.type,payload:this.payload,text:this.text}}}}])&&xc(e.prototype,r),n&&xc(e,n),t}(),Components:Yu,Currency:Ku,DateTime:Du,Language:Ju,Parameter:Gu};function Nc(t){return(Nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ic(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Lc(t,e){return(Lc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Bc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Uc(t);if(e){var o=Uc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return qc(this,r)}}function qc(t,e){return!e||"object"!==Nc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Uc(t){return(Uc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jc(t){return(Jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Dc(t,e){return(Dc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Wc(t);if(e){var o=Wc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Kc(this,r)}}function Kc(t,e){return!e||"object"!==Jc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wc(t){return(Wc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zc={Say:ir,Hangup:yr,Pause:wr,Ask:xr,Dial:Ur,Handover:zr},Vc={ImageAsset:Yr,VideoAsset:$r,RichLink:_n,ListPicker:xn,ListPickerSection:vn,ListPickerItem:bn,TimePicker:Un,InteractiveMessage:rn,LocationItem:an,EventItem:yn,TimeItem:fn,CustomInteractiveData:zn,AuthRequest:ro,Oauth2:Qn,PayRequest:Eo,PayEndpoints:io,PayMerchant:co,PayLineItem:ho,PayShippingMethod:lo},Gc={OTN:To,Products:Lo,Receipt:ei,PublicFbReply:ci,ReceiptAddress:Do,ReceiptAdjustment:Wo,ReceiptElement:Uo,ReceiptSummary:Go},Qc={PublicReply:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lc(t,e)}(i,t);var e,r,n,o=Bc(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this);var r=t;if("object"===Nc(r)&&(r=t.text),"string"!=typeof r||!r.length)throw new Error("Text of reply is mandatory");return e.text=r,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"twitter_public_reply",payload:{text:this.text},delay:this.delay||void 0,fallback:this.fallback}}}])&&Ic(e.prototype,r),n&&Ic(e,n),i}(J)},Yc={Priority:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dc(t,e)}(i,t);var e,r,n,o=Hc(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this);var r=t;if("object"===Jc(r)&&(r=t.priority),"number"!=typeof r&&Number.isNaN(r))throw new Error("Priority value is mandatory");if((r=+r)<0||r>5)throw new Error("Priority can't be less than 0 and higher than 5");return e.priority=r,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"khoros_priority",payload:{priority:this.priority}}}}])&&Fc(e.prototype,r),n&&Fc(e,n),i}(J)},Xc={Sticker:bi},Zc={AgentText:Ei}}]);