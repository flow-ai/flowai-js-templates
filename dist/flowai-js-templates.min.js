var Flowai=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e);var i=function(){function t(e,n){var o,i;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e&&"object"===r(e)?(o=e.label,i=e.value):(o=e,i=n),!o||"string"!=typeof o||!o.length)throw new Error("Param label should be a valid string");this.label=o,this.value=i}var e,n,i;return e=t,(n=[{key:"toJSON",value:function(){return{label:this.label,value:this.value}}}])&&o(e.prototype,n),i&&o(e,i),t}(),a=function(t){var e=[],n=Array.isArray(t),o=t instanceof i,a="object"===r(t);if(t&&!o&&!a&&!n)throw new Error("param should be an instance of Param or an array of Param instances");if(o)e.push(t);else if(n)for(var u=0;u<t.length;u++)if(t[u]instanceof i)e.push(t[u]);else{if("object"!==r(t[u]))throw new Error("any item inside a param array should be an instance of Param or an object");var c=t[u],f=c.label,l=c.value;f&&l&&e.push(new i({label:f,value:l}))}else a&&t.label&&t.value?e.push(new i(t)):a&&Object.keys(t).forEach((function(n){var r=t[n];Array.isArray(r)&&r.forEach((function(t){e.push(new i(n,t.value))}))}));return e.length?e:void 0},u=function(t){if(Array.isArray(t)){for(var e={},n=0;n<t.length;n++){var r=t[n],o=r.label,i=r.value;e[o]||(e[o]=[]),e[o].push({value:i})}return e}};function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var f=function(){function t(e){var n=e.label,r=e.type,o=e.value,i=e.param,u=e.params;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"text"===r&&("string"!=typeof n||!n.length))throw new Error("QuickReply label when it has the type text must be as string");if(o&&"string"!=typeof o)throw new Error("QuickReply value must be as string");"string"!=typeof r||0===r.length?this.type="text":this.type=r,this.params=a(i||u),this.value=o||n,this.label=n}var e,n,r;return e=t,(n=[{key:"toJSON",value:function(){var t=this.label,e=this.value,n=this.type,r=this.params;return{label:t,value:e,type:n,params:u(r)}}}])&&c(e.prototype,n),r&&c(e,r),t}();function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"addQuickReply",value:function(t){if(!(t instanceof f))throw new Error("addQuickReply argument must be an instance of a QuickReply");return this.quickReplies||(this.quickReplies=[]),this.quickReplies.push(t),this}},{key:"delay",set:function(t){if("number"!=typeof t)throw new Error("Delay must be a number");if(t<0)throw new Error("Delay must be positive number");this._delay=t},get:function(){return this._delay||0}},{key:"fallback",set:function(t){if("string"!=typeof t&&void 0!==t)throw new Error("Fallback must be a string or undefined");this._fallback=t},get:function(){return this._fallback||void 0}}])&&l(e.prototype,n),r&&l(e,r),t}();function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=b(this,h(e).call(this));var r=t;if("object"===p(r)&&(r=t.text),"string"!=typeof r||!r.length)throw new Error("Text is mandatory");return n.text=r,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(e,t),n=e,(r=[{key:"toJSON",value:function(){return{type:"text",payload:{text:this.text,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}}])&&y(n.prototype,r),o&&y(n,o),e}(s);function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var g=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e&&!Array.isArray(e)||0===e.length)throw new Error("fallback is mandatory and must be a string or string array");if(Array.isArray(e))for(var n=0;n<e.length;n++)if("string"!=typeof e[n])throw new Error("fallback array argument can only contain strings");this.fallback=e}var e,n,r;return e=t,(n=[{key:"addResponse",value:function(t,e){if(!(t instanceof s))throw new Error("addResponse argument must be an instance of a Template");return"number"==typeof d&&(t.delay=e),this.responses||(this.responses=[]),this.responses.push(t),this}},{key:"addQuickReply",value:function(t){if(!(t instanceof f))throw new Error("addQuickReply argument must be an instance of a QuickReply");var e=this.fallback,n=Array.isArray(e);return Array.isArray(this.responses)&&this.responses.length||(this.responses=n?e.map((function(t){return new v(t)})):[new v(e)]),this.responses[this.responses.length-1].addQuickReply(t),this}},{key:"toJSON",value:function(){var t=this.fallback,e=this.responses,n=Array.isArray(t),r=t;if(n){for(var o=", ",i=0;i<t.length;i++)if(/[.!?]$/.test(t[i])){o=" ";break}r=t.join(o)}return Array.isArray(e)&&e.length?{fallback:r,responses:e}:{fallback:r,responses:n?t.map((function(t){return new v(t)})):[new v(t)]}}}])&&w(e.prototype,n),r&&w(e,r),t}();function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var _=function(){function t(e){var n=e.type,r=e.value,o=e.param;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof r||0===r.length)throw new Error("Action value is mandatory");if(this.value=r,"string"!=typeof n||0===n.length)throw new Error("Action type is mandatory");this.type=n,this.params=a(o)}var e,n,r;return e=t,(n=[{key:"toJSON",value:function(){var t=this.type,e=this.value,n=this.params;return{type:t,value:e,params:u(n)}}}])&&O(e.prototype,n),r&&O(e,r),t}();function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var k=function(){function t(e){var n=e.type,r=e.label,o=e.value,i=e.param,u=e.params;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof n||0===n.length)throw new Error("Button type is mandatory");if("string"!=typeof r||0===r.length)throw new Error("Button label is mandatory");if("string"!=typeof o||0===o.length)throw new Error("Button value is mandatory");this.params=a(i||u),this.type=n,this.label=r,this.value=o}var e,n,r;return e=t,(n=[{key:"toJSON",value:function(){var t=this.type,e=this.label,n=this.value,r=this.params;return{type:t,label:e,value:n,params:u(r)}}}])&&j(e.prototype,n),r&&j(e,r),t}();function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var E=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("You should provide an url and type for a Media component");if("string"==typeof e)throw new Error("You should provide an url and type not a string for a Media component");var n=e.url,r=e.type;if("string"!=typeof n||0===n.length)throw new Error("url is mandatory for a Media component");if("string"!=typeof r||0===r.length)throw new Error("type is mandatory for a Media component");this.url=n,this.type=r}var e,n,r;return e=t,(n=[{key:"toJSON",value:function(){return{url:this.url,type:this.type}}}])&&S(e.prototype,n),r&&S(e,r),t}();function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function T(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var A=function(t){function e(t){var n,r=t.title,o=t.subtitle,i=t.media,a=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=T(this,x(e).call(this)),"string"!=typeof r||!r.length)throw new Error("Card title is mandatory");return n.title=r,n.subtitle=o||void 0,n.media=i||void 0,n.action=a||void 0,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(e,t),n=e,(r=[{key:"addButton",value:function(t){if(!(t instanceof k))throw new Error("Card addButton argument must be an instance of a Button");return this.buttons||(this.buttons=[]),this.buttons.push(t),this}},{key:"toJSON",value:function(){var t=this.title,e=this.subtitle,n=this.media,r=this.action,o=this.buttons,i=this.quickReplies,a=this.delay,u=this.fallback;return this.isShallow?{title:t,subtitle:e,media:n,action:r,buttons:o,quickReplies:i}:{type:"card",payload:{title:t,subtitle:e,media:n,action:r,buttons:o,quickReplies:i},delay:a||void 0,fallback:u}}},{key:"media",set:function(t){if(t&&!(t instanceof E))throw new Error("Card media must be an instance of Media");this._media=t},get:function(){return this._media}},{key:"action",set:function(t){if(t&&!(t instanceof _))throw new Error("Card action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&R(n.prototype,r),o&&R(n,o),e}(s);function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function J(t,e){return!e||"object"!==N(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I=function(t){function e(t){var n,r=t.title,o=t.url,i=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=J(this,B(e).call(this)),"string"!=typeof r||!r.length)throw new Error("Image title is mandatory");if(n.title=r,"string"!=typeof o||!o.length)throw new Error("Image url is mandatory");return n.url=o,n.action=i||void 0,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(e,t),n=e,(r=[{key:"toJSON",value:function(){return{type:"image",payload:{title:this.title,url:this.url,action:this.action,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}},{key:"action",set:function(t){if(t&&!(t instanceof _))throw new Error("action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&q(n.prototype,r),o&&q(n,o),e}(s);function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D(t,e){return!e||"object"!==M(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Q(t){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Y=function(t){function e(t){var n,r=t.title,o=t.url,i=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=D(this,Q(e).call(this)),"string"!=typeof r||!r.length)throw new Error("Video title is mandatory");if(n.title=r,"string"!=typeof o||!o.length)throw new Error("Video url is mandatory");return n.url=o,n.action=i||void 0,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e)}(e,t),n=e,(r=[{key:"toJSON",value:function(){return{type:"video",payload:{title:this.title,url:this.url,action:this.action,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}},{key:"action",set:function(t){if(t&&!(t instanceof _))throw new Error("action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&F(n.prototype,r),o&&F(n,o),e}(s);function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function V(t,e){return!e||"object"!==z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function H(t){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var W=function(t){function e(t){var n,r=t.title,o=t.url,i=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=V(this,H(e).call(this)),"string"!=typeof r||!r.length)throw new Error("Audio title is mandatory");if(n.title=r,"string"!=typeof o||!o.length)throw new Error("Audio url is mandatory");return n.url=o,n.action=i||void 0,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(e,t),n=e,(r=[{key:"toJSON",value:function(){return{type:"audio",payload:{title:this.title,url:this.url,action:this.action,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}},{key:"action",set:function(t){if(t&&!(t instanceof _))throw new Error("Audio action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&K(n.prototype,r),o&&K(n,o),e}(s);function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z(t,e){return!e||"object"!==X(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tt(t){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function et(t,e){return(et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var nt=function(t){function e(t){var n,r=t.title,o=t.url,i=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=Z(this,tt(e).call(this)),"string"!=typeof r||!r.length)throw new Error("File title is mandatory");if(n.title=r,"string"!=typeof o||!o.length)throw new Error("File url is mandatory");return n.url=o,n.action=i||void 0,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&et(t,e)}(e,t),n=e,(r=[{key:"toJSON",value:function(){return{type:"file",payload:{title:this.title,url:this.url,action:this.action,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}},{key:"action",set:function(t){if(t&&!(t instanceof _))throw new Error("action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&$(n.prototype,r),o&&$(n,o),e}(s);function rt(t){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function it(t,e){return!e||"object"!==rt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function at(t){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ut(t,e){return(ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ct=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=it(this,at(e).call(this)),"string"!=typeof t||!t.length)throw new Error("Buttons title is mandatory");return n.title=t,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ut(t,e)}(e,t),n=e,(r=[{key:"addButton",value:function(t){if(!(t instanceof k))throw new Error("Buttons addButton argument must be an instance of a Button");return this.buttons||(this.buttons=[]),this.buttons.push(t),this}},{key:"toJSON",value:function(){return{type:"buttons",payload:{title:this.title,buttons:this.buttons,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}}])&&ot(n.prototype,r),o&&ot(n,o),e}(s);function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function st(t,e){return!e||"object"!==ft(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pt(t){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yt(t,e){return(yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var bt=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=st(this,pt(e).call(this)),Array.isArray(t))for(var r=0;r<t.length;r++)n.addCard(t[r]);return n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yt(t,e)}(e,t),n=e,(r=[{key:"addCard",value:function(t){if(!(t instanceof A))throw new Error("Carousel addCard argument must be an instance of a Card");return this.cards||(this.cards=[]),t.isShallow=!0,this.cards.push(t),this}},{key:"toJSON",value:function(){return{type:"carousel",payload:{cards:this.cards,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}}])&&lt(n.prototype,r),o&&lt(n,o),e}(s);function ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var dt=function(){function t(e){var n=e.title,r=e.subtitle,o=e.media,i=e.action,a=e.featured;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof n||0===n.length)throw new Error("ListItem title is mandatory");this.title=n,this.subtitle=r||void 0,this.media=o||void 0,this.action=i||void 0,this.featured=a||void 0}var e,n,r;return e=t,(n=[{key:"addButton",value:function(t){if(!(t instanceof k))throw new Error("ListItem addButton argument must be an instance of a Button");return this.buttons||(this.buttons=[]),this.buttons.push(t),this}},{key:"toJSON",value:function(){return{title:this.title,subtitle:this.subtitle,media:this.media,action:this.action,buttons:this.buttons,featured:this.featured}}},{key:"media",set:function(t){if(t&&!(t instanceof E))throw new Error("ListItem media must be an instance of Media");this._media=t},get:function(){return this._media}},{key:"action",set:function(t){if(t&&!(t instanceof _))throw new Error("ListItem action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&ht(e.prototype,n),r&&ht(e,r),t}();function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wt(t,e){return!e||"object"!==mt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ot(t,e){return(Ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _t=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),wt(this,gt(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ot(t,e)}(e,t),n=e,(r=[{key:"addItem",value:function(t){if(!(t instanceof dt))throw new Error("List addListItem argument must be an instance of a ListItem");return t.featured?this.items.splice(0,0,t):this.items.push(t),this}},{key:"addButton",value:function(t){if(!(t instanceof k))throw new Error("List addButton argument must be an instance of a Button");return this.buttons||(this.buttons=[]),this.buttons.push(t),this}},{key:"toJSON",value:function(){return{type:"list",payload:{items:this.items,buttons:this.buttons,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}},{key:"items",get:function(){return this._items||(this._items=[]),this._items=this._items.sort((function(t,e){return t.featured&&!e.featured?-1:!t.featured&&e.featured?1:0})),this._items}}])&&vt(n.prototype,r),o&&vt(n,o),e}(s);function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function St(t,e){return!e||"object"!==jt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Et(t){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pt(t,e){return(Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Rt=function(t){function e(t){var n,r=t.title,o=t.lat,i=t.long,a=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=St(this,Et(e).call(this)),"string"!=typeof r||!r.length)throw new Error("Location title is mandatory");if(n.title=r,!o)throw new Error("Location latitude is mandatory");if(n.lat=o,!i)throw new Error("Location longitude is mandatory");return n.long=i,n.action=a||void 0,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}(e,t),n=e,(r=[{key:"toJSON",value:function(){return{type:"location",payload:{title:this.title,lat:this.lat,long:this.long,action:this.action,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}},{key:"action",set:function(t){if(t&&!(t instanceof _))throw new Error("Location action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&kt(n.prototype,r),o&&kt(n,o),e}(s);function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ct(t,e){return!e||"object"!==Tt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function At(t){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nt(t,e){return(Nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qt=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=Ct(this,At(e).call(this)),"object"!==Tt(t))throw new Error("Custom data is mandatory");return n.data=t,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nt(t,e)}(e,t),n=e,(r=[{key:"toJSON",value:function(){var t=this.data,e=this.quickReplies,n=this.delay,r=this.fallback;return{type:"custom",payload:Object.assign(t,{quickReplies:e}),delay:n||void 0,fallback:r}}}])&&xt(n.prototype,r),o&&xt(n,o),e}(s);function Jt(t){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lt(t,e){return!e||"object"!==Jt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function It(t){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mt(t,e){return(Mt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ft=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=Lt(this,It(e).call(this)),"object"!==Jt(t))throw new Error("Invalid argument provided. Property collection expected");var r=t.speech,o=t.url,i=t.language,a=t.voice;if(void 0===r&&void 0===o)throw new Error("Either speech or URL needs to be provided");if(void 0!==r&&"string"!=typeof r)throw new Error("Speech needs to be text");if(void 0!==o&&("string"!=typeof o||!o.length))throw new Error("Invalid or empty url provided");if(void 0!==a&&-1===Dt.voices.indexOf(a))throw new Error('Unsupported voice specified. You need to choose one of: "'.concat(Dt.voices.join(", "),'"'));if(n.speech=r||void 0,n.url=o||void 0,n.voice=a||"alice",void 0!==i){if("alice"===n.voice&&-1===Dt.languages.alice.indexOf(i))throw new Error('Unsupported language provided. Alice supports one of: "'.concat(Dt.languages.alice.join(", "),'"'));if("alice"!==n.voice&&-1===Dt.languages.other.indexOf(i))throw new Error('Unsupported language provided. You need to choose one of "'.concat(Dt.languages.other.join(", "),'"'))}return n.language=i||void 0,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mt(t,e)}(e,t),n=e,(r=[{key:"toJSON",value:function(){return{type:"phone_say",payload:{speech:this.speech,url:this.url,language:this.language,voice:this.voice}}}}])&&Bt(n.prototype,r),o&&Bt(n,o),e}(s),Dt={voices:["alice","man","woman"],languages:{alice:["da-DK","de-DE","en-AU","en-CA","en-GB","en-IN","en-US","ca-ES","es-ES","es-MX","fi-FI","fr-CA","fr-FR","it-IT","ja-JP","ko-KR","nb-NO","nl-NL","pl-PL","pt-BR","pt-PT","ru-RU","sv-SE","zh-CN","zh-HK","zh-TW"],other:["en","en-gb","es","fr","de"]}},Qt=Ft;function Ut(t){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zt(t,e){return!e||"object"!==Ut(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kt(t){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vt(t,e){return(Vt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ht=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),zt(this,Kt(e).call(this))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vt(t,e)}(e,t),n=e,(r=[{key:"toJSON",value:function(){return{type:"phone_hangup",payload:{}}}}])&&Yt(n.prototype,r),o&&Yt(n,o),e}(s);function Gt(t){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xt(t,e){return!e||"object"!==Gt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $t(t){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zt(t,e){return(Zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var te=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=Xt(this,$t(e).call(this));var r=t;if("object"===Gt(r)&&(r=t.seconds),"number"!=typeof r||r<0)throw new Error("Seconds need to be a positive number");return n.seconds=r,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zt(t,e)}(e,t),n=e,(r=[{key:"toJSON",value:function(){return{type:"phone_pause",payload:{seconds:this.seconds}}}}])&&Wt(n.prototype,r),o&&Wt(n,o),e}(s);function ee(t){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ne(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ne(n,!0).forEach((function(e){oe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ne(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ae(t,e){return!e||"object"!==ee(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ue(t,e,n){return(ue="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ce(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ce(t){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fe(t,e){return(fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var le=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=ae(this,ce(e).call(this,t));var r=t.expected,o=t.hints,i=t.timeout,a=t.repeat,u=t.profanityFilter;if(void 0!==r&&-1===se.expected.indexOf(r))throw new Error('Invalid "expected" provided. Needs to be one of: '.concat(se.expected.join(", ")));if(void 0!==o&&"string"!=typeof o)throw new Error("hints needs to be a valid string");if(void 0!==i&&("number"!=typeof i||i<0))throw new Error("timeout needs to be a positive number of seconds");if(void 0!==a&&("number"!=typeof a||a<0))throw new Error("repeat needs to be a positive number");if(void 0!==u&&"boolean"!=typeof u)throw new Error("profanity filter needs to be a boolean value");return n.expected=r||"any",n.hints=o||void 0,n.timeout=i||void 0,n.repeat=a||1,n.profanityFilter=u||!0,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fe(t,e)}(e,t),n=e,(r=[{key:"toJSON",value:function(){var t=this.expected,n=this.hints,r=this.timeout,o=this.repeat,i=this.profanityFilter;return{type:"phone_ask",payload:re({},ue(ce(e.prototype),"toJSON",this).call(this).payload,{expected:t,hints:n,timeout:r,repeat:o,profanityFilter:i})}}}])&&ie(n.prototype,r),o&&ie(n,o),e}(Qt),se={expected:["speech","digits","any"]},pe=le;function ye(t){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function he(t,e){return!e||"object"!==ye(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function de(t){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function me(t,e){return(me=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ve=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=he(this,de(e).call(this));var r=t;if("object"===ye(r)&&(r=t.phoneNumber),"string"!=typeof r||!r.length)throw new Error("Phone number is mandatory");return n.phoneNumber=r,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&me(t,e)}(e,t),n=e,(r=[{key:"toJSON",value:function(){return{type:"phone_dial",payload:{phoneNumber:this.phoneNumber}}}}])&&be(n.prototype,r),o&&be(n,o),e}(s);n.d(e,"Phone",(function(){return we})),n.d(e,"Message",(function(){return g})),n.d(e,"Text",(function(){return v})),n.d(e,"Card",(function(){return A})),n.d(e,"Image",(function(){return I})),n.d(e,"Video",(function(){return Y})),n.d(e,"Audio",(function(){return W})),n.d(e,"File",(function(){return nt})),n.d(e,"Buttons",(function(){return ct})),n.d(e,"Carousel",(function(){return bt})),n.d(e,"List",(function(){return _t})),n.d(e,"Location",(function(){return Rt})),n.d(e,"Custom",(function(){return qt})),n.d(e,"Action",(function(){return _})),n.d(e,"Button",(function(){return k})),n.d(e,"Media",(function(){return E})),n.d(e,"ListItem",(function(){return dt})),n.d(e,"Param",(function(){return i})),n.d(e,"QuickReply",(function(){return f}));var we={Say:Qt,Hangup:Ht,Pause:te,Ask:pe,Dial:ve}}]);