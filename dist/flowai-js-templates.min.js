var Flowai=function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.r(e);var i=function(){function t(e,n){var r,i;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e&&"object"===o(e)?(r=e.label,i=e.value):(r=e,i=n),!r||"string"!=typeof r||!r.length)throw new Error("Param label should be a valid string");this.label=r,this.value=i}var e,n,i;return e=t,(n=[{key:"toJSON",value:function(){return{label:this.label,value:this.value}}}])&&r(e.prototype,n),i&&r(e,i),t}(),u=function(t){var e=[],n=Array.isArray(t),r=t instanceof i,u="object"===o(t);if(t&&!r&&!u&&!n)throw new Error("param should be an instance of Param or an array of Param instances");if(r)e.push(t);else if(n)for(var a=0;a<t.length;a++)if(t[a]instanceof i)e.push(t[a]);else{if("object"!==o(t[a]))throw new Error("any item inside a param array should be an instance of Param or an object");var c=t[a],f=c.label,l=c.value;f&&l&&e.push(new i({label:f,value:l}))}else u&&t.label&&t.value?e.push(new i(t)):u&&Object.keys(t).forEach((function(n){var o=t[n];Array.isArray(o)&&o.forEach((function(t){e.push(new i(n,t.value))}))}));return e.length?e:void 0},a=function(t){if(Array.isArray(t)){for(var e={},n=0;n<t.length;n++){var o=t[n],r=o.label,i=o.value;e[r]||(e[r]=[]),e[r].push({value:i})}return e}};function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var f=function(){function t(e){var n=e.label,o=e.type,r=e.value,i=e.param,a=e.params;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"text"===o&&("string"!=typeof n||!n.length))throw new Error("QuickReply label when it has the type text must be as string");if(r&&"string"!=typeof r)throw new Error("QuickReply value must be as string");"string"!=typeof o||0===o.length?this.type="text":this.type=o,this.params=u(i||a),this.value=r||n,this.label=n}var e,n,o;return e=t,(n=[{key:"toJSON",value:function(){var t=this.label,e=this.value,n=this.type,o=this.params;return{label:t,value:e,type:n,params:a(o)}}}])&&c(e.prototype,n),o&&c(e,o),t}();function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"addQuickReply",value:function(t){if(!(t instanceof f))throw new Error("addQuickReply argument must be an instance of a QuickReply");return this.quickReplies||(this.quickReplies=[]),this.quickReplies.push(t),this}},{key:"delay",set:function(t){if("number"!=typeof t)throw new Error("Delay must be a number");if(t<0)throw new Error("Delay must be positive number");this._delay=t},get:function(){return this._delay||0}},{key:"fallback",set:function(t){if("string"!=typeof t&&void 0!==t)throw new Error("Fallback must be a string or undefined");this._fallback=t},get:function(){return this._fallback||void 0}}])&&l(e.prototype,n),o&&l(e,o),t}();function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function b(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=b(this,h(e).call(this));var o=t;if("object"===p(o)&&(o=t.text),"string"!=typeof o||!o.length)throw new Error("Text is mandatory");return n.text=o,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(e,t),n=e,(o=[{key:"toJSON",value:function(){return{type:"text",payload:{text:this.text,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}}])&&y(n.prototype,o),r&&y(n,r),e}(s);function w(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var g=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e&&!Array.isArray(e)||0===e.length)throw new Error("fallback is mandatory and must be a string or string array");if(Array.isArray(e))for(var n=0;n<e.length;n++)if("string"!=typeof e[n])throw new Error("fallback array argument can only contain strings");this.fallback=e}var e,n,o;return e=t,(n=[{key:"addResponse",value:function(t,e){if(!(t instanceof s))throw new Error("addResponse argument must be an instance of a Template");return"number"==typeof d&&(t.delay=e),this.responses||(this.responses=[]),this.responses.push(t),this}},{key:"addQuickReply",value:function(t){if(!(t instanceof f))throw new Error("addQuickReply argument must be an instance of a QuickReply");var e=this.fallback,n=Array.isArray(e);return Array.isArray(this.responses)&&this.responses.length||(this.responses=n?e.map((function(t){return new v(t)})):[new v(e)]),this.responses[this.responses.length-1].addQuickReply(t),this}},{key:"toJSON",value:function(){var t=this.fallback,e=this.responses,n=Array.isArray(t),o=t;if(n){for(var r=", ",i=0;i<t.length;i++)if(/[.!?]$/.test(t[i])){r=" ";break}o=t.join(r)}return Array.isArray(e)&&e.length?{fallback:o,responses:e}:{fallback:o,responses:n?t.map((function(t){return new v(t)})):[new v(t)]}}}])&&w(e.prototype,n),o&&w(e,o),t}();function O(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var _=function(){function t(e){var n=e.type,o=e.value,r=e.param;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof o||0===o.length)throw new Error("Action value is mandatory");if(this.value=o,"string"!=typeof n||0===n.length)throw new Error("Action type is mandatory");this.type=n,this.params=u(r)}var e,n,o;return e=t,(n=[{key:"toJSON",value:function(){var t=this.type,e=this.value,n=this.params;return{type:t,value:e,params:a(n)}}}])&&O(e.prototype,n),o&&O(e,o),t}();function j(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var k=function(){function t(e){var n=e.type,o=e.label,r=e.value,i=e.param,a=e.params;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof n||0===n.length)throw new Error("Button type is mandatory");if("string"!=typeof o||0===o.length)throw new Error("Button label is mandatory");if("string"!=typeof r||0===r.length)throw new Error("Button value is mandatory");this.params=u(i||a),this.type=n,this.label=o,this.value=r}var e,n,o;return e=t,(n=[{key:"toJSON",value:function(){var t=this.type,e=this.label,n=this.value,o=this.params;return{type:t,label:e,value:n,params:a(o)}}}])&&j(e.prototype,n),o&&j(e,o),t}();function S(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var E=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("You should provide an url and type for a Media component");if("string"==typeof e)throw new Error("You should provide an url and type not a string for a Media component");var n=e.url,o=e.type;if("string"!=typeof n||0===n.length)throw new Error("url is mandatory for a Media component");if("string"!=typeof o||0===o.length)throw new Error("type is mandatory for a Media component");this.url=n,this.type=o}var e,n,o;return e=t,(n=[{key:"toJSON",value:function(){return{url:this.url,type:this.type}}}])&&S(e.prototype,n),o&&S(e,o),t}();function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function T(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var A=function(t){function e(t){var n,o=t.title,r=t.subtitle,i=t.media,u=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=T(this,x(e).call(this)),"string"!=typeof o||!o.length)throw new Error("Card title is mandatory");return n.title=o,n.subtitle=r||void 0,n.media=i||void 0,n.action=u||void 0,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(e,t),n=e,(o=[{key:"addButton",value:function(t){if(!(t instanceof k))throw new Error("Card addButton argument must be an instance of a Button");return this.buttons||(this.buttons=[]),this.buttons.push(t),this}},{key:"toJSON",value:function(){var t=this.title,e=this.subtitle,n=this.media,o=this.action,r=this.buttons,i=this.quickReplies,u=this.delay,a=this.fallback;return this.isShallow?{title:t,subtitle:e,media:n,action:o,buttons:r,quickReplies:i}:{type:"card",payload:{title:t,subtitle:e,media:n,action:o,buttons:r,quickReplies:i},delay:u||void 0,fallback:a}}},{key:"media",set:function(t){if(t&&!(t instanceof E))throw new Error("Card media must be an instance of Media");this._media=t},get:function(){return this._media}},{key:"action",set:function(t){if(t&&!(t instanceof _))throw new Error("Card action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&R(n.prototype,o),r&&R(n,r),e}(s);function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function J(t,e){return!e||"object"!==N(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var M=function(t){function e(t){var n,o=t.title,r=t.url,i=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=J(this,B(e).call(this)),"string"!=typeof o||!o.length)throw new Error("Image title is mandatory");if(n.title=o,"string"!=typeof r||!r.length)throw new Error("Image url is mandatory");return n.url=r,n.action=i||void 0,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(e,t),n=e,(o=[{key:"toJSON",value:function(){return{type:"image",payload:{title:this.title,url:this.url,action:this.action,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}},{key:"action",set:function(t){if(t&&!(t instanceof _))throw new Error("action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&q(n.prototype,o),r&&q(n,r),e}(s);function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function F(t,e){return!e||"object"!==I(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Q(t){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function K(t,e){return(K=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var U=function(t){function e(t){var n,o=t.title,r=t.url,i=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=F(this,Q(e).call(this)),"string"!=typeof o||!o.length)throw new Error("Video title is mandatory");if(n.title=o,"string"!=typeof r||!r.length)throw new Error("Video url is mandatory");return n.url=r,n.action=i||void 0,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&K(t,e)}(e,t),n=e,(o=[{key:"toJSON",value:function(){return{type:"video",payload:{title:this.title,url:this.url,action:this.action,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}},{key:"action",set:function(t){if(t&&!(t instanceof _))throw new Error("action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&D(n.prototype,o),r&&D(n,r),e}(s);function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function V(t,e){return!e||"object"!==Y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function H(t){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var W=function(t){function e(t){var n,o=t.title,r=t.url,i=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=V(this,H(e).call(this)),"string"!=typeof o||!o.length)throw new Error("Audio title is mandatory");if(n.title=o,"string"!=typeof r||!r.length)throw new Error("Audio url is mandatory");return n.url=r,n.action=i||void 0,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(e,t),n=e,(o=[{key:"toJSON",value:function(){return{type:"audio",payload:{title:this.title,url:this.url,action:this.action,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}},{key:"action",set:function(t){if(t&&!(t instanceof _))throw new Error("Audio action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&z(n.prototype,o),r&&z(n,r),e}(s);function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Z(t,e){return!e||"object"!==X(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tt(t){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function et(t,e){return(et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var nt=function(t){function e(t){var n,o=t.title,r=t.url,i=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=Z(this,tt(e).call(this)),"string"!=typeof o||!o.length)throw new Error("File title is mandatory");if(n.title=o,"string"!=typeof r||!r.length)throw new Error("File url is mandatory");return n.url=r,n.action=i||void 0,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&et(t,e)}(e,t),n=e,(o=[{key:"toJSON",value:function(){return{type:"file",payload:{title:this.title,url:this.url,action:this.action,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}},{key:"action",set:function(t){if(t&&!(t instanceof _))throw new Error("action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&$(n.prototype,o),r&&$(n,r),e}(s);function ot(t){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function it(t,e){return!e||"object"!==ot(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ut(t){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function at(t,e){return(at=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ct=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=it(this,ut(e).call(this)),"string"!=typeof t||!t.length)throw new Error("Buttons title is mandatory");return n.title=t,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&at(t,e)}(e,t),n=e,(o=[{key:"addButton",value:function(t){if(!(t instanceof k))throw new Error("Buttons addButton argument must be an instance of a Button");return this.buttons||(this.buttons=[]),this.buttons.push(t),this}},{key:"toJSON",value:function(){return{type:"buttons",payload:{title:this.title,buttons:this.buttons,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}}])&&rt(n.prototype,o),r&&rt(n,r),e}(s);function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function st(t,e){return!e||"object"!==ft(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pt(t){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yt(t,e){return(yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var bt=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=st(this,pt(e).call(this)),Array.isArray(t))for(var o=0;o<t.length;o++)n.addCard(t[o]);return n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yt(t,e)}(e,t),n=e,(o=[{key:"addCard",value:function(t){if(!(t instanceof A))throw new Error("Carousel addCard argument must be an instance of a Card");return this.cards||(this.cards=[]),t.isShallow=!0,this.cards.push(t),this}},{key:"toJSON",value:function(){return{type:"carousel",payload:{cards:this.cards,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}}])&&lt(n.prototype,o),r&&lt(n,r),e}(s);function ht(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var dt=function(){function t(e){var n=e.title,o=e.subtitle,r=e.media,i=e.action,u=e.featured;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof n||0===n.length)throw new Error("ListItem title is mandatory");this.title=n,this.subtitle=o||void 0,this.media=r||void 0,this.action=i||void 0,this.featured=u||void 0}var e,n,o;return e=t,(n=[{key:"addButton",value:function(t){if(!(t instanceof k))throw new Error("ListItem addButton argument must be an instance of a Button");return this.buttons||(this.buttons=[]),this.buttons.push(t),this}},{key:"toJSON",value:function(){return{title:this.title,subtitle:this.subtitle,media:this.media,action:this.action,buttons:this.buttons,featured:this.featured}}},{key:"media",set:function(t){if(t&&!(t instanceof E))throw new Error("ListItem media must be an instance of Media");this._media=t},get:function(){return this._media}},{key:"action",set:function(t){if(t&&!(t instanceof _))throw new Error("ListItem action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&ht(e.prototype,n),o&&ht(e,o),t}();function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function wt(t,e){return!e||"object"!==mt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ot(t,e){return(Ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _t=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),wt(this,gt(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ot(t,e)}(e,t),n=e,(o=[{key:"addItem",value:function(t){if(!(t instanceof dt))throw new Error("List addListItem argument must be an instance of a ListItem");return t.featured?this.items.splice(0,0,t):this.items.push(t),this}},{key:"addButton",value:function(t){if(!(t instanceof k))throw new Error("List addButton argument must be an instance of a Button");return this.buttons||(this.buttons=[]),this.buttons.push(t),this}},{key:"toJSON",value:function(){return{type:"list",payload:{items:this.items,buttons:this.buttons,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}},{key:"items",get:function(){return this._items||(this._items=[]),this._items=this._items.sort((function(t,e){return t.featured&&!e.featured?-1:!t.featured&&e.featured?1:0})),this._items}}])&&vt(n.prototype,o),r&&vt(n,r),e}(s);function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function St(t,e){return!e||"object"!==jt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Et(t){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pt(t,e){return(Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Rt=function(t){function e(t){var n,o=t.title,r=t.lat,i=t.long,u=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=St(this,Et(e).call(this)),"string"!=typeof o||!o.length)throw new Error("Location title is mandatory");if(n.title=o,!r)throw new Error("Location latitude is mandatory");if(n.lat=r,!i)throw new Error("Location longitude is mandatory");return n.long=i,n.action=u||void 0,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}(e,t),n=e,(o=[{key:"toJSON",value:function(){return{type:"location",payload:{title:this.title,lat:this.lat,long:this.long,action:this.action,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}},{key:"action",set:function(t){if(t&&!(t instanceof _))throw new Error("Location action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&kt(n.prototype,o),r&&kt(n,r),e}(s);function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ct(t,e){return!e||"object"!==Tt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function At(t){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nt(t,e){return(Nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qt=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=Ct(this,At(e).call(this)),"object"!==Tt(t))throw new Error("Custom data is mandatory");return n.data=t,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nt(t,e)}(e,t),n=e,(o=[{key:"toJSON",value:function(){var t=this.data,e=this.quickReplies,n=this.delay,o=this.fallback;return{type:"custom",payload:Object.assign(t,{quickReplies:e}),delay:n||void 0,fallback:o}}}])&&xt(n.prototype,o),r&&xt(n,r),e}(s);function Jt(t){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Lt(t,e){return!e||"object"!==Jt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Mt(t){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function It(t,e){return(It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Dt=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=Lt(this,Mt(e).call(this)),"object"!==Jt(t))throw new Error("Invalid argument provided. Property collection expected");var o=t.speech,r=t.url,i=t.language,u=t.voice;if(void 0===o&&void 0===r)throw new Error("Either speech or URL needs to be provided");if(void 0!==o&&"string"!=typeof o)throw new Error("Speech needs to be text");if(void 0!==r&&("string"!=typeof r||!r.length))throw new Error("Invalid or empty url provided");if(void 0!==u&&-1===Ft.voices.indexOf(u))throw new Error('Unsupported voice specified. You need to choose one of: "'.concat(Ft.voices.join(", "),'"'));if(n.speech=o||void 0,n.url=r||void 0,n.voice=u||"alice",void 0!==i){if("alice"===n.voice&&-1===Ft.languages.alice.indexOf(i))throw new Error('Unsupported language provided. Alice supports one of: "'.concat(Ft.languages.alice.join(", "),'"'));if("alice"!==n.voice&&-1===Ft.languages.other.indexOf(i))throw new Error('Unsupported language provided. You need to choose one of "'.concat(Ft.languages.other.join(", "),'"'))}return n.language=i||void 0,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)}(e,t),n=e,(o=[{key:"toJSON",value:function(){return{type:"phone_say",payload:{speech:this.speech,url:this.url,language:this.language,voice:this.voice}}}}])&&Bt(n.prototype,o),r&&Bt(n,r),e}(s),Ft={voices:["alice","man","woman"],languages:{alice:["da-DK","de-DE","en-AU","en-CA","en-GB","en-IN","en-US","ca-ES","es-ES","es-MX","fi-FI","fr-CA","fr-FR","it-IT","ja-JP","ko-KR","nb-NO","nl-NL","pl-PL","pt-BR","pt-PT","ru-RU","sv-SE","zh-CN","zh-HK","zh-TW"],other:["en","en-gb","es","fr","de"]}},Qt=Dt;function Kt(t){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ut(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Yt(t,e){return!e||"object"!==Kt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zt(t){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vt(t,e){return(Vt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ht=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Yt(this,zt(e).call(this))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vt(t,e)}(e,t),n=e,(o=[{key:"toJSON",value:function(){return{type:"phone_hangup",payload:{}}}}])&&Ut(n.prototype,o),r&&Ut(n,r),e}(s);function Gt(t){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Xt(t,e){return!e||"object"!==Gt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $t(t){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zt(t,e){return(Zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var te=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=Xt(this,$t(e).call(this));var o=t;if("object"===Gt(o)&&(o=t.seconds),"number"!=typeof o||o<0)throw new Error("Seconds need to be a positive number");return n.seconds=o,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zt(t,e)}(e,t),n=e,(o=[{key:"toJSON",value:function(){return{type:"phone_pause",payload:{seconds:this.seconds}}}}])&&Wt(n.prototype,o),r&&Wt(n,r),e}(s);function ee(t){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ne(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ne(n,!0).forEach((function(e){re(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ne(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function re(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ie(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ue(t,e){return!e||"object"!==ee(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ae(t,e,n){return(ae="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ce(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function ce(t){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fe(t,e){return(fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var le=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=ue(this,ce(e).call(this,t));var o=t.expected,r=t.hints,i=t.timeout,u=t.repeat,a=t.profanityFilter,c=t.finishOnKey,f=t.numDigits,l=t.speechTimeout,s=t.speechModel;if(void 0!==o&&-1===se.expected.indexOf(o))throw new Error('Invalid "expected" provided. Needs to be one of: '.concat(se.expected.join(", ")));if(void 0!==r&&"string"!=typeof r)throw new Error("hints needs to be a valid string");if(void 0!==i&&("number"!=typeof i||i<0))throw new Error("timeout needs to be a positive number of seconds");if(void 0!==u&&("number"!=typeof u||u<0))throw new Error("repeat needs to be a positive number");if(void 0!==a&&"boolean"!=typeof a)throw new Error("profanity filter needs to be a boolean value");if(void 0!==c&&("string"!=typeof c||-1===se.keys.indexOf(c)&&""!==c))throw new Error("finishOnKey needs to one of the following ".concat(se.keys.join(", ")," or ''"));if(void 0!==f&&("number"!=typeof f||f<0))throw new Error("numDigits needs to be a positive number");if(void 0!==l&&("number"!=typeof l||l<0))throw new Error("speechTimeout needs to be a positive number");if(void 0!==s&&("string"!=typeof s||-1===se.models.indexOf(s)))throw new Error("speechModel needs to one of the following ".concat(se.models.join(", ")," or ''"));return n.expected=o||"any",n.hints=r||void 0,n.timeout=i||void 0,n.repeat=u||1,n.profanityFilter=a||!0,n.finishOnKey=c||void 0,n.numDigits=f||void 0,n.speechTimeout=l||void 0,n.speechModel=s||void 0,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fe(t,e)}(e,t),n=e,(o=[{key:"toJSON",value:function(){var t=this.expected,n=this.hints,o=this.timeout,r=this.repeat,i=this.profanityFilter,u=this.finishOnKey,a=this.numDigits,c=this.speechTimeout,f=this.speechModel;return{type:"phone_ask",payload:oe({},ae(ce(e.prototype),"toJSON",this).call(this).payload,{expected:t,hints:n,timeout:o,repeat:r,profanityFilter:i,finishOnKey:u,numDigits:a,speechTimeout:c,speechModel:f})}}}])&&ie(n.prototype,o),r&&ie(n,r),e}(Qt),se={expected:["speech","digits","any"],keys:"0123456789#*".split(""),models:["default","numbers_and_commands","phone_call"]},pe=le;function ye(t){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function be(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function he(t,e){return!e||"object"!==ye(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function de(t){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function me(t,e){return(me=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ve=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=he(this,de(e).call(this));var o=t;if("object"===ye(o)&&(o=t.phoneNumber),"string"!=typeof o||!o.length)throw new Error("Phone number is mandatory");return n.phoneNumber=o,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&me(t,e)}(e,t),n=e,(o=[{key:"toJSON",value:function(){return{type:"phone_dial",payload:{phoneNumber:this.phoneNumber}}}}])&&be(n.prototype,o),r&&be(n,r),e}(s);n.d(e,"Phone",(function(){return we})),n.d(e,"Message",(function(){return g})),n.d(e,"Text",(function(){return v})),n.d(e,"Card",(function(){return A})),n.d(e,"Image",(function(){return M})),n.d(e,"Video",(function(){return U})),n.d(e,"Audio",(function(){return W})),n.d(e,"File",(function(){return nt})),n.d(e,"Buttons",(function(){return ct})),n.d(e,"Carousel",(function(){return bt})),n.d(e,"List",(function(){return _t})),n.d(e,"Location",(function(){return Rt})),n.d(e,"Custom",(function(){return qt})),n.d(e,"Action",(function(){return _})),n.d(e,"Button",(function(){return k})),n.d(e,"Media",(function(){return E})),n.d(e,"ListItem",(function(){return dt})),n.d(e,"Param",(function(){return i})),n.d(e,"QuickReply",(function(){return f}));var we={Say:Qt,Hangup:Ht,Pause:te,Ask:pe,Dial:ve}}]);