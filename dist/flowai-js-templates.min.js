var Flowai=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}r.r(e),r.d(e,"Message",(function(){return $o})),r.d(e,"Text",(function(){return Zo})),r.d(e,"Card",(function(){return ti})),r.d(e,"Image",(function(){return ei})),r.d(e,"Video",(function(){return ri})),r.d(e,"Audio",(function(){return ni})),r.d(e,"File",(function(){return oi})),r.d(e,"Buttons",(function(){return ii})),r.d(e,"Carousel",(function(){return ai})),r.d(e,"List",(function(){return ui})),r.d(e,"Location",(function(){return ci})),r.d(e,"Custom",(function(){return si})),r.d(e,"Note",(function(){return fi})),r.d(e,"Action",(function(){return li})),r.d(e,"Button",(function(){return yi})),r.d(e,"Media",(function(){return pi})),r.d(e,"ListItem",(function(){return hi})),r.d(e,"Param",(function(){return bi})),r.d(e,"QuickReply",(function(){return di})),r.d(e,"Generic",(function(){return we})),r.d(e,"Phone",(function(){return ur})),r.d(e,"Apple",(function(){return ho})),r.d(e,"Messenger",(function(){return Jr})),r.d(e,"GBM",(function(){return Xo}));var i=function(){function t(e,r){var o,i;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e&&"object"===n(e)?(o=e.label,i=e.value):(o=e,i=r),!o||"string"!=typeof o||!o.length)throw new Error("Param label should be a valid string");this.label=o,this.value=i}var e,r,i;return e=t,(r=[{key:"toJSON",value:function(){return{label:this.label,value:this.value}}}])&&o(e.prototype,r),i&&o(e,i),t}(),a=function(t){var e=[],r=Array.isArray(t),o=t instanceof i,a="object"===n(t);if(t&&!o&&!a&&!r)throw new Error("param should be an instance of Param or an array of Param instances");if(o)e.push(t);else if(r)for(var u=0;u<t.length;u++)if(t[u]instanceof i)e.push(t[u]);else{if("object"!==n(t[u]))throw new Error("any item inside a param array should be an instance of Param or an object");var c=t[u],s=c.label,f=c.value;s&&f&&e.push(new i({label:s,value:f}))}else a&&t.label&&t.value?e.push(new i(t)):a&&Object.keys(t).forEach((function(r){var n=t[r];Array.isArray(n)&&n.forEach((function(t){e.push(new i(r,t.value))}))}));return e.length?e:void 0},u=function(t){if(Array.isArray(t)){for(var e={},r=0;r<t.length;r++){var n=t[r],o=n.label,i=n.value;e[o]||(e[o]=[]),e[o].push({value:i})}return e}};function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,(r=[{key:"fallback",set:function(t){if("string"!=typeof t&&void 0!==t)throw new Error("Fallback must be a string or undefined");this._fallback=t},get:function(){return this._fallback||void 0}}])&&c(e.prototype,r),n&&c(e,n),t}();function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=b(t);if(e){var o=b(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}function h(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(i,t);var e,r,n,o=p(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this);var r=t;if("object"===f(r)&&(r=t.text),"string"!=typeof r||!r.length)throw new Error("Text is mandatory");return e.text=r,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"text",payload:{text:this.text},delay:this.delay||void 0,fallback:this.fallback}}}])&&l(e.prototype,r),n&&l(e,n),i}(s);function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var w=function(){function t(e,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e&&!Array.isArray(e)||0===e.length)throw new Error("fallback is mandatory and must be a string or string array");if(Array.isArray(e))for(var n=0;n<e.length;n++)if("string"!=typeof e[n])throw new Error("fallback array argument can only contain strings");this.fallback=e,"object"===m(r)&&(this.meta=r)}var e,r,n;return e=t,(r=[{key:"addResponse",value:function(t,e){if(!(t instanceof s))throw new Error("addResponse argument must be an instance of a Template");return"number"==typeof e&&(t.delay=e),this.responses||(this.responses=[]),this.responses.push(t),this}},{key:"toJSON",value:function(){var t=this.fallback,e=this.responses,r=this.meta,n=Array.isArray(t),o=t;if(n){for(var i=", ",a=0;a<t.length;a++)if(/[.!?]$/.test(t[a])){i=" ";break}o=t.join(i)}return Array.isArray(e)&&e.length?{fallback:o,responses:e,meta:r}:{fallback:o,responses:n?t.map((function(t){return new d(t)})):[new d(t)]}}}])&&v(e.prototype,r),n&&v(e,n),t}();function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var S=function(){function t(e){var r=e.label,n=e.type,o=e.value,i=e.param,u=e.params;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"text"===n&&("string"!=typeof r||!r.length))throw new Error("QuickReply label when it has the type text must be as string");if(o&&"string"!=typeof o)throw new Error("QuickReply value must be as string");"string"!=typeof n||0===n.length?this.type="text":this.type=n,this.params=a(i||u),this.value=o||r,this.label=r}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){var t=this.label,e=this.value,r=this.type,n=this.params;return{label:t,value:e,type:r,params:u(n)}}}])&&g(e.prototype,r),n&&g(e,n),t}();function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=R(t);if(e){var o=R(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return k(this,r)}}function k(t,e){return!e||"object"!==O(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}(i,t);var e,r,n,o=_(i);function i(){return P(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"addQuickReply",value:function(t){if(!(t instanceof S))throw new Error("addQuickReply argument must be an instance of a QuickReply");return this.quickReplies||(this.quickReplies=[]),this.quickReplies.push(t),this}},{key:"delay",set:function(t){if("number"!=typeof t)throw new Error("Delay must be a number");if(t<0)throw new Error("Delay must be positive number");this._delay=t},get:function(){return this._delay||0}}])&&E(e.prototype,r),n&&E(e,n),i}(s);function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=A(t);if(e){var o=A(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return N(this,r)}}function N(t,e){return!e||"object"!==C(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(i,t);var e,r,n,o=q(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this);var r=t;if("object"===C(r)&&(r=t.text),"string"!=typeof r||!r.length)throw new Error("Text is mandatory");return e.text=r,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"text",payload:{text:this.text,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}}])&&M(e.prototype,r),n&&M(e,n),i}(T);function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function J(t,e){return(J=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=K(t);if(e){var o=K(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return F(this,r)}}function F(t,e){return!e||"object"!==D(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var G=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&J(t,e)}(i,t);var e,r,n,o=B(i);function i(){return U(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"addQuickReply",value:function(t){if(!(t instanceof S))throw new Error("addQuickReply argument must be an instance of a QuickReply");var e=this.fallback,r=Array.isArray(e);return Array.isArray(this.responses)&&this.responses.length||(this.responses=r?e.map((function(t){return new I(t)})):[new I(e)]),this.responses[this.responses.length-1].addQuickReply(t),this}}])&&L(e.prototype,r),n&&L(e,n),i}(w);function H(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Q=function(){function t(e){var r=e.type,n=e.value,o=e.param;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof n||0===n.length)throw new Error("Action value is mandatory");if(this.value=n,"string"!=typeof r||0===r.length)throw new Error("Action type is mandatory");this.type=r,this.params=a(o)}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){var t=this.type,e=this.value,r=this.params;return{type:t,value:e,params:u(r)}}}])&&H(e.prototype,r),n&&H(e,n),t}();function V(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var z=function(){function t(e){var r=e.type,n=e.label,o=e.value,i=e.param,u=e.params;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof r||0===r.length)throw new Error("Button type is mandatory");if("string"!=typeof n||0===n.length)throw new Error("Button label is mandatory");if("string"!=typeof o||0===o.length)throw new Error("Button value is mandatory");this.params=a(i||u),this.type=r,this.label=n,this.value=o}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){var t=this.type,e=this.label,r=this.value,n=this.params;return{type:t,label:e,value:r,params:u(n)}}}])&&V(e.prototype,r),n&&V(e,n),t}();function W(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Y=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("You should provide an url and type for a Media component");if("string"==typeof e)throw new Error("You should provide an url and type not a string for a Media component");var r=e.url,n=e.type;if("string"!=typeof r||0===r.length)throw new Error("url is mandatory for a Media component");if("string"!=typeof n||0===n.length)throw new Error("type is mandatory for a Media component");this.url=r,this.type=n}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{url:this.url,type:this.type}}}])&&W(e.prototype,r),n&&W(e,n),t}();function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=rt(t);if(e){var o=rt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return et(this,r)}}function et(t,e){return!e||"object"!==X(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(i,t);var e,r,n,o=tt(i);function i(t){var e,r=t.title,n=t.subtitle,a=t.media,u=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"string"!=typeof r||!r.length)throw new Error("Card title is mandatory");return e.title=r,e.subtitle=n||void 0,e.media=a||void 0,e.action=u||void 0,e}return e=i,(r=[{key:"addButton",value:function(t){if(!(t instanceof z))throw new Error("Card addButton argument must be an instance of a Button");return this.buttons||(this.buttons=[]),this.buttons.push(t),this}},{key:"toJSON",value:function(){var t=this.title,e=this.subtitle,r=this.media,n=this.action,o=this.buttons,i=this.quickReplies,a=this.delay,u=this.fallback;return this.isShallow?{title:t,subtitle:e,media:r,action:n,buttons:o,quickReplies:i}:{type:"card",payload:{title:t,subtitle:e,media:r,action:n,buttons:o,quickReplies:i},delay:a||void 0,fallback:u}}},{key:"media",set:function(t){if(t&&!(t instanceof Y))throw new Error("Card media must be an instance of Media");this._media=t},get:function(){return this._media}},{key:"action",set:function(t){if(t&&!(t instanceof Q))throw new Error("Card action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&$(e.prototype,r),n&&$(e,n),i}(T);function ot(t){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function it(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function at(t,e){return(at=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=st(t);if(e){var o=st(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ct(this,r)}}function ct(t,e){return!e||"object"!==ot(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&at(t,e)}(i,t);var e,r,n,o=ut(i);function i(t){var e,r=t.title,n=t.url,a=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"string"!=typeof r||!r.length)throw new Error("Image title is mandatory");if(e.title=r,"string"!=typeof n||!n.length)throw new Error("Image url is mandatory");return e.url=n,e.action=a||void 0,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"image",payload:{title:this.title,url:this.url,action:this.action,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}},{key:"action",set:function(t){if(t&&!(t instanceof Q))throw new Error("action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&it(e.prototype,r),n&&it(e,n),i}(T);function lt(t){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pt(t,e){return(pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ht(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=dt(t);if(e){var o=dt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return bt(this,r)}}function bt(t,e){return!e||"object"!==lt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dt(t){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pt(t,e)}(i,t);var e,r,n,o=ht(i);function i(t){var e,r=t.title,n=t.url,a=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"string"!=typeof r||!r.length)throw new Error("Video title is mandatory");if(e.title=r,"string"!=typeof n||!n.length)throw new Error("Video url is mandatory");return e.url=n,e.action=a||void 0,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"video",payload:{title:this.title,url:this.url,action:this.action,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}},{key:"action",set:function(t){if(t&&!(t instanceof Q))throw new Error("action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&yt(e.prototype,r),n&&yt(e,n),i}(T);function vt(t){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function gt(t,e){return(gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function St(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Pt(t);if(e){var o=Pt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ot(this,r)}}function Ot(t,e){return!e||"object"!==vt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pt(t){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Et=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gt(t,e)}(i,t);var e,r,n,o=St(i);function i(t){var e,r=t.title,n=t.url,a=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"string"!=typeof r||!r.length)throw new Error("Audio title is mandatory");if(e.title=r,"string"!=typeof n||!n.length)throw new Error("Audio url is mandatory");return e.url=n,e.action=a||void 0,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"audio",payload:{title:this.title,url:this.url,action:this.action,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}},{key:"action",set:function(t){if(t&&!(t instanceof Q))throw new Error("Audio action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&wt(e.prototype,r),n&&wt(e,n),i}(T);function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function kt(t,e){return(kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ct(t);if(e){var o=Ct(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Tt(this,r)}}function Tt(t,e){return!e||"object"!==jt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ct(t){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Mt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kt(t,e)}(i,t);var e,r,n,o=Rt(i);function i(t){var e,r=t.title,n=t.url,a=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"string"!=typeof r||!r.length)throw new Error("File title is mandatory");if(e.title=r,"string"!=typeof n||!n.length)throw new Error("File url is mandatory");return e.url=n,e.action=a||void 0,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"file",payload:{title:this.title,url:this.url,action:this.action,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}},{key:"action",set:function(t){if(t&&!(t instanceof Q))throw new Error("action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&_t(e.prototype,r),n&&_t(e,n),i}(T);function xt(t){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Nt(t,e){return(Nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function At(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Dt(t);if(e){var o=Dt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return It(this,r)}}function It(t,e){return!e||"object"!==xt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Dt(t){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nt(t,e)}(i,t);var e,r,n,o=At(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"string"!=typeof t||!t.length)throw new Error("Buttons title is mandatory");return e.title=t,e}return e=i,(r=[{key:"addButton",value:function(t){if(!(t instanceof z))throw new Error("Buttons addButton argument must be an instance of a Button");return this.buttons||(this.buttons=[]),this.buttons.push(t),this}},{key:"toJSON",value:function(){return{type:"buttons",payload:{title:this.title,buttons:this.buttons,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}}])&&qt(e.prototype,r),n&&qt(e,n),i}(T);function Lt(t){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Bt(t,e){return(Bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Gt(t);if(e){var o=Gt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Kt(this,r)}}function Kt(t,e){return!e||"object"!==Lt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Gt(t){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bt(t,e)}(i,t);var e,r,n,o=Ft(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),Array.isArray(t))for(var r=0;r<t.length;r++)e.addCard(t[r]);return e}return e=i,(r=[{key:"addCard",value:function(t){if(!(t instanceof nt))throw new Error("Carousel addCard argument must be an instance of a Card");return this.cards||(this.cards=[]),t.isShallow=!0,this.cards.push(t),this}},{key:"toJSON",value:function(){return{type:"carousel",payload:{cards:this.cards,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}}])&&Jt(e.prototype,r),n&&Jt(e,n),i}(T);function Qt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Vt=function(){function t(e){var r=e.title,n=e.subtitle,o=e.media,i=e.action,a=e.featured;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof r||0===r.length)throw new Error("ListItem title is mandatory");this.title=r,this.subtitle=n||void 0,this.media=o||void 0,this.action=i||void 0,this.featured=a||void 0}var e,r,n;return e=t,(r=[{key:"addButton",value:function(t){if(!(t instanceof z))throw new Error("ListItem addButton argument must be an instance of a Button");return this.buttons||(this.buttons=[]),this.buttons.push(t),this}},{key:"toJSON",value:function(){return{title:this.title,subtitle:this.subtitle,media:this.media,action:this.action,buttons:this.buttons,featured:this.featured}}},{key:"media",set:function(t){if(t&&!(t instanceof Y))throw new Error("ListItem media must be an instance of Media");this._media=t},get:function(){return this._media}},{key:"action",set:function(t){if(t&&!(t instanceof Q))throw new Error("ListItem action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&Qt(e.prototype,r),n&&Qt(e,n),t}();function zt(t){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Xt(t,e){return(Xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=te(t);if(e){var o=te(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Zt(this,r)}}function Zt(t,e){return!e||"object"!==zt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function te(t){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ee(t){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function re(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ne(t,e){return(ne=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ae(t);if(e){var o=ae(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ie(this,r)}}function ie(t,e){return!e||"object"!==ee(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ae(t){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ue(t){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function se(t,e){return(se=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ye(t);if(e){var o=ye(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return le(this,r)}}function le(t,e){return!e||"object"!==ue(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ye(t){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pe(t){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function he(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function be(t,e){return(be=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function de(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ve(t);if(e){var o=ve(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return me(this,r)}}function me(t,e){return!e||"object"!==pe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ve(t){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var we={Message:G,Text:I,Card:nt,Image:ft,Video:mt,Audio:Et,File:Mt,Buttons:Ut,Carousel:Ht,List:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xt(t,e)}(i,t);var e,r,n,o=$t(i);function i(){return Wt(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"addItem",value:function(t){if(!(t instanceof Vt))throw new Error("List addItem argument must be an instance of a ListItem");return t.featured?this.items.splice(0,0,t):this.items.push(t),this}},{key:"addButton",value:function(t){if(!(t instanceof z))throw new Error("List addButton argument must be an instance of a Button");return this.buttons||(this.buttons=[]),this.buttons.push(t),this}},{key:"toJSON",value:function(){return{type:"list",payload:{items:this.items,buttons:this.buttons,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}},{key:"items",get:function(){return this._items||(this._items=[]),this._items=this._items.sort((function(t,e){return t.featured&&!e.featured?-1:!t.featured&&e.featured?1:0})),this._items}}])&&Yt(e.prototype,r),n&&Yt(e,n),i}(T),Location:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ne(t,e)}(i,t);var e,r,n,o=oe(i);function i(t){var e,r=t.title,n=t.lat,a=t.long,u=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"string"!=typeof r||!r.length)throw new Error("Location title is mandatory");if(e.title=r,!n)throw new Error("Location latitude is mandatory");if(e.lat=n,!a)throw new Error("Location longitude is mandatory");return e.long=a,e.action=u||void 0,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"location",payload:{title:this.title,lat:this.lat,long:this.long,action:this.action,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}},{key:"action",set:function(t){if(t&&!(t instanceof Q))throw new Error("Location action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&re(e.prototype,r),n&&re(e,n),i}(T),Custom:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&se(t,e)}(i,t);var e,r,n,o=fe(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"object"!==ue(t))throw new Error("Custom data is mandatory");return e.data=t,e}return e=i,(r=[{key:"toJSON",value:function(){var t=this.data,e=this.quickReplies,r=this.delay,n=this.fallback;return{type:"custom",payload:Object.assign(t,{quickReplies:e}),delay:r||void 0,fallback:n}}}])&&ce(e.prototype,r),n&&ce(e,n),i}(T),Note:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&be(t,e)}(i,t);var e,r,n,o=de(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this);var r=t;if("object"===pe(r)&&(r=t.note),"string"!=typeof r||!r.length)throw new Error("Note is mandatory");return e.note=r,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"note",payload:{note:this.note},delay:this.delay||void 0,fallback:this.fallback}}}])&&he(e.prototype,r),n&&he(e,n),i}(T),Action:Q,Button:z,Media:Y,ListItem:Vt,Param:i,QuickReply:S};function ge(t){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Se(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Oe(t,e){return(Oe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=je(t);if(e){var o=je(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ee(this,r)}}function Ee(t,e){return!e||"object"!==ge(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function je(t){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oe(t,e)}(i,t);var e,r,n,o=Pe(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"object"!==ge(t))throw new Error("Invalid argument provided. Property collection expected");var r=t.speech,n=t.url,a=t.language,u=t.voice;if(void 0===r&&void 0===n)throw new Error("Either speech or URL needs to be provided");if(void 0!==r&&"string"!=typeof r)throw new Error("Speech needs to be text");if(void 0!==n&&("string"!=typeof n||!n.length))throw new Error("Invalid or empty url provided");if(void 0!==u&&-1===ke.voices.indexOf(u))throw new Error('Unsupported voice specified. You need to choose one of: "'.concat(ke.voices.join(", "),'"'));if(e.speech=r||void 0,e.url=n||void 0,e.voice=u||"alice",void 0!==a){if("alice"===e.voice&&-1===ke.languages.alice.indexOf(a))throw new Error('Unsupported language provided. Alice supports one of: "'.concat(ke.languages.alice.join(", "),'"'));if("polly"===e.voice&&-1===ke.languages.polly.indexOf(a))throw new Error('Unsupported language provided. Polly supports one of: "'.concat(ke.languages.polly.join(", "),'"'));if("alice"!==e.voice&&"polly"!==e.voice&&-1===ke.languages.other.indexOf(a))throw new Error('Unsupported language provided. You need to choose one of "'.concat(ke.languages.other.join(", "),'"'))}return e.language=a||void 0,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"phone_say",payload:{speech:this.speech,url:this.url,language:this.language,voice:this.voice}}}}])&&Se(e.prototype,r),n&&Se(e,n),i}(s),ke={voices:["alice","man","woman","polly"],languages:{alice:["da-DK","de-DE","en-AU","en-CA","en-GB","en-IN","en-US","ca-ES","es-ES","es-MX","fi-FI","fr-CA","fr-FR","it-IT","ja-JP","ko-KR","nb-NO","nl-NL","pl-PL","pt-BR","pt-PT","ru-RU","sv-SE","zh-CN","zh-HK","zh-TW"],polly:["Polly.Mads","Polly.Naja","Polly.Lotte","Polly.Ruben","Polly.Nicole","Polly.Russell","Polly.Amy","Polly.Brian","Polly.Emma","Polly.Amy-Neural","Polly.Emma-Neural","Polly.Brian-Neural","Polly.Raveena","Polly.Ivy","Polly.Joanna","Polly.Joey","Polly.Justin","Polly.Kendra","Polly.Kimberly","Polly.Matthew","Polly.Salli","Polly.Ivy-Neural","Polly.Joanna-Neural*","Polly.Kendra-Neural","Polly.Kimberly-Neural","Polly.Salli-Neural","Polly.Joey-Neural","Polly.Justin-Neural","Polly.Matthew-Neural*","Polly.Geraint","Polly.Celine","Polly.Mathieu","Polly.Chantal","Polly.Hans","Polly.Marlene","Polly.Vicki","Polly.Dora","Polly.Karl","Polly.Carla","Polly.Giorgio","Polly.Mizuki","Polly.Takumi","Polly.Liv","Polly.Jacek","Polly.Jan","Polly.Ewa","Polly.Maja","Polly.Ricardo","Polly.Vitoria","Polly.Camila-Neural","Polly.Cristiano","Polly.Ines","Polly.Carmen","Polly.Maxim","Polly.Tatyana","Polly.Conchita","Polly.Enrique","Polly.Miguel","Polly.Penelope","Polly.Lupe-Neural","Polly.Astrid","Polly.Filiz","Polly.Gwyneth"],other:["en","en-gb","es","fr","de"]}},Re=_e;function Te(t){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Me(t,e){return(Me=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ne(t);if(e){var o=Ne(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return qe(this,r)}}function qe(t,e){return!e||"object"!==Te(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ne(t){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ae=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Me(t,e)}(i,t);var e,r,n,o=xe(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return e=i,(r=[{key:"toJSON",value:function(){return{type:"phone_hangup",payload:{}}}}])&&Ce(e.prototype,r),n&&Ce(e,n),i}(s);function Ie(t){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function De(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ue(t,e){return(Ue=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Le(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Be(t);if(e){var o=Be(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Je(this,r)}}function Je(t,e){return!e||"object"!==Ie(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Be(t){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Fe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ue(t,e)}(i,t);var e,r,n,o=Le(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this);var r=t;if("object"===Ie(r)&&(r=t.seconds),"number"!=typeof r||r<0)throw new Error("Seconds need to be a positive number");return e.seconds=r,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"phone_pause",payload:{seconds:this.seconds}}}}])&&De(e.prototype,r),n&&De(e,n),i}(s);function Ke(t){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ge(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function He(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ge(Object(r),!0).forEach((function(e){Qe(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Qe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ze(t,e,r){return(ze="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$e(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function We(t,e){return(We=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=$e(t);if(e){var o=$e(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Xe(this,r)}}function Xe(t,e){return!e||"object"!==Ke(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $e(t){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ze=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&We(t,e)}(i,t);var e,r,n,o=Ye(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this,t);var r=t.expected,n=t.hints,a=t.timeout,u=t.repeat,c=t.profanityFilter,s=t.finishOnKey,f=t.numDigits,l=t.speechTimeout,y=t.speechModel,p=t.preTone,h=t.postTone,b=t.tone;if(void 0!==r&&-1===tr.expected.indexOf(r))throw new Error('Invalid "expected" provided. Needs to be one of: '.concat(tr.expected.join(", ")));if(void 0!==n&&"string"!=typeof n)throw new Error("hints needs to be a valid string");if(void 0!==a&&("number"!=typeof a||a<0))throw new Error("timeout needs to be a positive number of seconds");if(void 0!==u&&("number"!=typeof u||u<0))throw new Error("repeat needs to be a positive number");if(void 0!==c&&"boolean"!=typeof c)throw new Error("profanity filter needs to be a boolean value");if(void 0!==s&&("string"!=typeof s||-1===tr.keys.indexOf(s)&&""!==s))throw new Error("finishOnKey needs to one of the following ".concat(tr.keys.join(", ")," or ''"));if(void 0!==f&&("number"!=typeof f||f<0))throw new Error("numDigits needs to be a positive number");if(void 0!==l&&("number"!=typeof l||l<0))throw new Error("speechTimeout needs to be a positive number");if(void 0!==y&&("string"!=typeof y||-1===tr.models.indexOf(y)))throw new Error("speechModel needs to one of the following ".concat(tr.models.join(", ")," or ''"));return e.expected=r||"any",e.hints=n||void 0,e.timeout=a||void 0,e.repeat=u||1,e.profanityFilter=c||!0,e.finishOnKey=s||void 0,e.numDigits=f||void 0,e.speechTimeout=l||void 0,e.speechModel=y||void 0,e.preTone=p,e.postTone=h,e.tone=b,e}return e=i,(r=[{key:"toJSON",value:function(){var t=this.expected,e=this.hints,r=this.timeout,n=this.repeat,o=this.profanityFilter,a=this.finishOnKey,u=this.numDigits,c=this.speechTimeout,s=this.speechModel,f=this.preTone,l=this.postTone,y=this.tone;return{type:"phone_ask",payload:He(He({},ze($e(i.prototype),"toJSON",this).call(this).payload),{},{expected:t,hints:e,timeout:r,repeat:n,profanityFilter:o,finishOnKey:a,numDigits:u,speechTimeout:c,speechModel:s,preTone:f,postTone:l,tone:y})}}}])&&Ve(e.prototype,r),n&&Ve(e,n),i}(Re),tr={expected:["speech","digits","any"],keys:"0123456789#*".split(""),models:["default","numbers_and_commands","phone_call"]};function er(t){return(er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function nr(t,e){return(nr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function or(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ar(t);if(e){var o=ar(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ir(this,r)}}function ir(t,e){return!e||"object"!==er(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ar(t){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ur={Say:Re,Hangup:Ae,Pause:Fe,Ask:Ze,Dial:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nr(t,e)}(i,t);var e,r,n,o=or(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this);var r=t;if("object"===er(r)&&(r=t.phoneNumber),"string"!=typeof r||!r.length)throw new Error("Phone number is mandatory");return e.phoneNumber=r,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"phone_dial",payload:{phoneNumber:this.phoneNumber}}}}])&&rr(e.prototype,r),n&&rr(e,n),i}(s),Message:w};function cr(t){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function fr(t,e){return(fr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=pr(t);if(e){var o=pr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return yr(this,r)}}function yr(t,e){return!e||"object"!==cr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pr(t){return(pr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var hr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fr(t,e)}(i,t);var e,r,n,o=lr(i);function i(t){var e,r=t.title,n=t.tag;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this);var a=r;if("string"!=typeof a||!a.length)throw new Error("Title is mandatory");if(a.length>65)throw new Error("Title length should be less or equal to 65 symbols");return e.title=a,e.tag=n,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"messenger_otn",payload:{title:this.title,tag:this.tag},delay:this.delay||void 0,fallback:this.fallback}}}])&&sr(e.prototype,r),n&&sr(e,n),i}(s);function br(t){return(br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function mr(t,e){return(mr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=gr(t);if(e){var o=gr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return wr(this,r)}}function wr(t,e){return!e||"object"!==br(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gr(t){return(gr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Sr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mr(t,e)}(i,t);var e,r,n,o=vr(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),!Array.isArray(t)||!t.length)throw new Error("productIds must be an array and contain at least one product ID");return e.productIds=t,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"messenger_products",payload:{productIds:this.productIds},delay:this.delay||void 0,fallback:this.fallback}}}])&&dr(e.prototype,r),n&&dr(e,n),i}(s);function Or(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Er=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Or(this,t);var r=e.title,n=e.subtitle,o=e.quantity,i=e.price,a=e.currency,u=e.imageUrl;if("string"!=typeof r||!r.length)throw new Error("ReceiptElement title is mandatory");if(void 0!==n&&"string"!=typeof n)throw new Error("ReceiptElement subtitle needs to be a valid string");if(void 0!==o&&"number"!=typeof o)throw new Error("ReceiptElement quantity needs to be a valid number");if("number"!=typeof i)throw new Error("ReceiptElement price is mandatory");if(void 0!==a&&"string"!=typeof a)throw new Error("ReceiptElement currency needs to be a valid string");if(void 0!==u&&"string"!=typeof u)throw new Error("ReceiptElement imageUrl needs to be a valid string");this.title=r,this.subtitle=n,this.quantity=o,this.price=i,this.currency=a,this.imageUrl=u}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{title:this.title,subtitle:this.subtitle,quantity:this.quantity,price:this.price,currency:this.currency,imageUrl:this.imageUrl}}}])&&Pr(e.prototype,r),n&&Pr(e,n),t}();function jr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var kr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};jr(this,t);var r=e.street1,n=e.street2,o=e.city,i=e.postalCode,a=e.state,u=e.country;if("string"!=typeof r||0===r.length)throw new Error("ReceiptAddress street1 is mandatory");if("string"!=typeof o||0===o.length)throw new Error("ReceiptAddress city is mandatory");if("string"!=typeof i||0===i.length)throw new Error("ReceiptAddress postalCode is mandatory");if("string"!=typeof a||0===a.length)throw new Error("ReceiptAddress state is mandatory");if("string"!=typeof u||0===u.length)throw new Error("ReceiptAddress country is mandatory");this.street1=r,this.street2=n,this.city=o,this.postalCode=i,this.state=a,this.country=u}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{street1:this.street1,street2:this.street2,city:this.city,postalCode:this.postalCode,state:this.state,country:this.country}}}])&&_r(e.prototype,r),n&&_r(e,n),t}();function Rr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Cr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Rr(this,t);var r=e.name,n=e.amount;if("string"!=typeof r||!r.length)throw new Error("ReceiptAdjustment name is mandatory");if("number"!=typeof n)throw new Error("ReceiptAdjustment amount is mandatory");this.name=r,this.amount=n}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{name:this.name,amount:this.amount}}}])&&Tr(e.prototype,r),n&&Tr(e,n),t}();function Mr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var qr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Mr(this,t);var r=e.subtotal,n=e.shippingCost,o=e.totalTax,i=e.totalCost;if(void 0!==r&&"number"!=typeof r)throw new Error("subtotal needs to be a valid number");if(void 0!==n&&"number"!=typeof n)throw new Error("shippingCost needs to be a valid number");if(void 0!==o&&"number"!=typeof o)throw new Error("totalTax needs to be a valid number");if("number"!=typeof i)throw new Error("ReceiptSummary totalCost is mandatory");this.subtotal=r,this.shippingCost=n,this.totalTax=o,this.totalCost=i}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{subtotal:this.subtotal,shippingCost:this.shippingCost,totalTax:this.totalTax,totalCost:this.totalCost}}}])&&xr(e.prototype,r),n&&xr(e,n),t}();function Nr(t){return(Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ar(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ir(t,e){return(Ir=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Dr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Lr(t);if(e){var o=Lr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ur(this,r)}}function Ur(t,e){return!e||"object"!==Nr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Lr(t){return(Lr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Jr={OTN:hr,Products:Sr,Receipt:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ir(t,e)}(i,t);var e,r,n,o=Dr(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this,t);var r=t.sharable,n=t.recipientName,a=t.merchantName,u=t.orderNumber,c=t.orderUrl,s=t.currency,f=t.paymentMethod,l=t.timestamp,y=t.elements,p=t.address,h=t.summary,b=t.adjustments;if(void 0!==r&&"boolean"!=typeof r)throw new Error("sharable needs to be a boolean value");if(void 0===n||"string"!=typeof n)throw new Error("recipientName needs to be a valid string");if(void 0!==a&&"string"!=typeof a)throw new Error("merchantName needs to be a valid string");if(void 0===u||"string"!=typeof u)throw new Error("orderNumber needs to be a valid string");if(void 0===c||"string"!=typeof c)throw new Error("orderUrl needs to be a valid string");if(void 0===s||"string"!=typeof s)throw new Error("currency needs to be a valid string");if(s.length>3||s.length<2)throw new Error("currency must be provided as for example USD or EUR");if(void 0===f||"string"!=typeof f)throw new Error("paymentMethod needs to be a valid string");if(void 0!==l&&"string"!=typeof l)throw new Error("timestamp needs to be a valid string");if(void 0!==y&&!Array.isArray(y))throw new Error("elements needs to be an array");if(void 0!==p&&"object"!==Nr(p))throw new Error("address needs to be a valid object");if(void 0===h||"object"!==Nr(h))throw new Error("summary needs to be provided");if(void 0!==b&&!Array.isArray(b))throw new Error("adjustments needs to be an array");return e.sharable=r||!1,e.recipientName=n,e.merchantName=a||void 0,e.orderNumber=u,e.orderUrl=c,e.currency=s,e.paymentMethod=f,e.timestamp=l||void 0,e.elements=y,e.address=p||void 0,e.summary=h,e.adjustments=b||void 0,e}return e=i,(r=[{key:"toJSON",value:function(){var t=this.delay,e=this.fallback;return{type:"messenger_receipt",payload:{sharable:this.sharable,recipientName:this.recipientName,merchantName:this.merchantName,orderNumber:this.orderNumber,orderUrl:this.orderUrl,currency:this.currency,paymentMethod:this.paymentMethod,timestamp:this.timestamp,elements:this.elements,address:this.address,summary:this.summary,adjustments:this.adjustments},delay:t||void 0,fallback:e}}}])&&Ar(e.prototype,r),n&&Ar(e,n),i}(s),ReceiptAddress:kr,ReceiptAdjustment:Cr,ReceiptElement:Er,ReceiptSummary:qr};function Br(t){return(Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Kr=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==Br(e))throw new Error("To create an ImageAsset you need a url and mimeType");var r=e.url,n=e.mimeType;if("string"!=typeof r||!r.length)throw new Error("ImageAsset url is required");if("string"!=typeof n||!n.length)throw new Error("ImageAsset mimeType is required");this.url=r,this.mimeType=n}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{type:"image",url:this.url,mimeType:this.mimeType}}}])&&Fr(e.prototype,r),n&&Fr(e,n),t}();function Gr(t){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Qr=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==Gr(e))throw new Error("To create a VideoAsset you need a url and mimeType");var r=e.url,n=e.mimeType;if("string"!=typeof r||!r.length)throw new Error("VideoAsset url is required");if("string"!=typeof n||!n.length)throw new Error("VideoAsset mimeType is required");this.url=r,this.mimeType=n}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{type:"video",url:this.url,mimeType:this.mimeType}}}])&&Hr(e.prototype,r),n&&Hr(e,n),t}();function Vr(t){return(Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Wr=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==Vr(e))throw new Error("To create a InteractiveMessage you at least need a title");var r=e.title,n=e.subtitle,o=e.secondarySubtitle,i=e.tertiarySubtitle,a=e.image,u=e.imageTitle,c=e.imageSubtitle,s=e.style;if("string"!=typeof r)throw new Error("InteractiveMessage title is required");this.title=r,this.subtitle=n,this.secondarySubtitle=o,this.tertiarySubtitle=i,this.image=a,this.imageTitle=u,this.imageSubtitle=c,this.style=s}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{title:this.title,subtitle:this.subtitle,secondarySubtitle:this.secondarySubtitle,tertiarySubtitle:this.tertiarySubtitle,image:this.image,imageTitle:this.imageTitle,imageSubtitle:this.imageSubtitle,style:this.style}}}])&&zr(e.prototype,r),n&&zr(e,n),t}();function Yr(t){return(Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var $r=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==Yr(e))throw new Error("To create a LocationItem you at least need a title");var r=e.latitude,n=e.longitude,o=e.radius,i=e.title;if(void 0!==r){var a=parseFloat(r);if(isNaN(a))throw new Error("Provided latitude must be a float");this.latitude=a}if(void 0!==n){var u=parseFloat(n);if(isNaN(u))throw new Error("Provided longitude must be a float");this.longitude=u}if(void 0!==o){var c=parseFloat(o);if(isNaN(c))throw new Error("Provided radius must be a float");this.radius=c}if("string"!=typeof i)throw new Error("LocationItem title is required");if(!i.length)throw new Error("Provided LocationItem title is empty");this.title=i||void 0}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{latitude:this.latitude,longitude:this.longitude,radius:this.radius,style:this.style,title:this.title,subtitle:this.subtitle}}}])&&Xr(e.prototype,r),n&&Xr(e,n),t}();function Zr(t){return(Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var en=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==Zr(e))throw new Error("To create a TimeItem you at least need a startTime");var r=e.duration,n=e.identifier,o=e.startTime,i=parseInt(r);if(isNaN(i)||i<0)throw new Error("Provided TimeItem duration must be a positive number");if(this.duration=i,void 0!==n&&"string"!=typeof n)throw new Error("Provided TimeItem identifier must be unique string");if("string"!=typeof o&&!(o instanceof Date))throw new Error("TimeItem startTime is required and must be a valid UTC date time");o instanceof Date?this.startTime=o.toISOString():this.startTime=o}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{latitude:this.latitude,longitude:this.longitude,duration:this.duration,style:this.style,startTime:this.startTime,substartTime:this.substartTime}}}])&&tn(e.prototype,r),n&&tn(e,n),t}();function rn(t){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var on=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==rn(e))throw new Error("To create a EventItem you at least need a title");var r=e.identifier,n=e.image,o=e.location,i=e.timeslots,a=e.timezoneOffset,u=e.title;if(void 0!==r&&"string"!=typeof r)throw new Error("Provided EventItem identifier must be unique string");if(void 0!==o&&!(o instanceof $r))throw new Error("Provided location must be an instance of Apple.LocationItem");if(Array.isArray(i))for(var c=0;c<i.length;c++)this.addTimeslot(i[c]);if(void 0!==a){var s=parseInt(a);if(isNaN(s))throw new Error("Provided timezoneOffset must be an integer");this.timezoneOffset=s}if("string"!=typeof u)throw new Error("EventItem title is required");if(!u.length)throw new Error("Provided EventItem title is empty");this.identifier=r||Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),this.image=n||void 0,this.location=o||void 0,this.title=u||void 0}var e,r,n;return e=t,(r=[{key:"addTimeslot",value:function(t){if(!(t instanceof en))throw new Error("EventItem addTimeslot argument must be an instance of a Apple.TimeItem");return this.timeslots||(this.timeslots=[]),this.timeslots.push(t),this}},{key:"toJSON",value:function(){return{identifier:this.identifier,image:this.image,location:this.location,timeslots:this.timeslots,timezoneOffset:this.timezoneOffset,title:this.title}}}])&&nn(e.prototype,r),n&&nn(e,n),t}();function an(t){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function un(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var cn=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==an(e))throw new Error("To create a ListPickerItem you at least need a title");var r=e.identifier,n=e.image,o=e.order,i=e.style,a=e.title,u=e.subtitle;if(void 0!==r&&"string"!=typeof r)throw new Error("Provided ListPickerItem identifier must be unique string");if(void 0!==o&&"number"!=typeof o)throw new Error("Provided ListPickerItem order must be number");if("string"!=typeof a)throw new Error("ListPickerItem title is required");if(!a.length)throw new Error("Provided ListPickerItem title is empty");this.identifier=r||Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),this.image=n||void 0,this.order=o||void 0,this.style=i||void 0,this.title=a||void 0,this.subtitle=u||void 0}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{identifier:this.identifier,image:this.image,order:this.order,style:this.style,title:this.title,subtitle:this.subtitle}}}])&&un(e.prototype,r),n&&un(e,n),t}();function sn(t){return(sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ln=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==sn(e))throw new Error("To create a ListPickerSection you at least need a title");var r=e.items,n=e.multipleSelection,o=e.order,i=e.title;if(void 0!==o&&"number"!=typeof o)throw new Error("Provided ListPickerSection order must be number");if("string"!=typeof i)throw new Error("ListPickerSection title is required");if(!i.length)throw new Error("Provided ListPickerSection title is empty");if(null!=n&&"boolean"!=typeof n)throw new Error("ListPickerSection multipleSelection must be a boolean, true or false");if(Array.isArray(r))for(var a=0;a<r.length;a++)this.addItem(r[a]);this.order=o||void 0,this.title=i||void 0,this.multipleSelection=n||void 0}var e,r,n;return e=t,(r=[{key:"addItem",value:function(t){if(!(t instanceof cn))throw new Error("ListPickerSection addItem argument must be an instance of a Apple.ListPickerItem");return this.items||(this.items=[]),this.items.push(t),this}},{key:"toJSON",value:function(){return{items:this.items,order:this.order,title:this.title}}}])&&fn(e.prototype,r),n&&fn(e,n),t}();function yn(t){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function hn(t,e){return(hn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=mn(t);if(e){var o=mn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return dn(this,r)}}function dn(t,e){return!e||"object"!==yn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mn(t){return(mn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hn(t,e)}(i,t);var e,r,n,o=bn(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"object"!==yn(t))throw new Error("To create a RichLink you need to provide at least a title and url");var r=t.title,n=t.url,a=t.assets;if(Array.isArray(a))for(var u=0;u<a.length;u++)e.addAsset(a[u]);return e.title=r,e.url=n,e}return e=i,(r=[{key:"addAsset",value:function(t){if(!(t instanceof Kr||t instanceof Qr))throw new Error("RichLink asset must be an instance of a Apple.ImageAsset or Apple.VideoAsset");return this.assets||(this.assets=[]),this.assets.push(t),this}},{key:"toJSON",value:function(){return{type:"apple_rich_link",payload:{title:this.title,url:this.url,assets:this.assets},delay:this.delay||void 0,fallback:this.fallback}}}])&&pn(e.prototype,r),n&&pn(e,n),i}(s);function wn(t){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Sn(t,e){return(Sn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function On(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=En(t);if(e){var o=En(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Pn(this,r)}}function Pn(t,e){return!e||"object"!==wn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function En(t){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var jn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sn(t,e)}(i,t);var e,r,n,o=On(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"object"!==wn(t))throw new Error("To create a ListPicker you need to provide at least a title");var r=t.replyMessage,n=t.receivedMessage,a=t.sections,u=t.multipleSelection;if(!(r instanceof Wr))throw new Error("ListPicker requires a replyMessage of the type InteractiveMessage");if(!(n instanceof Wr))throw new Error("ListPicker requires a receivedMessage of the type InteractiveMessage");if(Array.isArray(a))for(var c=0;c<a.length;c++)e.addSection(a[c]);if("boolean"!=typeof u&&void 0!==u)throw new Error("ListPicker multipleSelection must be boolean value");return e.multipleSelection=u,e.replyMessage=r,e.receivedMessage=n,e}return e=i,(r=[{key:"addSection",value:function(t){if(!(t instanceof ln))throw new Error("ListPicker addSection argument must be an instance of a Apple.ListPickerSection");return this.sections||(this.sections=[]),this.sections.push(t),this}},{key:"toJSON",value:function(){return{type:"apple_list_picker",payload:{replyMessage:this.replyMessage,receivedMessage:this.receivedMessage,multipleSelection:this.multipleSelection,sections:this.sections},delay:this.delay||void 0,fallback:this.fallback}}}])&&gn(e.prototype,r),n&&gn(e,n),i}(s);function _n(t){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Rn(t,e){return(Rn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Mn(t);if(e){var o=Mn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Cn(this,r)}}function Cn(t,e){return!e||"object"!==_n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Mn(t){return(Mn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rn(t,e)}(i,t);var e,r,n,o=Tn(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"object"!==_n(t))throw new Error("To create a TimePicker you need to provide at least a title");var r=t.replyMessage,n=t.receivedMessage,a=t.event;if(!(r instanceof Wr))throw new Error("TimePicker requires a replyMessage of the type InteractiveMessage");if(!(n instanceof Wr))throw new Error("TimePicker requires a receivedMessage of the type InteractiveMessage");if(!(a instanceof on))throw new Error("TimePicker requires a event of the type EventItem");return e.replyMessage=r,e.receivedMessage=n,e.event=a,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"apple_time_picker",payload:{replyMessage:this.replyMessage,receivedMessage:this.receivedMessage,event:this.event},delay:this.delay||void 0,fallback:this.fallback}}}])&&kn(e.prototype,r),n&&kn(e,n),i}(s);function qn(t){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function An(t,e){return(An=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function In(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Un(t);if(e){var o=Un(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Dn(this,r)}}function Dn(t,e){return!e||"object"!==qn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Un(t){return(Un=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ln=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&An(t,e)}(i,t);var e,r,n,o=In(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"object"!==qn(t))throw new Error("To create a CustomInteractiveData you need to provide at least a title");var r=t.replyMessage,n=t.receivedMessage,a=t.appIcon,u=t.appId,c=t.appName,s=t.url,f=t.useLiveLayout;if("string"!=typeof a||!a.length)throw new Error("CustomInteractiveData requires a valid appIcon");if("string"!=typeof u||!u.length)throw new Error("CustomInteractiveData requires a valid appId");if("string"!=typeof c||!c.length)throw new Error("CustomInteractiveData requires a valid appName");if("string"!=typeof s||!s.length)throw new Error("CustomInteractiveData requires a valid url");if("boolean"!=typeof f)throw new Error("CustomInteractiveData requires a valid boolean value for useLiveLayout");if(!(n instanceof Wr))throw new Error("CustomInteractiveData requires a receivedMessage of the type InteractiveMessage");if(!(r instanceof Wr))throw new Error("CustomInteractiveData requires a replyMessage of the type InteractiveMessage");return e.replyMessage=r,e.receivedMessage=n,e.appIcon=a,e.appId=u,e.appName=c,e.url=s,e.useLiveLayout=f,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"apple_custom_interactive_data",payload:{replyMessage:this.replyMessage,receivedMessage:this.receivedMessage,appIcon:this.appIcon,appId:this.appId,appName:this.appName,url:this.url,useLiveLayout:this.useLiveLayout},delay:this.delay||void 0,fallback:this.fallback}}}])&&Nn(e.prototype,r),n&&Nn(e,n),i}(s);function Jn(t){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Fn=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==Jn(e))throw new Error("To create an AuthRequest you need to provide all required options");var r=e.clientSecret,n=e.responseEncryptionKey,o=e.responseType,i=e.scope,a=e.state;if(Array.isArray(i))for(var u=0;u<i.length;u++)this.addScope(i[u]);if("string"!=typeof r||!r.length)throw new Error("AuthRequest requires a valid clientSecret");if("string"!=typeof n||!n.length)throw new Error("AuthRequest requires a valid responseEncryptionKey");if("string"!=typeof o||!o.length)throw new Error("AuthRequest requires a valid responseType");if("string"!=typeof a||!a.length)throw new Error("AuthRequest requires a valid state");this.clientSecret=r,this.responseEncryptionKey=n,this.responseType=o,this.state=a}var e,r,n;return e=t,(r=[{key:"addScope",value:function(t){if("string"!=typeof t||!t.length)throw new Error("AuthRequest scope must be a valid string");return this.scope||(this.scope=[]),this.scope.push(t),this}},{key:"toJSON",value:function(){return{clientSecret:this.clientSecret,responseEncryptionKey:this.responseEncryptionKey,responseType:this.responseType,scope:this.scope,state:this.state}}}])&&Bn(e.prototype,r),n&&Bn(e,n),t}();function Kn(t){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Hn(t,e){return(Hn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=zn(t);if(e){var o=zn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Vn(this,r)}}function Vn(t,e){return!e||"object"!==Kn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zn(t){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hn(t,e)}(i,t);var e,r,n,o=Qn(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"object"!==Kn(t))throw new Error("To create an AuthRequest you need to provide all required options");var r=t.oauth2,n=t.receivedMessage,a=t.replyMessage;if(!(a instanceof Wr))throw new Error("AuthRequest requires a replyMessage of the type InteractiveMessage");if(!(n instanceof Wr))throw new Error("AuthRequest requires a receivedMessage of the type InteractiveMessage");if(!(r instanceof Fn))throw new Error("AuthRequest requires a oauth2 property of the type Oauth2");return e.oauth2=r,e.receivedMessage=n,e.replyMessage=a,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"apple_auth_request",payload:{replyMessage:this.replyMessage,receivedMessage:this.receivedMessage,oauth2:this.oauth2},delay:this.delay||void 0,fallback:this.fallback}}}])&&Gn(e.prototype,r),n&&Gn(e,n),i}(s);function Yn(t){return(Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var $n=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==Yn(e))throw new Error("To create a PayEndpoints object we require a set of URLs");var r=e.fallbackUrl,n=e.orderTrackingUrl,o=e.paymentGatewayUrl,i=e.paymentMethodUpdateUrl,a=e.shippingContactUpdateUrl,u=e.shippingMethodUpdateUrl;if(void 0!==r&&("string"!=typeof r||!r.length))throw new Error("PayEndpoints fallbackUrl is required");if(void 0!==n&&("string"!=typeof n||!n.length))throw new Error("PayEndpoints orderTrackingUrl is required");if(void 0!==o&&("string"!=typeof o||!o.length))throw new Error("PayEndpoints paymentGatewayUrl is required");if(void 0!==i&&("string"!=typeof i||!i.length))throw new Error("PayEndpoints paymentMethodUpdateUrl is required");if(void 0!==a&&("string"!=typeof a||!a.length))throw new Error("PayEndpoints shippingContactUpdateUrl is required");if(void 0!==u&&("string"!=typeof u||!u.length))throw new Error("PayEndpoints shippingMethodUpdateUrl is required");this.fallbackUrl=r,this.orderTrackingUrl=n,this.paymentGatewayUrl=o,this.paymentMethodUpdateUrl=i,this.shippingContactUpdateUrl=a,this.shippingMethodUpdateUrl=u}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{fallbackUrl:this.fallbackUrl,orderTrackingUrl:this.orderTrackingUrl,paymentGatewayUrl:this.paymentGatewayUrl,paymentMethodUpdateUrl:this.paymentMethodUpdateUrl,shippingContactUpdateUrl:this.shippingContactUpdateUrl,shippingMethodUpdateUrl:this.shippingMethodUpdateUrl}}}])&&Xn(e.prototype,r),n&&Xn(e,n),t}();function Zn(t){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function to(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var eo=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==Zn(e))throw new Error("To create a PayMerchant object we need all required data");var r=e.identifier,n=e.displayName,o=e.countryCode,i=e.currencyCode,a=e.capabilities,u=e.supportedNetworks;if("string"!=typeof r||!r.length)throw new Error("PayMerchant identifier is required");if("string"!=typeof n||!n.length)throw new Error("PayMerchant displayName is required");if("string"!=typeof o||2!==o.length)throw new Error("PayMerchant countryCode requires a two letter country code for the merchant");if("string"!=typeof i||3!==i.length)throw new Error("PayMerchant currencyCode requires a three letter currency code for the merchant");if(void 0!==a&&!Array.isArray(a))throw new Error("PayMerchant capabilities should be an array of payment capabilities");if(void 0!==u&&!Array.isArray(u))throw new Error("PayMerchant supportedNetworks should be an array of supported networks");this.identifier=r,this.displayName=n,this.countryCode=o,this.currencyCode=i,this.capabilities=a||void 0,this.supportedNetworks=u||void 0}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{identifier:this.identifier,displayName:this.displayName,countryCode:this.countryCode,currencyCode:this.currencyCode,capabilities:this.capabilities,supportedNetworks:this.supportedNetworks}}}])&&to(e.prototype,r),n&&to(e,n),t}();function ro(t){return(ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function no(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var oo=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==ro(e))throw new Error("To create a PayShippingMethod object we need all required data");var r=e.identifier,n=e.amount,o=e.label,i=e.detail;if("string"!=typeof r||!r.length)throw new Error("PayShippingMethod identifier is required");if("string"!=typeof n||!n.length)throw new Error("PayShippingMethod amount is required");if("string"!=typeof o||!o.length)throw new Error("PayShippingMethod label is required");if("string"!=typeof i||!i.length)throw new Error("PayShippingMethod detail is required");this.identifier=r,this.amount=n,this.label=o,this.detail=i}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{identifier:this.identifier,amount:this.amount,label:this.label,detail:this.detail}}}])&&no(e.prototype,r),n&&no(e,n),t}();function io(t){return(io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ao(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var uo=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==io(e))throw new Error("To create a PayLineItem object we need all required data");var r=e.amount,n=e.label,o=e.type;if("string"!=typeof r||!r.length)throw new Error("PayLineItem amount is required");if("string"!=typeof n||!n.length)throw new Error("PayLineItem label is required");if("string"!=typeof o||!o.length)throw new Error("PayLineItem type  is required");this.amount=r,this.label=n,this.type=o}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{amount:this.amount,label:this.label,type:this.type}}}])&&ao(e.prototype,r),n&&ao(e,n),t}();function co(t){return(co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function so(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function fo(t,e){return(fo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=po(t);if(e){var o=po(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return yo(this,r)}}function yo(t,e){return!e||"object"!==co(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function po(t){return(po=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ho={ImageAsset:Kr,VideoAsset:Qr,RichLink:vn,ListPicker:jn,ListPickerSection:ln,ListPickerItem:cn,TimePicker:xn,InteractiveMessage:Wr,LocationItem:$r,EventItem:on,TimeItem:en,CustomInteractiveData:Ln,AuthRequest:Wn,Oauth2:Fn,PayRequest:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fo(t,e)}(i,t);var e,r,n,o=lo(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),"object"!==co(t))throw new Error("To create an PayRequest you need to provide all required options");var r=t.merchant,n=t.endpoints,a=t.lineItems,u=t.shippingMethods,c=t.requiredBillingContactFields,s=t.requiredShippingContactFields,f=t.total,l=t.supportedCountries,y=t.receivedMessage,p=t.replyMessage;if(!(r instanceof eo))throw new Error("PayRequest requires a merchant of the type PayMerchant");if(!(p instanceof Wr))throw new Error("PayRequest requires a replyMessage of the type InteractiveMessage");if(!(y instanceof Wr))throw new Error("PayRequest requires a receivedMessage of the type InteractiveMessage");if(void 0!==n&&!(n instanceof $n))throw new Error("PayRequest requires the endpoints property to be of the type PayEndpoints");if(void 0!==l&&!Array.isArray(l))throw new Error("PayRequest requires the supportedCountries to be an array of two-letter country codes");if(void 0!==c&&!Array.isArray(c))throw new Error("PayRequest requires the requiredBillingContactFields to be an array ");if(void 0!==s&&!Array.isArray(s))throw new Error("PayRequest requires the requiredShippingContactFields to be an array ");if(!(f instanceof uo))throw new Error("PayRequest requires a total of the type PayLineItem");if(Array.isArray(a))for(var h=0;h<a.length;h++)e.addLineItem(a[h]);if(Array.isArray(u))for(var b=0;b<u.length;b++)e.addShippingMethod(u[b]);return e.merchant=r,e.endpoints=n||void 0,e.total=f,e.supportedCountries=l||void 0,e.requiredBillingContactFields=c||void 0,e.requiredShippingContactFields=s||void 0,e.receivedMessage=y,e.replyMessage=p,e}return e=i,(r=[{key:"addLineItem",value:function(t){if(!(t instanceof uo))throw new Error("PayRequest addLineItem argument must be an instance of a Apple.PayLineItem");return this.lineItems||(this.lineItems=[]),this.lineItems.push(t),this}},{key:"addShippingMethod",value:function(t){if(!(t instanceof oo))throw new Error("PayRequest addShippingMethod argument must be an instance of a Apple.PayShippingMethod");return this.shippingMethods||(this.shippingMethods=[]),this.shippingMethods.push(t),this}},{key:"toJSON",value:function(){return{type:"apple_pay_request",payload:{merchant:this.merchant,endpoints:this.endpoints,lineItems:this.lineItems,shippingMethods:this.shippingMethods,requiredBillingContactFields:this.requiredBillingContactFields,requiredShippingContactFields:this.requiredShippingContactFields,total:this.total,supportedCountries:this.supportedCountries,receivedMessage:this.receivedMessage,replyMessage:this.replyMessage},delay:this.delay||void 0,fallback:this.fallback}}}])&&so(e.prototype,r),n&&so(e,n),i}(s),PayEndpoints:$n,PayMerchant:eo,PayLineItem:uo,PayShippingMethod:oo,Message:w,Text:d};function bo(t){return(bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var vo=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==bo(e))throw new Error("To create an Auth request you need to provide all required options");var r=e.clientId,n=e.codeChallenge,o=e.scopes;if(Array.isArray(o))for(var i=0;i<o.length;i++)this.addScope(o[i]);if("string"!=typeof r||!r.length)throw new Error("Auth request requires a valid clientId");if("string"!=typeof n||!n.length)throw new Error("Auth request requires a valid codeChallenge");this.clientId=r,this.codeChallenge=n}var e,r,n;return e=t,(r=[{key:"addScope",value:function(t){if("string"!=typeof t||!t.length)throw new Error("Auth request scopes must be a valid string");return this.scopes||(this.scopes=[]),this.scopes.push(t),this}},{key:"toJSON",value:function(){return{clientId:this.clientId,codeChallenge:this.codeChallenge,scopes:this.scopes}}}])&&mo(e.prototype,r),n&&mo(e,n),t}();function wo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var go=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"==typeof e)return this.type="text",this.text=e,void(this.data=e);var r=e.type,n=e.text,o=e.data,i=e.url,u=e.phoneNumber,c=e.auth,s=e.params;switch(r){case"event":if("string"!=typeof n||!n.length||n.length>25)throw new Error("Suggestion event must be a valid string no longer then 25 characters");if("string"!=typeof o||!o.length)throw new Error("Suggestion data must be a valid event name");this.data=o;break;case"url":if("string"!=typeof n||!n.length||n.length>25)throw new Error("Suggestion text must be a valid string no longer then 25 characters");if("string"!=typeof i||!i.length)throw new Error("Suggestion url must be a valid URL");this.url=i;break;case"phone":if("string"!=typeof n||!n.length||n.length>25)throw new Error("Suggestion text must be a valid string no longer then 25 characters");if("string"!=typeof u||!u.length)throw new Error("Suggestion phoneNumber must be a valid phone number");this.phoneNumber=u;break;case"auth":if(!(c instanceof vo))throw new Error("Suggestion auth must be a valid GBM.Auth object");this.auth=c;break;case"live_agent":break;default:if("string"!=typeof n||!n.length||n.length>25)throw new Error("Suggestion text must be a valid string no longer then 25 characters");if("string"==typeof o&&!o.length)throw new Error("Suggestion data must be a valid string");this.data=o||n}this.type=r||"text",this.text=n||void 0,this.params=a(s)}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){var t=this.type,e=this.text,r=this.data,n=this.url,o=this.phoneNumber,i=this.auth,a=this.params;return{type:t,text:e,data:r,url:n,phoneNumber:o,auth:i,params:u(a)}}}])&&wo(e.prototype,r),n&&wo(e,n),t}();function So(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Oo=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("You should provide a fileUrl for a Media component");var r=e.fileUrl,n=e.thumbnailUrl,o=e.forceRefresh,i=e.altText;if("string"!=typeof r||!r.length)throw new Error("The Media component fileUrl is required and must be a valid URL");if("string"==typeof n&&!r.length)throw new Error("The Media component thumbnailUrl must be a valid URL");if("string"==typeof i&&!i.length)throw new Error("Media alt text must be a valid string");this.fileUrl=r,this.thumbnailUrl=n||void 0,this.forceRefresh=o||!1,this.altText=i||void 0}var e,r,n;return e=t,(r=[{key:"toJSON",value:function(){return{fileUrl:this.fileUrl,thumbnailUrl:this.thumbnailUrl,forceRefresh:this.forceRefresh,altText:this.altText}}}])&&So(e.prototype,r),n&&So(e,n),t}();Oo.HEIGHT={HEIGHT_UNSPECIFIED:"HEIGHT_UNSPECIFIED",SHORT:"SHORT",MEDIUM:"MEDIUM",TALL:"TALL"};var Po=Oo;function Eo(t){return(Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _o(t,e){return(_o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ko(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=To(t);if(e){var o=To(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ro(this,r)}}function Ro(t,e){return!e||"object"!==Eo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function To(t){return(To=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Co=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_o(t,e)}(i,t);var e,r,n,o=ko(i);function i(t){var e,r=t.title,n=t.description,a=t.media;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).title=r||void 0,e.description=n||void 0,e.media=a||void 0,e}return e=i,(r=[{key:"addSuggestion",value:function(t){if(!(t instanceof go))throw new Error("Card addSuggestion argument must be an instance of a Suggestion");return this.suggestions||(this.suggestions=[]),this.suggestions.push(t),this}},{key:"toJSON",value:function(){var t=this.title,e=this.description,r=this.media,n=this.suggestions,o=this.delay,i=this.fallback;return this.isShallow?{title:t,description:e,media:r,suggestions:n}:{type:"gbm_card",payload:{title:t,description:e,media:r,suggestions:n},delay:o||void 0,fallback:i}}},{key:"media",set:function(t){if(t&&!(t instanceof Po))throw new Error("Card media must be an instance of Media");this._media=t},get:function(){return this._media}}])&&jo(e.prototype,r),n&&jo(e,n),i}(s);function Mo(t){return(Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function qo(t,e){return(qo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function No(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Io(t);if(e){var o=Io(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ao(this,r)}}function Ao(t,e){return!e||"object"!==Mo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Io(t){return(Io=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Do=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qo(t,e)}(i,t);var e,r,n,o=No(i);function i(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),!t)return Ao(e);for(var r=Array.isArray(t)?t:Array.isArray(t.cards)?t.cards:[],n=0;n<r.length;n++)e.addCard(r[n]);return t&&t.cardWidth&&i.CardWidth.indexOf(t.cardWidth)&&(e.cardWidth=t.cardWidth),e}return e=i,(r=[{key:"addCard",value:function(t){if(!(t instanceof Co))throw new GBM.Error("Carousel addCard argument must be an instance of a Card");return this.cards||(this.cards=[]),t.isShallow=!0,this.cards.push(t),this}},{key:"toJSON",value:function(){return{type:"gbm_carousel",payload:{cards:this.cards,cardWidth:this.cardWidth},delay:this.delay||void 0,fallback:this.fallback}}}])&&xo(e.prototype,r),n&&xo(e,n),i}(s);function Uo(t){return(Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Bo(t,e){return(Bo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Go(t);if(e){var o=Go(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ko(this,r)}}function Ko(t,e){return!e||"object"!==Uo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Go(t){return(Go=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ho(t){return(Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Vo(t,e){return(Vo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Yo(t);if(e){var o=Yo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Wo(this,r)}}function Wo(t,e){return!e||"object"!==Ho(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yo(t){return(Yo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Do.CardWidth=["CARD_WIDTH_UNSPECIFIED","SMALL","MEDIUM"];var Xo={Card:Co,Carousel:Do,Suggestion:go,Media:Po,Auth:vo,Message:w,Text:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vo(t,e)}(i,t);var e,r,n,o=zo(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this);var r=t;if("object"===Ho(r)&&(r=t.text),"string"!=typeof r||!r.length)throw new Error("Text is mandatory");return e.containsRichText=containsRichText||!0,e.text=r,e}return e=i,(r=[{key:"toJSON",value:function(){return{type:"gbm_text",payload:{text:this.text,containsRichText:this.containsRichText,suggestions:this.suggestions},delay:this.delay||void 0,fallback:this.fallback}}}])&&Qo(e.prototype,r),n&&Qo(e,n),i}(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bo(t,e)}(i,t);var e,r,n,o=Fo(i);function i(){return Lo(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"addSuggestion",value:function(t){if(!(t instanceof go))throw new Error("addSuggestion argument must be an instance of a Suggestion");return this.suggestions||(this.suggestions=[]),this.suggestions.push(t),this}}])&&Jo(e.prototype,r),n&&Jo(e,n),i}(s))},$o=we.Message,Zo=we.Text,ti=we.Card,ei=we.Image,ri=we.Video,ni=we.Audio,oi=we.File,ii=we.Buttons,ai=we.Carousel,ui=we.List,ci=we.Location,si=we.Custom,fi=we.Note,li=we.Action,yi=we.Button,pi=we.Media,hi=we.ListItem,bi=we.Param,di=we.QuickReply}]);