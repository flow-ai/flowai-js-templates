var Flowai=function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.r(e);var i=function(){function t(e,n){var r,i;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e&&"object"===o(e)?(r=e.label,i=e.value):(r=e,i=n),!r||"string"!=typeof r||!r.length)throw new Error("Param label should be a valid string");this.label=r,this.value=i}var e,n,i;return e=t,(n=[{key:"toJSON",value:function(){return{label:this.label,value:this.value}}}])&&r(e.prototype,n),i&&r(e,i),t}(),u=function(t){var e=[],n=Array.isArray(t),r=t instanceof i,u="object"===o(t);if(t&&!r&&!u&&!n)throw new Error("param should be an instance of Param or an array of Param instances");if(r)e.push(t);else if(n)for(var a=0;a<t.length;a++)if(t[a]instanceof i)e.push(t[a]);else{if("object"!==o(t[a]))throw new Error("any item inside a param array should be an instance of Param or an object");var c=t[a],f=c.label,l=c.value;f&&l&&e.push(new i({label:f,value:l}))}else u&&t.label&&t.value?e.push(new i(t)):u&&Object.keys(t).forEach((function(n){var o=t[n];Array.isArray(o)&&o.forEach((function(t){e.push(new i(n,t.value))}))}));return e.length?e:void 0},a=function(t){if(Array.isArray(t)){for(var e={},n=0;n<t.length;n++){var o=t[n],r=o.label,i=o.value;e[r]||(e[r]=[]),e[r].push({value:i})}return e}};function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var f=function(){function t(e){var n=e.label,o=e.type,r=e.value,i=e.param,a=e.params;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"text"===o&&("string"!=typeof n||!n.length))throw new Error("QuickReply label when it has the type text must be as string");if(r&&"string"!=typeof r)throw new Error("QuickReply value must be as string");"string"!=typeof o||0===o.length?this.type="text":this.type=o,this.params=u(i||a),this.value=r||n,this.label=n}var e,n,o;return e=t,(n=[{key:"toJSON",value:function(){var t=this.label,e=this.value,n=this.type,o=this.params;return{label:t,value:e,type:n,params:a(o)}}}])&&c(e.prototype,n),o&&c(e,o),t}();function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"addQuickReply",value:function(t){if(!(t instanceof f))throw new Error("addQuickReply argument must be an instance of a QuickReply");return this.quickReplies||(this.quickReplies=[]),this.quickReplies.push(t),this}},{key:"delay",set:function(t){if("number"!=typeof t)throw new Error("Delay must be a number");if(t<0)throw new Error("Delay must be positive number");this._delay=t},get:function(){return this._delay||0}},{key:"fallback",set:function(t){if("string"!=typeof t&&void 0!==t)throw new Error("Fallback must be a string or undefined");this._fallback=t},get:function(){return this._fallback||void 0}}])&&l(e.prototype,n),o&&l(e,o),t}();function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function b(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=b(this,h(e).call(this));var o=t;if("object"===p(o)&&(o=t.text),"string"!=typeof o||!o.length)throw new Error("Text is mandatory");return n.text=o,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(e,t),n=e,(o=[{key:"toJSON",value:function(){return{type:"text",payload:{text:this.text,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}}])&&y(n.prototype,o),r&&y(n,r),e}(s);function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var O=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e&&!Array.isArray(e)||0===e.length)throw new Error("fallback is mandatory and must be a string or string array");if(Array.isArray(e))for(var o=0;o<e.length;o++)if("string"!=typeof e[o])throw new Error("fallback array argument can only contain strings");this.fallback=e,"object"===w(n)&&(this.meta=n)}var e,n,o;return e=t,(n=[{key:"addResponse",value:function(t,e){if(!(t instanceof s))throw new Error("addResponse argument must be an instance of a Template");return"number"==typeof d&&(t.delay=e),this.responses||(this.responses=[]),this.responses.push(t),this}},{key:"addQuickReply",value:function(t){if(!(t instanceof f))throw new Error("addQuickReply argument must be an instance of a QuickReply");var e=this.fallback,n=Array.isArray(e);return Array.isArray(this.responses)&&this.responses.length||(this.responses=n?e.map((function(t){return new v(t)})):[new v(e)]),this.responses[this.responses.length-1].addQuickReply(t),this}},{key:"toJSON",value:function(){var t=this.fallback,e=this.responses,n=this.meta,o=Array.isArray(t),r=t;if(o){for(var i=", ",u=0;u<t.length;u++)if(/[.!?]$/.test(t[u])){i=" ";break}r=t.join(i)}return Array.isArray(e)&&e.length?{fallback:r,responses:e,meta:n}:{fallback:r,responses:o?t.map((function(t){return new v(t)})):[new v(t)]}}}])&&g(e.prototype,n),o&&g(e,o),t}();function _(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var j=function(){function t(e){var n=e.type,o=e.value,r=e.param;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof o||0===o.length)throw new Error("Action value is mandatory");if(this.value=o,"string"!=typeof n||0===n.length)throw new Error("Action type is mandatory");this.type=n,this.params=u(r)}var e,n,o;return e=t,(n=[{key:"toJSON",value:function(){var t=this.type,e=this.value,n=this.params;return{type:t,value:e,params:a(n)}}}])&&_(e.prototype,n),o&&_(e,o),t}();function k(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var S=function(){function t(e){var n=e.type,o=e.label,r=e.value,i=e.param,a=e.params;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof n||0===n.length)throw new Error("Button type is mandatory");if("string"!=typeof o||0===o.length)throw new Error("Button label is mandatory");if("string"!=typeof r||0===r.length)throw new Error("Button value is mandatory");this.params=u(i||a),this.type=n,this.label=o,this.value=r}var e,n,o;return e=t,(n=[{key:"toJSON",value:function(){var t=this.type,e=this.label,n=this.value,o=this.params;return{type:t,label:e,value:n,params:a(o)}}}])&&k(e.prototype,n),o&&k(e,o),t}();function E(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var P=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("You should provide an url and type for a Media component");if("string"==typeof e)throw new Error("You should provide an url and type not a string for a Media component");var n=e.url,o=e.type;if("string"!=typeof n||0===n.length)throw new Error("url is mandatory for a Media component");if("string"!=typeof o||0===o.length)throw new Error("type is mandatory for a Media component");this.url=n,this.type=o}var e,n,o;return e=t,(n=[{key:"toJSON",value:function(){return{url:this.url,type:this.type}}}])&&E(e.prototype,n),o&&E(e,o),t}();function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function x(t,e){return!e||"object"!==R(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var N=function(t){function e(t){var n,o=t.title,r=t.subtitle,i=t.media,u=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=x(this,C(e).call(this)),"string"!=typeof o||!o.length)throw new Error("Card title is mandatory");return n.title=o,n.subtitle=r||void 0,n.media=i||void 0,n.action=u||void 0,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(e,t),n=e,(o=[{key:"addButton",value:function(t){if(!(t instanceof S))throw new Error("Card addButton argument must be an instance of a Button");return this.buttons||(this.buttons=[]),this.buttons.push(t),this}},{key:"toJSON",value:function(){var t=this.title,e=this.subtitle,n=this.media,o=this.action,r=this.buttons,i=this.quickReplies,u=this.delay,a=this.fallback;return this.isShallow?{title:t,subtitle:e,media:n,action:o,buttons:r,quickReplies:i}:{type:"card",payload:{title:t,subtitle:e,media:n,action:o,buttons:r,quickReplies:i},delay:u||void 0,fallback:a}}},{key:"media",set:function(t){if(t&&!(t instanceof P))throw new Error("Card media must be an instance of Media");this._media=t},get:function(){return this._media}},{key:"action",set:function(t){if(t&&!(t instanceof j))throw new Error("Card action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&T(n.prototype,o),r&&T(n,r),e}(s);function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function B(t,e){return!e||"object"!==q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I=function(t){function e(t){var n,o=t.title,r=t.url,i=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=B(this,L(e).call(this)),"string"!=typeof o||!o.length)throw new Error("Image title is mandatory");if(n.title=o,"string"!=typeof r||!r.length)throw new Error("Image url is mandatory");return n.url=r,n.action=i||void 0,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(e,t),n=e,(o=[{key:"toJSON",value:function(){return{type:"image",payload:{title:this.title,url:this.url,action:this.action,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}},{key:"action",set:function(t){if(t&&!(t instanceof j))throw new Error("action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&J(n.prototype,o),r&&J(n,r),e}(s);function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Q(t,e){return!e||"object"!==D(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Y=function(t){function e(t){var n,o=t.title,r=t.url,i=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=Q(this,K(e).call(this)),"string"!=typeof o||!o.length)throw new Error("Video title is mandatory");if(n.title=o,"string"!=typeof r||!r.length)throw new Error("Video url is mandatory");return n.url=r,n.action=i||void 0,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e)}(e,t),n=e,(o=[{key:"toJSON",value:function(){return{type:"video",payload:{title:this.title,url:this.url,action:this.action,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}},{key:"action",set:function(t){if(t&&!(t instanceof j))throw new Error("action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&F(n.prototype,o),r&&F(n,r),e}(s);function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function H(t,e){return!e||"object"!==z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function G(t){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var X=function(t){function e(t){var n,o=t.title,r=t.url,i=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=H(this,G(e).call(this)),"string"!=typeof o||!o.length)throw new Error("Audio title is mandatory");if(n.title=o,"string"!=typeof r||!r.length)throw new Error("Audio url is mandatory");return n.url=r,n.action=i||void 0,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}(e,t),n=e,(o=[{key:"toJSON",value:function(){return{type:"audio",payload:{title:this.title,url:this.url,action:this.action,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}},{key:"action",set:function(t){if(t&&!(t instanceof j))throw new Error("Audio action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&V(n.prototype,o),r&&V(n,r),e}(s);function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function tt(t,e){return!e||"object"!==$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function et(t){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nt(t,e){return(nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ot=function(t){function e(t){var n,o=t.title,r=t.url,i=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=tt(this,et(e).call(this)),"string"!=typeof o||!o.length)throw new Error("File title is mandatory");if(n.title=o,"string"!=typeof r||!r.length)throw new Error("File url is mandatory");return n.url=r,n.action=i||void 0,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(e,t),n=e,(o=[{key:"toJSON",value:function(){return{type:"file",payload:{title:this.title,url:this.url,action:this.action,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}},{key:"action",set:function(t){if(t&&!(t instanceof j))throw new Error("action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&Z(n.prototype,o),r&&Z(n,r),e}(s);function rt(t){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function it(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ut(t,e){return!e||"object"!==rt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function at(t){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ct(t,e){return(ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ft=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=ut(this,at(e).call(this)),"string"!=typeof t||!t.length)throw new Error("Buttons title is mandatory");return n.title=t,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ct(t,e)}(e,t),n=e,(o=[{key:"addButton",value:function(t){if(!(t instanceof S))throw new Error("Buttons addButton argument must be an instance of a Button");return this.buttons||(this.buttons=[]),this.buttons.push(t),this}},{key:"toJSON",value:function(){return{type:"buttons",payload:{title:this.title,buttons:this.buttons,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}}])&&it(n.prototype,o),r&&it(n,r),e}(s);function lt(t){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function st(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function pt(t,e){return!e||"object"!==lt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yt(t){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bt(t,e){return(bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ht=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=pt(this,yt(e).call(this)),Array.isArray(t))for(var o=0;o<t.length;o++)n.addCard(t[o]);return n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bt(t,e)}(e,t),n=e,(o=[{key:"addCard",value:function(t){if(!(t instanceof N))throw new Error("Carousel addCard argument must be an instance of a Card");return this.cards||(this.cards=[]),t.isShallow=!0,this.cards.push(t),this}},{key:"toJSON",value:function(){return{type:"carousel",payload:{cards:this.cards,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}}])&&st(n.prototype,o),r&&st(n,r),e}(s);function dt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var mt=function(){function t(e){var n=e.title,o=e.subtitle,r=e.media,i=e.action,u=e.featured;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof n||0===n.length)throw new Error("ListItem title is mandatory");this.title=n,this.subtitle=o||void 0,this.media=r||void 0,this.action=i||void 0,this.featured=u||void 0}var e,n,o;return e=t,(n=[{key:"addButton",value:function(t){if(!(t instanceof S))throw new Error("ListItem addButton argument must be an instance of a Button");return this.buttons||(this.buttons=[]),this.buttons.push(t),this}},{key:"toJSON",value:function(){return{title:this.title,subtitle:this.subtitle,media:this.media,action:this.action,buttons:this.buttons,featured:this.featured}}},{key:"media",set:function(t){if(t&&!(t instanceof P))throw new Error("ListItem media must be an instance of Media");this._media=t},get:function(){return this._media}},{key:"action",set:function(t){if(t&&!(t instanceof j))throw new Error("ListItem action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&dt(e.prototype,n),o&&dt(e,o),t}();function vt(t){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function gt(t,e){return!e||"object"!==vt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ot(t){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _t(t,e){return(_t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var jt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),gt(this,Ot(e).apply(this,arguments))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_t(t,e)}(e,t),n=e,(o=[{key:"addItem",value:function(t){if(!(t instanceof mt))throw new Error("List addListItem argument must be an instance of a ListItem");return t.featured?this.items.splice(0,0,t):this.items.push(t),this}},{key:"addButton",value:function(t){if(!(t instanceof S))throw new Error("List addButton argument must be an instance of a Button");return this.buttons||(this.buttons=[]),this.buttons.push(t),this}},{key:"toJSON",value:function(){return{type:"list",payload:{items:this.items,buttons:this.buttons,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}},{key:"items",get:function(){return this._items||(this._items=[]),this._items=this._items.sort((function(t,e){return t.featured&&!e.featured?-1:!t.featured&&e.featured?1:0})),this._items}}])&&wt(n.prototype,o),r&&wt(n,r),e}(s);function kt(t){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function St(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Et(t,e){return!e||"object"!==kt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pt(t){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rt(t,e){return(Rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Tt=function(t){function e(t){var n,o=t.title,r=t.lat,i=t.long,u=t.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=Et(this,Pt(e).call(this)),"string"!=typeof o||!o.length)throw new Error("Location title is mandatory");if(n.title=o,!r)throw new Error("Location latitude is mandatory");if(n.lat=r,!i)throw new Error("Location longitude is mandatory");return n.long=i,n.action=u||void 0,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rt(t,e)}(e,t),n=e,(o=[{key:"toJSON",value:function(){return{type:"location",payload:{title:this.title,lat:this.lat,long:this.long,action:this.action,quickReplies:this.quickReplies},delay:this.delay||void 0,fallback:this.fallback}}},{key:"action",set:function(t){if(t&&!(t instanceof j))throw new Error("Location action must be an instance of Action");this._action=t},get:function(){return this._action}}])&&St(n.prototype,o),r&&St(n,r),e}(s);function xt(t){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ct(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function At(t,e){return!e||"object"!==xt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nt(t){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qt(t,e){return(qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Jt=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=At(this,Nt(e).call(this)),"object"!==xt(t))throw new Error("Custom data is mandatory");return n.data=t,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qt(t,e)}(e,t),n=e,(o=[{key:"toJSON",value:function(){var t=this.data,e=this.quickReplies,n=this.delay,o=this.fallback;return{type:"custom",payload:Object.assign(t,{quickReplies:e}),delay:n||void 0,fallback:o}}}])&&Ct(n.prototype,o),r&&Ct(n,r),e}(s);function Bt(t){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Mt(t,e){return!e||"object"!==Bt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function It(t){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Dt(t,e){return(Dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ft=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=Mt(this,It(e).call(this)),"object"!==Bt(t))throw new Error("Invalid argument provided. Property collection expected");var o=t.speech,r=t.url,i=t.language,u=t.voice;if(void 0===o&&void 0===r)throw new Error("Either speech or URL needs to be provided");if(void 0!==o&&"string"!=typeof o)throw new Error("Speech needs to be text");if(void 0!==r&&("string"!=typeof r||!r.length))throw new Error("Invalid or empty url provided");if(void 0!==u&&-1===Qt.voices.indexOf(u))throw new Error('Unsupported voice specified. You need to choose one of: "'.concat(Qt.voices.join(", "),'"'));if(n.speech=o||void 0,n.url=r||void 0,n.voice=u||"alice",void 0!==i){if("alice"===n.voice&&-1===Qt.languages.alice.indexOf(i))throw new Error('Unsupported language provided. Alice supports one of: "'.concat(Qt.languages.alice.join(", "),'"'));if("alice"!==n.voice&&-1===Qt.languages.other.indexOf(i))throw new Error('Unsupported language provided. You need to choose one of "'.concat(Qt.languages.other.join(", "),'"'))}return n.language=i||void 0,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dt(t,e)}(e,t),n=e,(o=[{key:"toJSON",value:function(){return{type:"phone_say",payload:{speech:this.speech,url:this.url,language:this.language,voice:this.voice}}}}])&&Lt(n.prototype,o),r&&Lt(n,r),e}(s),Qt={voices:["alice","man","woman"],languages:{alice:["da-DK","de-DE","en-AU","en-CA","en-GB","en-IN","en-US","ca-ES","es-ES","es-MX","fi-FI","fr-CA","fr-FR","it-IT","ja-JP","ko-KR","nb-NO","nl-NL","pl-PL","pt-BR","pt-PT","ru-RU","sv-SE","zh-CN","zh-HK","zh-TW"],other:["en","en-gb","es","fr","de"]}},Kt=Ft;function Ut(t){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function zt(t,e){return!e||"object"!==Ut(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vt(t){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ht(t,e){return(Ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Gt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),zt(this,Vt(e).call(this))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ht(t,e)}(e,t),n=e,(o=[{key:"toJSON",value:function(){return{type:"phone_hangup",payload:{}}}}])&&Yt(n.prototype,o),r&&Yt(n,r),e}(s);function Wt(t){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function $t(t,e){return!e||"object"!==Wt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zt(t){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function te(t,e){return(te=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ee=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=$t(this,Zt(e).call(this));var o=t;if("object"===Wt(o)&&(o=t.seconds),"number"!=typeof o||o<0)throw new Error("Seconds need to be a positive number");return n.seconds=o,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&te(t,e)}(e,t),n=e,(o=[{key:"toJSON",value:function(){return{type:"phone_pause",payload:{seconds:this.seconds}}}}])&&Xt(n.prototype,o),r&&Xt(n,r),e}(s);function ne(t){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oe(n,!0).forEach((function(e){ie(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oe(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ue(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ae(t,e){return!e||"object"!==ne(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ce(t,e,n){return(ce="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fe(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function fe(t){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function le(t,e){return(le=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var se=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=ae(this,fe(e).call(this,t));var o=t.expected,r=t.hints,i=t.timeout,u=t.repeat,a=t.profanityFilter,c=t.finishOnKey,f=t.numDigits,l=t.speechTimeout,s=t.speechModel;if(void 0!==o&&-1===pe.expected.indexOf(o))throw new Error('Invalid "expected" provided. Needs to be one of: '.concat(pe.expected.join(", ")));if(void 0!==r&&"string"!=typeof r)throw new Error("hints needs to be a valid string");if(void 0!==i&&("number"!=typeof i||i<0))throw new Error("timeout needs to be a positive number of seconds");if(void 0!==u&&("number"!=typeof u||u<0))throw new Error("repeat needs to be a positive number");if(void 0!==a&&"boolean"!=typeof a)throw new Error("profanity filter needs to be a boolean value");if(void 0!==c&&("string"!=typeof c||-1===pe.keys.indexOf(c)&&""!==c))throw new Error("finishOnKey needs to one of the following ".concat(pe.keys.join(", ")," or ''"));if(void 0!==f&&("number"!=typeof f||f<0))throw new Error("numDigits needs to be a positive number");if(void 0!==l&&("number"!=typeof l||l<0))throw new Error("speechTimeout needs to be a positive number");if(void 0!==s&&("string"!=typeof s||-1===pe.models.indexOf(s)))throw new Error("speechModel needs to one of the following ".concat(pe.models.join(", ")," or ''"));return n.expected=o||"any",n.hints=r||void 0,n.timeout=i||void 0,n.repeat=u||1,n.profanityFilter=a||!0,n.finishOnKey=c||void 0,n.numDigits=f||void 0,n.speechTimeout=l||void 0,n.speechModel=s||void 0,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&le(t,e)}(e,t),n=e,(o=[{key:"toJSON",value:function(){var t=this.expected,n=this.hints,o=this.timeout,r=this.repeat,i=this.profanityFilter,u=this.finishOnKey,a=this.numDigits,c=this.speechTimeout,f=this.speechModel;return{type:"phone_ask",payload:re({},ce(fe(e.prototype),"toJSON",this).call(this).payload,{expected:t,hints:n,timeout:o,repeat:r,profanityFilter:i,finishOnKey:u,numDigits:a,speechTimeout:c,speechModel:f})}}}])&&ue(n.prototype,o),r&&ue(n,r),e}(Kt),pe={expected:["speech","digits","any"],keys:"0123456789#*".split(""),models:["default","numbers_and_commands","phone_call"]},ye=se;function be(t){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function he(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function de(t,e){return!e||"object"!==be(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function me(t){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ve(t,e){return(ve=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var we=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=de(this,me(e).call(this));var o=t;if("object"===be(o)&&(o=t.phoneNumber),"string"!=typeof o||!o.length)throw new Error("Phone number is mandatory");return n.phoneNumber=o,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ve(t,e)}(e,t),n=e,(o=[{key:"toJSON",value:function(){return{type:"phone_dial",payload:{phoneNumber:this.phoneNumber}}}}])&&he(n.prototype,o),r&&he(n,r),e}(s);n.d(e,"Phone",(function(){return ge})),n.d(e,"Message",(function(){return O})),n.d(e,"Text",(function(){return v})),n.d(e,"Card",(function(){return N})),n.d(e,"Image",(function(){return I})),n.d(e,"Video",(function(){return Y})),n.d(e,"Audio",(function(){return X})),n.d(e,"File",(function(){return ot})),n.d(e,"Buttons",(function(){return ft})),n.d(e,"Carousel",(function(){return ht})),n.d(e,"List",(function(){return jt})),n.d(e,"Location",(function(){return Tt})),n.d(e,"Custom",(function(){return Jt})),n.d(e,"Action",(function(){return j})),n.d(e,"Button",(function(){return S})),n.d(e,"Media",(function(){return P})),n.d(e,"ListItem",(function(){return mt})),n.d(e,"Param",(function(){return i})),n.d(e,"QuickReply",(function(){return f}));var ge={Say:Kt,Hangup:Gt,Pause:ee,Ask:ye,Dial:we}}]);